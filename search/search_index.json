{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Hi there! I'm Nicholas and I work as a junior doctor in Singapore. At the moment, I'm working on my self-hosted server and exploring algorithmic trading . Some of my interests: Badminton Cooking Finance Lucid dreaming 2 Mountaineering Photography Philosophy and Zen 1 Piano Programming Skiing You can reach me at: Email Github Programming Languages Libraries Software It is impossible to live without failing at something, unless you live so cautiously that you might as well not have lived at all - in which case, you fail by default. J. K. Rowling I'm a big fan of Alan Watts, an American who was deeply involved in the promotion of Japanese Zen to the world. His videos and writings are frank, witty and hint at the beauty of his thought. \u21a9 Think being able to travel anywhere in the world whenever you sleep. Or speak to anyone, living or dead, knowing that it's your subconscious replying you. \u21a9","title":"Home"},{"location":"#programming-languages","text":"","title":"Programming Languages"},{"location":"#libraries","text":"","title":"Libraries"},{"location":"#software","text":"It is impossible to live without failing at something, unless you live so cautiously that you might as well not have lived at all - in which case, you fail by default. J. K. Rowling I'm a big fan of Alan Watts, an American who was deeply involved in the promotion of Japanese Zen to the world. His videos and writings are frank, witty and hint at the beauty of his thought. \u21a9 Think being able to travel anywhere in the world whenever you sleep. Or speak to anyone, living or dead, knowing that it's your subconscious replying you. \u21a9","title":"Software"},{"location":"about/","text":"About Myself Credits: Alex of Ithaca, NY ( CC BY 2.0 ) My worldview aligns most closely with Stoicism. Writing at the speed of thought I used to dream about building a device which could record your thoughts. Suppose you were out on a run, and an idea popped into your head. It would be quite inconvenient to stop, take out your phone or pen, and jot down your thoughts - the act of recording interrupts the flow. Imagine instead that you could just think, say 'I want to visit so-and-so', and a pocket-sized device, carried by you, would dutifully record that thought verbatim. It could also add tags, such as a category, much like a note-taking app. This device wouldn't be limited by your writing speed or rate of speech. The barrier would lie not in the device, but in the user - the speed of their thought, the ultimate barrier. Unfortunately, as of the time I am writing this, no such technology exists. The fastest way we can record our thoughts now is by speech recognition technology, since we speak faster than we type. The accuracy is improving steadily. However,unlike typing, speaking offers less in the way of privacy (barring subvocalization). I like typing my thoughts out, especially on a pretty editor with a nice, monospaced font, such as VSCode with JetBrains Mono, which is my current setup. I type in Dvorak as there's more alternation between the left and right hands compared to QWERTY. There's something sublimely satisfying, seeing paragraphs of evenly spaced text fill a blank editor screen, with the squiggles of the autocorrect flashing now and then. On some days, the rain and thunder might be pouring outside, while I fix and commit code, taking care to write each subroutine and function as elegantly as possible, with no unnecessary load on the computer. This strive towards perfection annoyed even myself initially, as I often got stuck on a particular feature for days. However, it soon began to feel sort of like a meditative process, almost Zen-like, where the goal was not in the resolution of the issue, but rather in the journey itself, and the numerous libraries I picked up along the way. To me, coding is about building things and fixing those very same structures. Unlike in the real world, however, one can build anything imaginable in code. Any form of control or automation so desired is attainable, limited only by the laws of logic. Writing a program is like maintaining a garden. The collaborative process in coding is unique to the field. We write programs to automate menial tasks. Later on, we release them to the public domain, where other people build larger programs on top of them, and in turn release them. This eventually culminates in large but polished libraries such as React and Django, or refinements to the languages themselves such as ES6. When you import React from 'react' , destructure a variable with ... or debounce a function, you are calling upon the work of thousands of people who have developed these facilities, sometimes to solve the very same problem you are facing, and almost instantaneously. It is almost as if you are coding with the world at large. My Journey I started out by reading books about computer hacking. Long ago, I borrowed a book on computer security (it was a thick book with a picture of a chessboard). I read about NMAP, TCP/IP, exploits on the IIS server (CodeRed), Windows LANMAN...though I didn't understand much then, I knew I really wanted to learn more about computers. \"The programmer, like the poet, works only slightly removed from pure thought-stuff. He builds his castles in the air, from air, creating by exertion of the imagination. Few media of creation are so flexible, so easy to polish and rework, so readily capable of realizing grand conceptual structures.\" - Frederic P. Brooks I was interested in computers and IT since I was in primary school. The web was in its infancy then; I still remember using 56kbps dialup. Ironically, most of my interest came about when my parents locked my computer and I had to figure out ways of circumvention (booting Linux, keyloggers...). I learnt about networking from trying to configure the routers in my house mostly by trial and error - those IT people my parents called charged something north of $50 just for tweaking settings like DHCP or DNS and security. The 1999 movie 'The Matrix' was also a big inspiration to me. I read The Art of Computer Virus Research and Defence sometime in the 2000s. It read like a novel, detailing the different methods virus writers would use, and the catch up game antivirus vendors would play. Some of the methods (like polymorphic encryption, virtual machines) used by the virus writers were incredibly complicated, but yet, amazingly, the authors of the book were able to provide a detection heuristic for them. Later on, my portable hard drive, filled with most of my personal data collected over many years, crashed. My diaries, personal notes, photos were gone. That was when I began reading on filesystems ($MFT, streams, MBR/GPT) and data recovery (I couldn't buy EnCase so I made do with dd and a hex editor). Although I wasn't successful in recovering my data, I finally understood how filesystems and their fault tolerance mechanisms worked. This screenshot (20kB) is larger than the program (4kB) I briefly read about x86 assembly and reverse engineering. I was inspired by the crackers of the day (Razor 1911, FAiRLiGHT, DEViANCE) and the demoscene. People could do crazy things with pure machine code - rgba made an entire mountain simulation with music in 4kB! I tried briefly reverse engineering some small programs. I found it rather complicated, and although I did succeed with some (patching with NOPs), I never really continued programming with assembly. In high school I played mostly with the Windows OS and its internals. I had fun with bruteforcing Windows passwords with tools like L0phtCrack/Cain and Abel. It was also my introduction to the world of cryptography, spurred further by allegations that the US government was decrypting internet communications and had the capability to decrypt 128-bit AES. I've written a program to search for image duplicates via convolutional neural networks and cosine similarity in Keras. I've also reversed engineered my house DVR using Wireshark and the sockets library in Python.","title":"About Me"},{"location":"about/#about-myself","text":"Credits: Alex of Ithaca, NY ( CC BY 2.0 ) My worldview aligns most closely with Stoicism.","title":"About Myself"},{"location":"about/#writing-at-the-speed-of-thought","text":"I used to dream about building a device which could record your thoughts. Suppose you were out on a run, and an idea popped into your head. It would be quite inconvenient to stop, take out your phone or pen, and jot down your thoughts - the act of recording interrupts the flow. Imagine instead that you could just think, say 'I want to visit so-and-so', and a pocket-sized device, carried by you, would dutifully record that thought verbatim. It could also add tags, such as a category, much like a note-taking app. This device wouldn't be limited by your writing speed or rate of speech. The barrier would lie not in the device, but in the user - the speed of their thought, the ultimate barrier. Unfortunately, as of the time I am writing this, no such technology exists. The fastest way we can record our thoughts now is by speech recognition technology, since we speak faster than we type. The accuracy is improving steadily. However,unlike typing, speaking offers less in the way of privacy (barring subvocalization). I like typing my thoughts out, especially on a pretty editor with a nice, monospaced font, such as VSCode with JetBrains Mono, which is my current setup. I type in Dvorak as there's more alternation between the left and right hands compared to QWERTY. There's something sublimely satisfying, seeing paragraphs of evenly spaced text fill a blank editor screen, with the squiggles of the autocorrect flashing now and then. On some days, the rain and thunder might be pouring outside, while I fix and commit code, taking care to write each subroutine and function as elegantly as possible, with no unnecessary load on the computer. This strive towards perfection annoyed even myself initially, as I often got stuck on a particular feature for days. However, it soon began to feel sort of like a meditative process, almost Zen-like, where the goal was not in the resolution of the issue, but rather in the journey itself, and the numerous libraries I picked up along the way. To me, coding is about building things and fixing those very same structures. Unlike in the real world, however, one can build anything imaginable in code. Any form of control or automation so desired is attainable, limited only by the laws of logic. Writing a program is like maintaining a garden. The collaborative process in coding is unique to the field. We write programs to automate menial tasks. Later on, we release them to the public domain, where other people build larger programs on top of them, and in turn release them. This eventually culminates in large but polished libraries such as React and Django, or refinements to the languages themselves such as ES6. When you import React from 'react' , destructure a variable with ... or debounce a function, you are calling upon the work of thousands of people who have developed these facilities, sometimes to solve the very same problem you are facing, and almost instantaneously. It is almost as if you are coding with the world at large.","title":"Writing at the speed of thought"},{"location":"about/#my-journey","text":"I started out by reading books about computer hacking. Long ago, I borrowed a book on computer security (it was a thick book with a picture of a chessboard). I read about NMAP, TCP/IP, exploits on the IIS server (CodeRed), Windows LANMAN...though I didn't understand much then, I knew I really wanted to learn more about computers. \"The programmer, like the poet, works only slightly removed from pure thought-stuff. He builds his castles in the air, from air, creating by exertion of the imagination. Few media of creation are so flexible, so easy to polish and rework, so readily capable of realizing grand conceptual structures.\" - Frederic P. Brooks I was interested in computers and IT since I was in primary school. The web was in its infancy then; I still remember using 56kbps dialup. Ironically, most of my interest came about when my parents locked my computer and I had to figure out ways of circumvention (booting Linux, keyloggers...). I learnt about networking from trying to configure the routers in my house mostly by trial and error - those IT people my parents called charged something north of $50 just for tweaking settings like DHCP or DNS and security. The 1999 movie 'The Matrix' was also a big inspiration to me. I read The Art of Computer Virus Research and Defence sometime in the 2000s. It read like a novel, detailing the different methods virus writers would use, and the catch up game antivirus vendors would play. Some of the methods (like polymorphic encryption, virtual machines) used by the virus writers were incredibly complicated, but yet, amazingly, the authors of the book were able to provide a detection heuristic for them. Later on, my portable hard drive, filled with most of my personal data collected over many years, crashed. My diaries, personal notes, photos were gone. That was when I began reading on filesystems ($MFT, streams, MBR/GPT) and data recovery (I couldn't buy EnCase so I made do with dd and a hex editor). Although I wasn't successful in recovering my data, I finally understood how filesystems and their fault tolerance mechanisms worked. This screenshot (20kB) is larger than the program (4kB) I briefly read about x86 assembly and reverse engineering. I was inspired by the crackers of the day (Razor 1911, FAiRLiGHT, DEViANCE) and the demoscene. People could do crazy things with pure machine code - rgba made an entire mountain simulation with music in 4kB! I tried briefly reverse engineering some small programs. I found it rather complicated, and although I did succeed with some (patching with NOPs), I never really continued programming with assembly. In high school I played mostly with the Windows OS and its internals. I had fun with bruteforcing Windows passwords with tools like L0phtCrack/Cain and Abel. It was also my introduction to the world of cryptography, spurred further by allegations that the US government was decrypting internet communications and had the capability to decrypt 128-bit AES. I've written a program to search for image duplicates via convolutional neural networks and cosine similarity in Keras. I've also reversed engineered my house DVR using Wireshark and the sockets library in Python.","title":"My Journey"},{"location":"dead-mans-switch/","text":"Dead Man's Switch This is the file , in 7z archive format. If you are reading this, you have the password. Well, here at last, dear friends, on the shores of the Sea comes the end of our fellowship in Middle-earth. Go in peace! I will not say: do not weep; for not all tears are an evil. Gandalf, The Return of the King, by J.R.R. Tolkien","title":"Dead Man's Switch"},{"location":"dead-mans-switch/#dead-mans-switch","text":"This is the file , in 7z archive format. If you are reading this, you have the password. Well, here at last, dear friends, on the shores of the Sea comes the end of our fellowship in Middle-earth. Go in peace! I will not say: do not weep; for not all tears are an evil. Gandalf, The Return of the King, by J.R.R. Tolkien","title":"Dead Man's Switch"},{"location":"mountaineering/","text":"The entire process of mountaineering is itself a meditative experience; technological isolation fosters introspection, strenous but measured physical exertion gives focus to thought, and the sublime beauty of the landscape frees the imagination. The desolate vastness of the terrain, the harsh cold of the snow, the pale starlight trillions of kilometers away, the disconnection from society - altogether, they culminate in the realization that one's worldy concerns stand for naught in this court of the Universe. Climbed Mountain Height 2013 Dec Yala Peak, Nepal 5550m 2014 May Island Peak, Nepal ( video ) 6189m 2014 Jun Mt Semeru, Indonesia 3676m 2014 Aug Mt Kinabalu, Sabah 4095m 2014 Dec Poon Hill, Nepal 3210m 2015 Apr Mt Rinjani, Indonesia 3726m 2015 Dec Mt Kilimanjaro, Tanzania 5895m Mera Peak, Nepal 6476m Aconcagua, Argentina 6962m Ama Dablam, Nepal 6812m The Stratosphere, Low Earth Orbit 36,600m It is not the mountain we conquer, but ourselves. Sir Edmund Hillary","title":"Mountaineering"},{"location":"photography/","text":"Last updated 8/11/20 Most of these are taken on my Canon 700D with the Tokina f/2.8 11-16mm lens . Post-processing is done in Lightroom and Photoshop. Phuket, 2022 Qingjing Farm, Taiwan, 2019 Qingjing Farm, Taiwan, 2019 Egypt, 2018 Mt Gokohara, Nagasaki, 2017 Nagasaki, Japan, 2017 Tromso, Norway, 2017 Tromso, Norway, 2017 Shiretoko Harbor, Nagasaki, 2016 Tanzania, Africa, 2015 Karanga Camp, Kilimanjaro, Africa, 2015 Lauterbrunnen, Switzerland, 2015 Poon Hill, Nepal, 2014","title":"Photography"},{"location":"piano/","text":"Piano A collection of my recordings. My Name is Lincoln (arr. Patrik Pietschmann) (2021) Pokemon RBY Battle Theme (2016) Beethoven's Pathetique Sonata 2nd Movement (2011) In theory, there is no difference between theory and practice. But in practice, there is. Benjamin Brewster","title":"Piano"},{"location":"piano/#piano","text":"A collection of my recordings. My Name is Lincoln (arr. Patrik Pietschmann) (2021) Pokemon RBY Battle Theme (2016) Beethoven's Pathetique Sonata 2nd Movement (2011) In theory, there is no difference between theory and practice. But in practice, there is. Benjamin Brewster","title":"Piano"},{"location":"resume/","text":"Drop me a mail at me@nicholaslyz.com ! I knew that I was more than the something which had been looking out all that day upon the visible earth and thinking and speaking and tasting friendship. Somewhere \u2014 close at hand in that rosy thicket or far off beyond the ribs of sunset \u2014 I was gathered up with an immortal company, where I and poet and lover and flower and cloud and star were equals, as all the little leaves were equal ruffling before the gusts, or sleeping and carved out of the silentness. And in that company I learned that I am something which no fortune can touch, whether I be soon to die or long years away. Things will happen which will trample and pierce, but I shall go on, something that is here and there like the wind, something unconquerable, something not to be separated from the dark earth and the light sky, a strong citizen of infinity and eternity. The confidence and ease had become a deep joy; I knew that I could not do without the Infinite, nor the Infinite without me. Edward Thomas, The Stile","title":"Resume"},{"location":"tags/","text":"Tags Cooking Making Stevia Powder Crispy Pork Belly Recipe Apple Chips Recipe Finance Finance Booklist Getting Started with Investing Asset Allocation My Investment Portfolio Calculating Return The Best Index Fund To Endowus, Or Not? My Endowus Portfolio Insurance Life Insurance GE TotalCare Rider Comparison Comparison of ISP Riders Philosophy Deep Work Determinism and Stoicism On Happiness Artificial Intelligence, Language Models and Understanding Programming Cloudflare and Github Pages Python Package Management on Windows useLayoutEffect Cracking PDF Hashes with hashcat Developing in WSL Containers npm update Behavior SSH with Certificates VSCode Remote Containers over SSH Dualbooting Fedora 35 with Win 11 My Computing Philosophy Best Practices for Debugging Service Workers Artificial Intelligence, Language Models and Understanding Note-Taking My Self-Hosting Journey Docker GPU Access in Fedora","title":"Tags"},{"location":"tags/#tags","text":"","title":"Tags"},{"location":"tags/#cooking","text":"Making Stevia Powder Crispy Pork Belly Recipe Apple Chips Recipe","title":"Cooking"},{"location":"tags/#finance","text":"Finance Booklist Getting Started with Investing Asset Allocation My Investment Portfolio Calculating Return The Best Index Fund To Endowus, Or Not? My Endowus Portfolio","title":"Finance"},{"location":"tags/#insurance","text":"Life Insurance GE TotalCare Rider Comparison Comparison of ISP Riders","title":"Insurance"},{"location":"tags/#philosophy","text":"Deep Work Determinism and Stoicism On Happiness Artificial Intelligence, Language Models and Understanding","title":"Philosophy"},{"location":"tags/#programming","text":"Cloudflare and Github Pages Python Package Management on Windows useLayoutEffect Cracking PDF Hashes with hashcat Developing in WSL Containers npm update Behavior SSH with Certificates VSCode Remote Containers over SSH Dualbooting Fedora 35 with Win 11 My Computing Philosophy Best Practices for Debugging Service Workers Artificial Intelligence, Language Models and Understanding Note-Taking My Self-Hosting Journey Docker GPU Access in Fedora","title":"Programming"},{"location":"blog-posts/2020-09-21-finance-book-list/","tags":["Finance"],"text":"\"Lethargy bordering on sloth remains the best investment style. The correct holding period for the stock market is forever.\" - Burton G. Malkiel Last updated 21/9/20 General Introduction A basic primer into investing strategies, the investible universe, how much and where to invest. Both books below provide a broad overview of the history of markets and strategies in general. Choose one. The Bogleheads' Guide to Investing by Taylor Larimore, Mel Lindauer, Michael LeBoeuf A Random Walk Down Wall Street by Burton G. Malkiel Asset Allocation A more mathematically inclined view on how asset allocation affects portfolio return and risk. Private Wealth Management by G. Victor Hallmann and Jerry S. Rosenbloom Asset Allocation by Roger Gibson The Four Pillars of Investing by William J. Bernstein The Intelligent Asset Allocator by William J. Bernstein Quantitative Equity Portfolio Management by Ludwig B Chincarini, Daehwan Kim Portfolio Selection by Harry Markowitz (Paper) Asset Rotation by Matthew P. Erickson Technical Analysis Learn how to read charts for support and resistance, momentum, identify reversals and more. Classically a controversial field, but one that the successful trader should have in their arsenal. The Art and Science of Technical Analysis: Market Structure, Price Action, and Trading Strategies by Adam H. Grimes Trading Price Action Trends: Technical Analysis of Price Charts Bar by Bar for the Serious Trader by Al Brooks Evidence-Based Technical Analysis by David Aronson The following are each regarded as the bibles of technical analysis: Technical Analysis Explained, Fifth Edition by Martin J. Pring Technical Analysis of the Financial Markets by John J. Murphy Technical Analysis of Stock Trends by Robert D. Edwards, John Magee Encyclopedia of Chart Patterns by Thomas N. Bulkowski Derivatives Futures, Options and Swaps The Investor's Guidebook to Derivatives by Stuart R. Veale Options A product with unlimited gain and limited loss? Options have been used widely in the equity and futures markets since their introduction, both for speculation and hedging purposes. Introductory Texts Options As a Strategic Investment by Lawrence G. McMillan Option Volatility & Pricing by Sheldon Natenberg Advanced Texts Trading Options Greeks by Dan Passarelli The Option Trader's Hedge Fund by Dennis A. Chen and Mark Sebastian Option Gamma Trading by Simon Gleadall Options Volatility Trading: Strategies for Profiting from Market Swings by Adam Warner Options, Futures, and Other Derivatives by John C. Hull Specialty Texts Volatility Trading by Euan Sinclair Options Trading: The Hidden Reality by Charles M. Cottle Day Trading Options: Profiting from Price Distortions in Very Brief Time Frames by Jeff Augen Trading Options at Expiration by Jeff Augen Dynamic Hedging by Nassim Nicholas Taleb Futures Index futures, commodities and more. A Complete Guide to the Futures Market by Jack D. Schwager Miscellaneous Flash Boys by Michael Lewis Reminiscences of a Stock Operator by Edwin Lef\u00e8vre Irrational Exuberance by Robert J. Shiller","title":"Finance Booklist"},{"location":"blog-posts/2020-09-21-finance-book-list/#general-introduction","text":"A basic primer into investing strategies, the investible universe, how much and where to invest. Both books below provide a broad overview of the history of markets and strategies in general. Choose one. The Bogleheads' Guide to Investing by Taylor Larimore, Mel Lindauer, Michael LeBoeuf A Random Walk Down Wall Street by Burton G. Malkiel","title":"General Introduction"},{"location":"blog-posts/2020-09-21-finance-book-list/#asset-allocation","text":"A more mathematically inclined view on how asset allocation affects portfolio return and risk. Private Wealth Management by G. Victor Hallmann and Jerry S. Rosenbloom Asset Allocation by Roger Gibson The Four Pillars of Investing by William J. Bernstein The Intelligent Asset Allocator by William J. Bernstein Quantitative Equity Portfolio Management by Ludwig B Chincarini, Daehwan Kim Portfolio Selection by Harry Markowitz (Paper) Asset Rotation by Matthew P. Erickson","title":"Asset Allocation"},{"location":"blog-posts/2020-09-21-finance-book-list/#technical-analysis","text":"Learn how to read charts for support and resistance, momentum, identify reversals and more. Classically a controversial field, but one that the successful trader should have in their arsenal. The Art and Science of Technical Analysis: Market Structure, Price Action, and Trading Strategies by Adam H. Grimes Trading Price Action Trends: Technical Analysis of Price Charts Bar by Bar for the Serious Trader by Al Brooks Evidence-Based Technical Analysis by David Aronson The following are each regarded as the bibles of technical analysis: Technical Analysis Explained, Fifth Edition by Martin J. Pring Technical Analysis of the Financial Markets by John J. Murphy Technical Analysis of Stock Trends by Robert D. Edwards, John Magee Encyclopedia of Chart Patterns by Thomas N. Bulkowski","title":"Technical Analysis"},{"location":"blog-posts/2020-09-21-finance-book-list/#derivatives","text":"","title":"Derivatives"},{"location":"blog-posts/2020-09-21-finance-book-list/#futures-options-and-swaps","text":"The Investor's Guidebook to Derivatives by Stuart R. Veale","title":"Futures, Options and Swaps"},{"location":"blog-posts/2020-09-21-finance-book-list/#options","text":"A product with unlimited gain and limited loss? Options have been used widely in the equity and futures markets since their introduction, both for speculation and hedging purposes. Introductory Texts Options As a Strategic Investment by Lawrence G. McMillan Option Volatility & Pricing by Sheldon Natenberg Advanced Texts Trading Options Greeks by Dan Passarelli The Option Trader's Hedge Fund by Dennis A. Chen and Mark Sebastian Option Gamma Trading by Simon Gleadall Options Volatility Trading: Strategies for Profiting from Market Swings by Adam Warner Options, Futures, and Other Derivatives by John C. Hull Specialty Texts Volatility Trading by Euan Sinclair Options Trading: The Hidden Reality by Charles M. Cottle Day Trading Options: Profiting from Price Distortions in Very Brief Time Frames by Jeff Augen Trading Options at Expiration by Jeff Augen Dynamic Hedging by Nassim Nicholas Taleb","title":"Options"},{"location":"blog-posts/2020-09-21-finance-book-list/#futures","text":"Index futures, commodities and more. A Complete Guide to the Futures Market by Jack D. Schwager","title":"Futures"},{"location":"blog-posts/2020-09-21-finance-book-list/#miscellaneous","text":"Flash Boys by Michael Lewis Reminiscences of a Stock Operator by Edwin Lef\u00e8vre Irrational Exuberance by Robert J. Shiller","title":"Miscellaneous"},{"location":"blog-posts/2020-09-21-iem-reviews/","text":"21/9/20 Nice HCK DB3 Soundstage is rather narrow Cheap ZSN Pro Basically a fatiguing IEM. Good: - cheap - Bass is not bad - clarity is present especially in 'Cratered' Bad: - Mids are recessed. So much so that in '1000 Words' and 'I Want It That Way' the vocals take a back seat, and the treble takes over - Treble is detail but rather harsh. Definitely not a lounging IEM. Edit: - Actually sounds quite tolerable with 'pop' equalizer (basically reduce treble, bring up mids)","title":"IEM Reviews"},{"location":"blog-posts/2020-09-21-iem-reviews/#nice-hck-db3","text":"Soundstage is rather narrow Cheap","title":"Nice HCK DB3"},{"location":"blog-posts/2020-09-21-iem-reviews/#zsn-pro","text":"Basically a fatiguing IEM. Good: - cheap - Bass is not bad - clarity is present especially in 'Cratered' Bad: - Mids are recessed. So much so that in '1000 Words' and 'I Want It That Way' the vocals take a back seat, and the treble takes over - Treble is detail but rather harsh. Definitely not a lounging IEM. Edit: - Actually sounds quite tolerable with 'pop' equalizer (basically reduce treble, bring up mids)","title":"ZSN Pro"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/","tags":["Programming"],"text":"DNS settings for serving Github Pages over Cloudflare Written on 24/9/20 Update (20/12/20) - Cloudflare proxying prevents SSL Certificate renewal When the SSL certificate (provisioned by Github automatically for the custom domain you specified, via Let's Encrypt) expired on 18/12/20, I started getting errors from Cloudflare. Looking deeper, I realized Github was having trouble provisioning the SSL certificate. The solution was to disable Cloudflare proxying . Upon doing so, I was able to get an SSL certificate provisioned for the root domain, nicholaslyz.com . The Problem Cloudflare is one of the largest CDNs, and the Free plan offers unlimited bandwidth to your site. I use it for this site. However, the configuration can be tricky... I kept getting this error for ```www.nicholaslyz.com```, but not ```nicholaslyz.com``` Here was my initial configuration: I use Github Pages with custom domains and 'Enforce HTTPS' enabled, and Cloudflare with SSL Full (Strict) . When a visitor visits www.your-site.com , Github issues a HTTPS 301 redirect from the www subdomain to the registered custom domain/subdomain (in this case your-site.com ), presenting a certificate valid for www.github.com, *.github.com, github.com, *.github.io, github.io, *.githubusercontent.com, githubusercontent.com . This happens because Github only provisions certificates for the registered (sub)domain (in my case, nicholaslyz.com ) and not the other subdomains. Github redirects users automatically to the correct version of your page, using their Github certificate With Cloudflare proxying switched off - Firefox displays 'Warning: Potential Security Risk Ahead' for the www version of the site, because the Github certificate is not valid for the www subdomain. This is the same error Cloudflare is getting. Chrome and Edge however, ignore the certificate error , so they follow the redirect and work fine. This configuration (without cloudflare proxying) will still result in an error when the user tries to visit the www subdomain: If Cloudflare proxying is turned off, the error recurs This is because Github is trying to redirect the user to the non- www version of the site while presenting the Github certificate. Solution The following DNS settings worked (changes in red): I believe CF allows requests from the origin with mismatched certificates to pass through if The CNAME entry closest to the origin is being queried or The certificate issued by the origin is valid for the requested hostname, regardless of the intermediate CNAME domains. Here are some examples of this hypothesis. Example 1 - Cloudflare ON Type Name Content Proxy Status CNAME www.example.com example.com Proxied CNAME example.com google.com Proxied www.example.com gives the 526 error (google.com does not have a valid certificate for `www.example.com ) example.com loads google.com (Point 1 above) Example 2 - Cloudflare OFF Type Name Content Proxy Status CNAME www.example.com example.com DNS Only CNAME example.com google.com DNS Only www.example.com gives certificate error on browsers example.com gives certificate error on browsers This is expected browser behavior as the certificates presented by example.com and google.com do not match www.example.com and example.com respectively. Example 3 - Without CNAME flattening Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com google.com Proxied www.example.com gives the 526 error subdomain.example.com loads google.com (Point 1 above) So CNAME flattening is not the cause. Example 4 - Origin presents valid certificate for requested hostname Assume example.github.io has the certificate for ONLY example.com (not its subdomains) Type Name Content Proxy Status CNAME example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied example.com loads properly (Point 2 above) subdomain.example.com gives a Github Page not found error This is because Github is receiving a request for the hostname subdomain.example.com which does not have a Github page setup. Cloudflare however, accepts Github's mismatched certificate just fine during the processing of this request. Example 5 - Origin presents invalid certificate for requested hostname Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied www.example.com gives the 526 error (Github does not have the certificate for www.example.com ) subdomain.example.com gives a Github Page not found error (same as above) Many people have had this problem, in fact there is a list of pages affected by the certificate mismatch error. There is also a temporary hack to get Github to provision certificates for both the www and root domains.","title":"Cloudflare and Github Pages"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#dns-settings-for-serving-github-pages-over-cloudflare","text":"Written on 24/9/20","title":"DNS settings for serving Github Pages over Cloudflare"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#update-201220-cloudflare-proxying-prevents-ssl-certificate-renewal","text":"When the SSL certificate (provisioned by Github automatically for the custom domain you specified, via Let's Encrypt) expired on 18/12/20, I started getting errors from Cloudflare. Looking deeper, I realized Github was having trouble provisioning the SSL certificate. The solution was to disable Cloudflare proxying . Upon doing so, I was able to get an SSL certificate provisioned for the root domain, nicholaslyz.com .","title":"Update (20/12/20) - Cloudflare proxying prevents SSL Certificate renewal"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#the-problem","text":"Cloudflare is one of the largest CDNs, and the Free plan offers unlimited bandwidth to your site. I use it for this site. However, the configuration can be tricky... I kept getting this error for ```www.nicholaslyz.com```, but not ```nicholaslyz.com``` Here was my initial configuration: I use Github Pages with custom domains and 'Enforce HTTPS' enabled, and Cloudflare with SSL Full (Strict) . When a visitor visits www.your-site.com , Github issues a HTTPS 301 redirect from the www subdomain to the registered custom domain/subdomain (in this case your-site.com ), presenting a certificate valid for www.github.com, *.github.com, github.com, *.github.io, github.io, *.githubusercontent.com, githubusercontent.com . This happens because Github only provisions certificates for the registered (sub)domain (in my case, nicholaslyz.com ) and not the other subdomains. Github redirects users automatically to the correct version of your page, using their Github certificate With Cloudflare proxying switched off - Firefox displays 'Warning: Potential Security Risk Ahead' for the www version of the site, because the Github certificate is not valid for the www subdomain. This is the same error Cloudflare is getting. Chrome and Edge however, ignore the certificate error , so they follow the redirect and work fine. This configuration (without cloudflare proxying) will still result in an error when the user tries to visit the www subdomain: If Cloudflare proxying is turned off, the error recurs This is because Github is trying to redirect the user to the non- www version of the site while presenting the Github certificate.","title":"The Problem"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#solution","text":"The following DNS settings worked (changes in red): I believe CF allows requests from the origin with mismatched certificates to pass through if The CNAME entry closest to the origin is being queried or The certificate issued by the origin is valid for the requested hostname, regardless of the intermediate CNAME domains. Here are some examples of this hypothesis.","title":"Solution"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-1-cloudflare-on","text":"Type Name Content Proxy Status CNAME www.example.com example.com Proxied CNAME example.com google.com Proxied www.example.com gives the 526 error (google.com does not have a valid certificate for `www.example.com ) example.com loads google.com (Point 1 above)","title":"Example 1 - Cloudflare ON"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-2-cloudflare-off","text":"Type Name Content Proxy Status CNAME www.example.com example.com DNS Only CNAME example.com google.com DNS Only www.example.com gives certificate error on browsers example.com gives certificate error on browsers This is expected browser behavior as the certificates presented by example.com and google.com do not match www.example.com and example.com respectively.","title":"Example 2 - Cloudflare OFF"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-3-without-cname-flattening","text":"Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com google.com Proxied www.example.com gives the 526 error subdomain.example.com loads google.com (Point 1 above) So CNAME flattening is not the cause.","title":"Example 3 - Without CNAME flattening"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-4-origin-presents-valid-certificate-for-requested-hostname","text":"Assume example.github.io has the certificate for ONLY example.com (not its subdomains) Type Name Content Proxy Status CNAME example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied example.com loads properly (Point 2 above) subdomain.example.com gives a Github Page not found error This is because Github is receiving a request for the hostname subdomain.example.com which does not have a Github page setup. Cloudflare however, accepts Github's mismatched certificate just fine during the processing of this request.","title":"Example 4 - Origin presents valid certificate for requested hostname"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-5-origin-presents-invalid-certificate-for-requested-hostname","text":"Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied www.example.com gives the 526 error (Github does not have the certificate for www.example.com ) subdomain.example.com gives a Github Page not found error (same as above) Many people have had this problem, in fact there is a list of pages affected by the certificate mismatch error. There is also a temporary hack to get Github to provision certificates for both the www and root domains.","title":"Example 5 - Origin presents invalid certificate for requested hostname"},{"location":"blog-posts/2020-11-28-making-stevia-powder/","tags":["Cooking"],"text":"Making Stevia Powder: From the Beginnnig Last updated 28/11/20 I'm a big fan of non-nutritive sweeteners, aka zero calorie sweeteners. Sugar has been getting a very bad rep, especially among the medical community. It increase the risk of dying from heart disease by up to 38% , causes cancer and tooth decay (we've all been told that from young!). So when I heard about alternatives to sugar, I began researching. Broadly speaking, the universe of sweeteners can be divided into low- and zero-calorie sweeteners. These are: Low-calorie sweeteners. Agave syrup (marketed as low GI, but full of fructose!) Sugar Alcohols . These include: Xylitol (100% sweetness of sucrose, and prevents dental caries ) Sorbitol (40-70% sweetness of sucrose) Erythritol (60-80% sweetness of sucrose) Zero-calorie sweeteners. These have zero nutritional value to the body. Natural Stevia Monkfruit Artificial a.k.a. synthetic Sucralose Acesulfame-K Saccharin I settled for the zero-calorie sweeteners in the end. Sugar alcohols can cause gastrointestinal distress in certain individuals. As for the zero-calorie sweeteners (both natural and artificial), there has been some research on mice suggesting that the gut microbiome might be affected . Research done on stevia however, including on humans, has generally concluded that there is little or no harm as of present. Finally, monkfruit is more expensive than stevia. So enough justification! Time for pictures! Planting I got the seeds from Horti at $4.80. I planted them in a pot, and after about 1 month I got a big, healthy green plant: I didn't edit the photo - the leaves are really quite green. I ate some leaves raw and they really do taste sweet, with a slight earthy/bitter aftertaste (I mean, it's a leaf after all, not a block of sugar...) Drying Now to make the powder, the leaves have to be dried. A quick google search suggested the optimum drying temperature to be 35 degrees Celsius. After leaving the leaves for 24 hours in a food dehydrator, the end result was a crumbly, shrunken mass of leaves. Grinding The next step was to grind the leaves into a powder! I used a metal mortar and pestle, although research suggests that a coffee grinder is better (I don't have one). While grinding I discarded some stems away since they didn't grind well. End Result The final product! This is the result of about ~30 leaves from 3 separate plants in total. The taste can be described as rather sweet, with some earthy undertones. It is much less bitter compared to the raw, fresh leaf. There is another way to extract the stevia using alcohol, but I'll leave that to another day (or just buy it off iHerb). So that's it! For just $4.80 and a month of watering a pot you can get a pure, natural, non-nutritive sweetener, that you can add to coffee, tea, baking or just about anything under the sun.","title":"Making Stevia Powder"},{"location":"blog-posts/2020-11-28-making-stevia-powder/#making-stevia-powder-from-the-beginnnig","text":"Last updated 28/11/20 I'm a big fan of non-nutritive sweeteners, aka zero calorie sweeteners. Sugar has been getting a very bad rep, especially among the medical community. It increase the risk of dying from heart disease by up to 38% , causes cancer and tooth decay (we've all been told that from young!). So when I heard about alternatives to sugar, I began researching. Broadly speaking, the universe of sweeteners can be divided into low- and zero-calorie sweeteners. These are: Low-calorie sweeteners. Agave syrup (marketed as low GI, but full of fructose!) Sugar Alcohols . These include: Xylitol (100% sweetness of sucrose, and prevents dental caries ) Sorbitol (40-70% sweetness of sucrose) Erythritol (60-80% sweetness of sucrose) Zero-calorie sweeteners. These have zero nutritional value to the body. Natural Stevia Monkfruit Artificial a.k.a. synthetic Sucralose Acesulfame-K Saccharin I settled for the zero-calorie sweeteners in the end. Sugar alcohols can cause gastrointestinal distress in certain individuals. As for the zero-calorie sweeteners (both natural and artificial), there has been some research on mice suggesting that the gut microbiome might be affected . Research done on stevia however, including on humans, has generally concluded that there is little or no harm as of present. Finally, monkfruit is more expensive than stevia. So enough justification! Time for pictures!","title":"Making Stevia Powder: From the Beginnnig"},{"location":"blog-posts/2020-11-28-making-stevia-powder/#planting","text":"I got the seeds from Horti at $4.80. I planted them in a pot, and after about 1 month I got a big, healthy green plant: I didn't edit the photo - the leaves are really quite green. I ate some leaves raw and they really do taste sweet, with a slight earthy/bitter aftertaste (I mean, it's a leaf after all, not a block of sugar...)","title":"Planting"},{"location":"blog-posts/2020-11-28-making-stevia-powder/#drying","text":"Now to make the powder, the leaves have to be dried. A quick google search suggested the optimum drying temperature to be 35 degrees Celsius. After leaving the leaves for 24 hours in a food dehydrator, the end result was a crumbly, shrunken mass of leaves.","title":"Drying"},{"location":"blog-posts/2020-11-28-making-stevia-powder/#grinding","text":"The next step was to grind the leaves into a powder! I used a metal mortar and pestle, although research suggests that a coffee grinder is better (I don't have one). While grinding I discarded some stems away since they didn't grind well.","title":"Grinding"},{"location":"blog-posts/2020-11-28-making-stevia-powder/#end-result","text":"The final product! This is the result of about ~30 leaves from 3 separate plants in total. The taste can be described as rather sweet, with some earthy undertones. It is much less bitter compared to the raw, fresh leaf. There is another way to extract the stevia using alcohol, but I'll leave that to another day (or just buy it off iHerb). So that's it! For just $4.80 and a month of watering a pot you can get a pure, natural, non-nutritive sweetener, that you can add to coffee, tea, baking or just about anything under the sun.","title":"End Result"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/","tags":["Finance"],"text":"Finance Getting Started with Investing Written on 30/11/20 In this post, I give a brief introduction to the world of investments. Do check out my other post on asset allocation - i.e. exactly what assets to buy and why. Some men wrest a living from nature and with their hands; this is called work. Some men wrest a living from those who wrest a living from nature and with their hands; this is called trade. Some men wrest a living from those who wrest a living from those who wrest a living from nature and with their hands; this is called finance. - Old British Epigram Speculators fan each other into orgiastic heights on r/wallstreetbets The stock market has always been exciting, and now is no exception. At the time of writing, the hottest stocks include Tesla, Nio and Palantir. The markets have just recovered from the Coronavirus Crash , the most devastating crash since 1929, and both the S&P and NASDAQ are hitting new highs. Should you rush in and buy? Or wait for the hype to tide over? \"For fools rush in where angels fear to tread.\" -Alexander Pope, 1711 Over the last few years I've read investment books, discussed the markets with other speculators, and tried my hand at investing from vanilla stocks, to ETFs (both index and exotic), fixed income (think bonds and T-bills), derivatives including options 1 and futures. I studied technical analysis, from candlestick patterns to resistance/support charting and technical indicators. Sadly, nobody teaches you investing in school (unless you're studying finance). I went the long way round, both chronologically and financially, to learn investing. You don't have to , if you start with the right books and perspectives. Investors can be classified into one of 4 groups 2 : You believe you can pick winning stocks at the right time You believe you can pick winning stocks, but not timing the market You don't believe you can pick winning stocks, but you believe timing the market as a whole is possible You don't believe you can pick winning stocks OR time the market I'm strongly for 4. And this is because: The average investor performs worse than inflation. 3 The professionals don't fare well either. Mutual funds, run by quants on Wall Street, do no better - 7.53% vs the Russell 3000 Index (a broad market index)'s 8.42% return, compared over 20 years. 4 The market is very nearly efficient . New information is reflected almost instantaneously in stock prices. If people believe a stock to be worth $100 tomorrow, it will be worth $100 today. There is very little chance you can buy or sell before the whole market beats you to it. Commissions and taxes. These may seem small, but for the active trader trying to beat the market it can add up. 5 The invention of derivatives , a product sensitive to timing and direction, has only served to burn more dollars off investors. In fact, these products were responsible for the 2009 financial crisis. The stock market has always recovered In short, I believe in buying the entire market, aka broad-based, index investing. And the best time for that is, and has always been, now . The Investible Universe Now, before you even make an account, it's important to know what assets you can invest in. And it's not just stocks. Broadly speaking, the types of products available for investment are equities, fixed-income products, real estate, commodities and derivatives. I don't consider insurance products like ILPs or whole life plans as investments 6 . Equities (aka stocks) Cumulative return of the S&P 500, a US market index Stocks represent assets of a company that investors can purchase. Note that in the event of liquidation, bondholders will be paid before shareholders. As a stock-owner, you are entitled to receiving dividends (i.e. when a stock goes 'ex-dividend' ). But what if you want to buy not just a few stocks, but 100? 1000? The entire US market? This is possible with the advent of the exchange-traded fund (ETF) . It is essentially a fund which invests the shareholders' monies into a basket of securities. For example, the SPY tracks the S&P 500, an index tracking the performance of 500 large companies in the US. ETFs not only track indices - you can buy ETFs specializing in pharmaceutical products or almost anything else as well. As they are listed on an exchange, ETFs are also subject to regulation 7 . Fixed-Income Securities (aka bonds) Historical Federal Reserve Interest Rates A bond is a loan. By buying a bond, the bearer is obligated to pay you a certain interest rate for the period of the bond (up till the 'maturity date', upon which you receive your initial capital). This is related to the risk of default. Thus, one would expect bonds from governments to pay the least, while those from companies with questionable financial statements to pay more. Bonds can get complicated - there are the vanilla fixed coupon bonds, discount bonds, inflation-protected securities and convertible bonds to name a few. Nontheless, certain basic principles apply. The key risks in buying bonds are interest rate risk 8 (just look at the chart above 9 ) and credit risk. Callable bonds have their own risk - call risk 10 . Historically, during periods of market uncertainty, investors have flocked to bonds as they maintain relative stability compared to equities. Real Estate In the past, the only way to gain exposure to the property sector was to buy physical property in your own name. Now, you can buy property via several property ETFs, some of which are global 11 . Alternatively, one can buy Real Estate Investment Trusts (REITS), which are companies that own or operate real estate. Local examples include Mapletree North Asia Commercial Trust and Ascendas Reit. Commodities Oil prices turn negative for the first time ever on 20 Apr 2020 These refer to physical goods such as corn, soybean, oil and cattle. You can buy gold and silver too - either in the form of ETFs, futures or the actual physical metal. Investing purely in commodities is highly speculative and leveraged, as they trade on margin. You can watch James Cordier of Optionsellers.com's famous apology as an example of what not to do with your clients' money. However, commodities do have a diversification effect when added to a balanced portfolio. For example, gold is known to remain stable or even rise during economic crises. Derivatives Payoff for a strangle on crude oil Derivatives include futures and options, as well as structured products e.g. equity linked notes (ELNs) . There are more exotic products such as Asian options, digital options, options on futures, interest rate swaps and swaptions. These can be combined in complicated ways, such as the strangle 12 shown above. Fundamentally, they derive their value from the movement of some underlying product (hence the term derivative ). I would recommend staying very far from this category if you are a new investor . Unlike stocks or bonds, you can lose (and earn) much more than your initial investment (due to leverage). Now that you know what you can buy, let's see how you can buy. Your Broker A broker is the intermediary company which does the purchasing of the investments for you on an exchange. By and large, most investors do not own shares in their own name - their broker acts as their custodian . This is the only way Singaporeans can buy shares listed in the US or foreign countries. For local shares, you can buy shares in your name with a Central Depository account - which means you get voting rights, invitations to the annual general meetings etc. 13 I recommend sticking with a custodian account, because Fees are cheaper You can invest in overseas markets Assuming you are more interested in the overseas (i.e. US) market 14 , here are some brokers you can consider: Interactive Brokers 15 (I use this) Saxobank TD Ameritrade POEMS (local) DBS Vickers (local) 16 Some factors you may want to consider are: Commissions Custody fees 17 Ease of use Mobile application Products available Investment restrictions 18 Worried about losing your money if the broker goes bust? Fret not: US brokers are protected by the SIPC , up to $500,000 Locally, bank deposits are insured for up to $75,000 19 by the SDIC Epilogue Now that you have your account, it's time to trade! As you progress, you may want to consider reading deeper. Such topics include Asset allocation - how much to invest in stocks/bonds/commodities and why? Trade execution - What is a trailing stop loss? Why is the bid/ask spread so big? What is a liquidity crunch? Derivatives - although I mentioned to avoid them earlier, they make excellent tools for hedging a large equity position. 20 If you haven't already, I recommend you look through some of the investment books I've marked as a general introduction. You'll find my other book recommendations there as well. Finally, if you spot any errors here, do let me know ! I love trading options. Iron condors, calendar spreads, ratio spreads, double diagonals, not just on stocks but on futures, heck, even on volatility itself (the VIX) - I've tried them. I mainly use options for hedging now. \u21a9 Adapted from Asset Allocation, by Roger Gibson \u21a9 JP Morgan's 1Q, 2014 Guide to the Markets \u21a9 A Random Walk Down Wall Street by Burton G. Malkiel \u21a9 'Enough' by John C. Bogle puts forth a poignant argument against the entire brokerage and ETF industry's fees and commissions. \u21a9 I don't consider them investments because insurance is for protection - you shouldn't hope to 'earn' on them. Furthermore, ILPs simply invest in the market but with much higher commissions and caps on profits. You'd be better off just buying the ETFs yourself from a broker. \u21a9 The SEC sets limits on the use of leverage and transactions. ETFs are also required to conform to specific reporting requirements as well as oversight by boards of directors. See here . \u21a9 The risk that when interest rates rise after you buy a bond. This will cause the market value of the bond to decrease. Note however, that if you hold the bond to maturity, you will still receive your initial capital plus interest back. \u21a9 This is the target interest rate set by the Federal Open Market Committee at which commercial banks charge each other on overnight lending. It is a large driver of other interest rates in general, such as the prime rate . \u21a9 The risk that a bond issuer may choose to buy back the bond prior to maturity, ceasing the stream of interest payments. \u21a9 E.g. iShares Developed Markets Property Yield (DPYA) , which invests in real estate companies and REITS from developed countries. \u21a9 A type of option strategy where one buys an out-of-the-money call and put. Maximum profit is gained when the underlying moves significantly in one direction. \u21a9 See here for a comparison between CDP and custodian accounts. \u21a9 The Straits Times Index has lagged the S&P 500 for decades. See here for other reasons. \u21a9 Commissions are miniscule and the platform allows you to buy almost any product under the sun. The interface may appear a bit intimidating initially but you'll learn to appreciate it. \u21a9 Note the commissions: $25 per trade last I checked. \u21a9 Aka yearly fees for holding your stock. Not all brokers have this. \u21a9 E.g. IB does not allow Singaporeans to buy SGX listed equities. \u21a9 It is a tad disappointing that our local banks have lower bank guarantees than the US. \u21a9 Personally, I use a 1.1 diagonal put ratio spread (1 year long, 3 months short) for hedging my equities (the beta-weighted amount). The Options Edge by Michael C. Khouw provides a great introduction to this hedging strategy. \u21a9","title":"Getting Started with Investing"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#getting-started-with-investing","text":"Written on 30/11/20 In this post, I give a brief introduction to the world of investments. Do check out my other post on asset allocation - i.e. exactly what assets to buy and why. Some men wrest a living from nature and with their hands; this is called work. Some men wrest a living from those who wrest a living from nature and with their hands; this is called trade. Some men wrest a living from those who wrest a living from those who wrest a living from nature and with their hands; this is called finance. - Old British Epigram Speculators fan each other into orgiastic heights on r/wallstreetbets The stock market has always been exciting, and now is no exception. At the time of writing, the hottest stocks include Tesla, Nio and Palantir. The markets have just recovered from the Coronavirus Crash , the most devastating crash since 1929, and both the S&P and NASDAQ are hitting new highs. Should you rush in and buy? Or wait for the hype to tide over? \"For fools rush in where angels fear to tread.\" -Alexander Pope, 1711 Over the last few years I've read investment books, discussed the markets with other speculators, and tried my hand at investing from vanilla stocks, to ETFs (both index and exotic), fixed income (think bonds and T-bills), derivatives including options 1 and futures. I studied technical analysis, from candlestick patterns to resistance/support charting and technical indicators. Sadly, nobody teaches you investing in school (unless you're studying finance). I went the long way round, both chronologically and financially, to learn investing. You don't have to , if you start with the right books and perspectives. Investors can be classified into one of 4 groups 2 : You believe you can pick winning stocks at the right time You believe you can pick winning stocks, but not timing the market You don't believe you can pick winning stocks, but you believe timing the market as a whole is possible You don't believe you can pick winning stocks OR time the market I'm strongly for 4. And this is because: The average investor performs worse than inflation. 3 The professionals don't fare well either. Mutual funds, run by quants on Wall Street, do no better - 7.53% vs the Russell 3000 Index (a broad market index)'s 8.42% return, compared over 20 years. 4 The market is very nearly efficient . New information is reflected almost instantaneously in stock prices. If people believe a stock to be worth $100 tomorrow, it will be worth $100 today. There is very little chance you can buy or sell before the whole market beats you to it. Commissions and taxes. These may seem small, but for the active trader trying to beat the market it can add up. 5 The invention of derivatives , a product sensitive to timing and direction, has only served to burn more dollars off investors. In fact, these products were responsible for the 2009 financial crisis. The stock market has always recovered In short, I believe in buying the entire market, aka broad-based, index investing. And the best time for that is, and has always been, now .","title":"Getting Started with Investing"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#the-investible-universe","text":"Now, before you even make an account, it's important to know what assets you can invest in. And it's not just stocks. Broadly speaking, the types of products available for investment are equities, fixed-income products, real estate, commodities and derivatives. I don't consider insurance products like ILPs or whole life plans as investments 6 .","title":"The Investible Universe"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#equities-aka-stocks","text":"Cumulative return of the S&P 500, a US market index Stocks represent assets of a company that investors can purchase. Note that in the event of liquidation, bondholders will be paid before shareholders. As a stock-owner, you are entitled to receiving dividends (i.e. when a stock goes 'ex-dividend' ). But what if you want to buy not just a few stocks, but 100? 1000? The entire US market? This is possible with the advent of the exchange-traded fund (ETF) . It is essentially a fund which invests the shareholders' monies into a basket of securities. For example, the SPY tracks the S&P 500, an index tracking the performance of 500 large companies in the US. ETFs not only track indices - you can buy ETFs specializing in pharmaceutical products or almost anything else as well. As they are listed on an exchange, ETFs are also subject to regulation 7 .","title":"Equities (aka stocks)"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#fixed-income-securities-aka-bonds","text":"Historical Federal Reserve Interest Rates A bond is a loan. By buying a bond, the bearer is obligated to pay you a certain interest rate for the period of the bond (up till the 'maturity date', upon which you receive your initial capital). This is related to the risk of default. Thus, one would expect bonds from governments to pay the least, while those from companies with questionable financial statements to pay more. Bonds can get complicated - there are the vanilla fixed coupon bonds, discount bonds, inflation-protected securities and convertible bonds to name a few. Nontheless, certain basic principles apply. The key risks in buying bonds are interest rate risk 8 (just look at the chart above 9 ) and credit risk. Callable bonds have their own risk - call risk 10 . Historically, during periods of market uncertainty, investors have flocked to bonds as they maintain relative stability compared to equities.","title":"Fixed-Income Securities (aka bonds)"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#real-estate","text":"In the past, the only way to gain exposure to the property sector was to buy physical property in your own name. Now, you can buy property via several property ETFs, some of which are global 11 . Alternatively, one can buy Real Estate Investment Trusts (REITS), which are companies that own or operate real estate. Local examples include Mapletree North Asia Commercial Trust and Ascendas Reit.","title":"Real Estate"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#commodities","text":"Oil prices turn negative for the first time ever on 20 Apr 2020 These refer to physical goods such as corn, soybean, oil and cattle. You can buy gold and silver too - either in the form of ETFs, futures or the actual physical metal. Investing purely in commodities is highly speculative and leveraged, as they trade on margin. You can watch James Cordier of Optionsellers.com's famous apology as an example of what not to do with your clients' money. However, commodities do have a diversification effect when added to a balanced portfolio. For example, gold is known to remain stable or even rise during economic crises.","title":"Commodities"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#derivatives","text":"Payoff for a strangle on crude oil Derivatives include futures and options, as well as structured products e.g. equity linked notes (ELNs) . There are more exotic products such as Asian options, digital options, options on futures, interest rate swaps and swaptions. These can be combined in complicated ways, such as the strangle 12 shown above. Fundamentally, they derive their value from the movement of some underlying product (hence the term derivative ). I would recommend staying very far from this category if you are a new investor . Unlike stocks or bonds, you can lose (and earn) much more than your initial investment (due to leverage). Now that you know what you can buy, let's see how you can buy.","title":"Derivatives"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#your-broker","text":"A broker is the intermediary company which does the purchasing of the investments for you on an exchange. By and large, most investors do not own shares in their own name - their broker acts as their custodian . This is the only way Singaporeans can buy shares listed in the US or foreign countries. For local shares, you can buy shares in your name with a Central Depository account - which means you get voting rights, invitations to the annual general meetings etc. 13 I recommend sticking with a custodian account, because Fees are cheaper You can invest in overseas markets Assuming you are more interested in the overseas (i.e. US) market 14 , here are some brokers you can consider: Interactive Brokers 15 (I use this) Saxobank TD Ameritrade POEMS (local) DBS Vickers (local) 16 Some factors you may want to consider are: Commissions Custody fees 17 Ease of use Mobile application Products available Investment restrictions 18 Worried about losing your money if the broker goes bust? Fret not: US brokers are protected by the SIPC , up to $500,000 Locally, bank deposits are insured for up to $75,000 19 by the SDIC","title":"Your Broker"},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#epilogue","text":"Now that you have your account, it's time to trade! As you progress, you may want to consider reading deeper. Such topics include Asset allocation - how much to invest in stocks/bonds/commodities and why? Trade execution - What is a trailing stop loss? Why is the bid/ask spread so big? What is a liquidity crunch? Derivatives - although I mentioned to avoid them earlier, they make excellent tools for hedging a large equity position. 20 If you haven't already, I recommend you look through some of the investment books I've marked as a general introduction. You'll find my other book recommendations there as well. Finally, if you spot any errors here, do let me know ! I love trading options. Iron condors, calendar spreads, ratio spreads, double diagonals, not just on stocks but on futures, heck, even on volatility itself (the VIX) - I've tried them. I mainly use options for hedging now. \u21a9 Adapted from Asset Allocation, by Roger Gibson \u21a9 JP Morgan's 1Q, 2014 Guide to the Markets \u21a9 A Random Walk Down Wall Street by Burton G. Malkiel \u21a9 'Enough' by John C. Bogle puts forth a poignant argument against the entire brokerage and ETF industry's fees and commissions. \u21a9 I don't consider them investments because insurance is for protection - you shouldn't hope to 'earn' on them. Furthermore, ILPs simply invest in the market but with much higher commissions and caps on profits. You'd be better off just buying the ETFs yourself from a broker. \u21a9 The SEC sets limits on the use of leverage and transactions. ETFs are also required to conform to specific reporting requirements as well as oversight by boards of directors. See here . \u21a9 The risk that when interest rates rise after you buy a bond. This will cause the market value of the bond to decrease. Note however, that if you hold the bond to maturity, you will still receive your initial capital plus interest back. \u21a9 This is the target interest rate set by the Federal Open Market Committee at which commercial banks charge each other on overnight lending. It is a large driver of other interest rates in general, such as the prime rate . \u21a9 The risk that a bond issuer may choose to buy back the bond prior to maturity, ceasing the stream of interest payments. \u21a9 E.g. iShares Developed Markets Property Yield (DPYA) , which invests in real estate companies and REITS from developed countries. \u21a9 A type of option strategy where one buys an out-of-the-money call and put. Maximum profit is gained when the underlying moves significantly in one direction. \u21a9 See here for a comparison between CDP and custodian accounts. \u21a9 The Straits Times Index has lagged the S&P 500 for decades. See here for other reasons. \u21a9 Commissions are miniscule and the platform allows you to buy almost any product under the sun. The interface may appear a bit intimidating initially but you'll learn to appreciate it. \u21a9 Note the commissions: $25 per trade last I checked. \u21a9 Aka yearly fees for holding your stock. Not all brokers have this. \u21a9 E.g. IB does not allow Singaporeans to buy SGX listed equities. \u21a9 It is a tad disappointing that our local banks have lower bank guarantees than the US. \u21a9 Personally, I use a 1.1 diagonal put ratio spread (1 year long, 3 months short) for hedging my equities (the beta-weighted amount). The Options Edge by Michael C. Khouw provides a great introduction to this hedging strategy. \u21a9","title":"Epilogue"},{"location":"blog-posts/2020-12-02-asset-allocation/","tags":["Finance"],"text":"Asset Allocation 1 There are approximately 41,000 listed companies around the world. This number doesn't even begin to include the even larger market of derivatives based on these companies. With so many choices, how do people decide what asset classes to buy, and how many % to allocate to each? Why not just put everything in stocks (e.g. the S&P 500)? To answer this question, we need to understand volatility , risk and diversification . You may also want to read about my investment portfolio . Volatility Intuitively, volatility can be thought of as how much a stock or bond moves during a period (the standard deviation ). Here's a simple visualization. In the chart above (the S&P 500), the average volatility prior to Mar 2020 hovered around 13% 2 . This shot up to a high of 75% during the Coronavirus crisis. Note a few caveats: High volatility per se does not imply a high return and vice versa. A stock which is strongly trending can have a low volatility. This is represented in the first half of the chart above - the S&P climbed from 3,100 to 3,400 in 3 months (a 46% return, annualized) - but volatility remained constant. Conversely, a stock can fluctuate wildly around its average but have high volatility. Exposing yourself to high volatility without corresponding high return is not a good idea. When comparing assets with equal returns, you should prefer the less volatile asset. Risk Investment always involves risk, without exception 4 . Such risk can be broken down as follows: Systemic (market) risk - e.g. COVID-19, the Asian Financial Crisis Sector risk - e.g. the oil industry being affected by a demand drop Company risk - corporate fraud, failed products Credit risk - risk of default Inflation Exchange rate risk Interest rate risk Investors are compensated for taking risk 5 . This is a fundamental principle. Imagine that the government is offering bonds paying 2% p.a. A small startup, XYZ Co., wants to issue bonds to investors to raise capital. Now, unlike the government, XYZ Co. has a risk of defaulting. Therefore, you would only consider buying XYZ Co.'s bonds if the interest rate was higher than 2% (or even more depending on the companies' perceived credit worthiness). This is the reason why corporate bonds pay better than government bonds. Fortunately, some of the risks above can be reduced with diversification. Diversification Diversification means buying products from different classes and sectors to reduce exposure to any single company or risk 6 . When you do so, you can reduce certain classes of risk. Here's an example. If you buy stock from a single company, say Microsoft (MSFT), you are exposed to systemic, sector, company and credit risks. However, if you buy a technology-based ETF e.g. ARK Next Generation Internet ETF ( ARKW ), you are no longer exposed to the risk of a single technological company going bankrupt. You are, however, still exposed to the risk that the technological sector declines 7 . If you want to reduce sector risk, you might decide to buy the SPDR S&P 500 ETF Trust ( SPY ), an ETF based on the largest 500 companies in the US. Now, you are left with systemic risk, which is non-diversifiable. Diversification also increases return and reduces volatility . One surprising result that I read 3 , was that investors can actually earn more by buying a combination of negatively or poorly correlated volatile investments, as compared to buying just either investment. Here's an example. Investments A and B are two hypothetical assets. They have a simple average return of 10% p.a., but they are both volatile, returning 40% p.a. and -20% p.a. in alternating years. They are also perfectly negatively correlated , meaning that when asset A is rising, asset B is falling and vice versa. After 10 years, the total return is 76%. Now let's introduce investment AB, which is a portfolio consisting of 50% investment A and 50% investment B, rebalanced annually. What do you think the return will be? After 10 years, the total return of the combined portfolio is 159%. This is higher than the constituents. Another thing - the volatility of the combined portfolio is lower than either investment A or B alone. These phenomena occur because during the years where investment A does poorly, rebalancing the portfolio results in a greater proportion of investment A. When investment A subsequently picks up, the portfolio rises as well. This effect is stronger the more negatively correlated the investments are 8 . This is why it isn't a good idea to put 100% of your portfolio in a single asset class (e.g. stocks). Diversification gets even stranger - in fact, just rebalancing a portfolio consisting of two uncorrelated assets with zero expected return can generate positive return . This is due to the process of rebalancing reducing a factor known as 'volatility drag'. In short - diversification increases return, and reduces volatility plus risk , all of which are desirable characteristics of a portfolio. Historical Returns Now that we've reviewed the key concepts of volatility, risk and diversification, let's look at some data. Here are the historical return of various asset classes 9 : Asset Value of $1, invested in 1925 Annualized Return since 1925 Inflation $10.98 3.0% Treasury Bills $18.40 3.7% Long-Term Government Bonds $70.85 5.5% Large Company Stocks $2,657.56 10.4% Small Company Stocks $13,706.15 12.6% Visually 10 : Cumulative real return of asset categories from 1959-2017 A few observations: Treasury bills were a poor long-term investment, with most of the returns eaten away by inflation. This is also the reason why investing purely in bonds is not safe - you will lose to inflation. Equities in general outperformed the other asset classes Although the annualized return for small company stocks was only 2.2% higher than large company stocks, the overall return was 5.15x higher. This illustrates the power of compound interest 11 . Should we invest everything in small company stocks then? No! As mentioned in Diversification , it is important to review the correlations between assets. In this chart 12 , a correlation of 1.00 indicates perfectly positive correlation (meaning that when one asset rises, so does the other and vice versa.) and -1.00 indicates perfectly negative correlation A value of 0 indicates no correlation. Remember, in diversification we want to choose as poorly correlated assets as possible, for the greatest effect. From this chart we can see that Equities and real estate are rather correlated (0.73) Equities were the least correlated to commodities (-0.04) Stocks and bonds were somewhat correlated, more with nongovernment bonds (0.52) than government bonds (0.27) Portfolio Creation Now, we know we have to own equities, bonds, commodities and real estate for the benefits of diversification. But in what percentage? The full answer is mathematically involved. We shall explore it briefly. The chart above 13 plots return against volatility for a porfolio consisting of stocks and bonds 14 . Note that as the composition of the portfolio shifts, the return and volatility change. Initially, return increases while volatility decreases , up to a certain point. That point represents the portfolio with the lowest possible risk - due to diversification. We can run computer simulations 15 on a basket of assets to determine the mathematically optimal allocation. However, the inputs to the computer models - namely expected return and standard deviation, are themselves unknown on a year-by-year basis. Fortunately, the same data has shown that diversified portfolios with different allocations have performed very similarly. In other words, the exact allocation is not important . That being said however, I wouldn't jump into a 100% stock or commodity portfolio. Some observations: Stocks and real estate perform similarly to each other Bonds tend to be the least volatile, compared with equities and commodities Commodities are negatively correlated to equities, but they have had the lowest compound annual return, so you wouldn't want too much in these You must also consider personal factors: Your own risk appetite - what is the maximum drawdown (aka loss at a point in time) you are willing to bear? Are you planning to retire? Your job stability Whether you have dependents and need a large, fixed sum in the future for school fees If you like rules, here are some: Keep your age (in percentage) in bonds, and the rest in stocks (John C. Bogle) Hold no more than 80% of your assets in stocks/equities Conclusion You can see my asset allocation here for ideas. The earlier you start, the faster the magic of compound interest can begin. The road goes ever on and on 16 , and so shall your journey into the world of investing. Nothing worthwhile is ever easy. I hope you enjoyed reading this article as much as I did writing it. Do drop me a mail if you have questions! Much of the material here is adapted from my readings of: A Random Walk Down Wall Street, by Burton G. Malkiel The Bogleheads' Guide to Investing, by Taylor Larimore, Mel Lindauer, Michael LeBoeuf Asset Allocation, by Roger Gibson \u21a9 To be exact, this is the volatility as measured by the VIX , a market index measuring the implied volatility of options on the S&P 500. \u21a9 Described in Chapter 7 of Asset Allocation, by Roger Gibson \u21a9 Sadly, keeping your money under your pillow still bears the risk of misappropriation and inflation. \u21a9 The risk premium for equities can be calculated using the Capital Asset Pricing Model (of course, with assumptions). Uniquely for equities, the Fama-French Three Factor Model posits that the only risk premiums affecting return are: Market-risk premium (investing in stocks) Size premium (investing in small companies, which could go bust easily) Value premium (investing in companies which are 'cheap' relative to their earnings) \u21a9 Technically speaking, one can only reduce diversifiable risk (sector, company, credit risks.) Non diversifiable risk includes systemic risk. While one cannot 'diversify away' such risks, time is your friend here - the market has, and will, rebound from all systemic crises. \u21a9 E.g. people waking up one day and realizing 'AI' ain't what it claims to be. Google Assistant cannot answer questions a 7 year old kid can, such as 'If I have 2 marbles in my left hand and 3 in my right, how many marbles do I have?'. \u21a9 In reality, no assets exist with perfectly negative correlation. \u21a9 Adapted from Asset Allocation, by Roger Gibson. This paper also compares historical return over various asset classes since 1960. \u21a9 Source. \u21a9 The 8th wonder of the world . A helpful calculator is available. \u21a9 Source. \u21a9 Source . \u21a9 This chart is known as the efficient frontier . Mathematically speaking, the line contains the set of all efficient portfolios, that is, these portfolios that have the minimum risk for a given level of return. Inefficient portfolios are not represented in this graph, but visually they would lie within the hyperbola. This is a consequence of Modern Portfolio Theory , formulated by Harry Markowitz, winner of the Nobel Prize in Economics for this same discovery. \u21a9 The technically minded can consider reading Efficient Asset Management , by Richard O. Michaud for a more in-depth journey and critique of mean-variance optimization. \u21a9 From Lord of the Rings . \u21a9","title":"Asset Allocation"},{"location":"blog-posts/2020-12-02-asset-allocation/#asset-allocation1","text":"There are approximately 41,000 listed companies around the world. This number doesn't even begin to include the even larger market of derivatives based on these companies. With so many choices, how do people decide what asset classes to buy, and how many % to allocate to each? Why not just put everything in stocks (e.g. the S&P 500)? To answer this question, we need to understand volatility , risk and diversification . You may also want to read about my investment portfolio .","title":"Asset Allocation1"},{"location":"blog-posts/2020-12-02-asset-allocation/#volatility","text":"Intuitively, volatility can be thought of as how much a stock or bond moves during a period (the standard deviation ). Here's a simple visualization. In the chart above (the S&P 500), the average volatility prior to Mar 2020 hovered around 13% 2 . This shot up to a high of 75% during the Coronavirus crisis. Note a few caveats: High volatility per se does not imply a high return and vice versa. A stock which is strongly trending can have a low volatility. This is represented in the first half of the chart above - the S&P climbed from 3,100 to 3,400 in 3 months (a 46% return, annualized) - but volatility remained constant. Conversely, a stock can fluctuate wildly around its average but have high volatility. Exposing yourself to high volatility without corresponding high return is not a good idea. When comparing assets with equal returns, you should prefer the less volatile asset.","title":"Volatility"},{"location":"blog-posts/2020-12-02-asset-allocation/#risk","text":"Investment always involves risk, without exception 4 . Such risk can be broken down as follows: Systemic (market) risk - e.g. COVID-19, the Asian Financial Crisis Sector risk - e.g. the oil industry being affected by a demand drop Company risk - corporate fraud, failed products Credit risk - risk of default Inflation Exchange rate risk Interest rate risk Investors are compensated for taking risk 5 . This is a fundamental principle. Imagine that the government is offering bonds paying 2% p.a. A small startup, XYZ Co., wants to issue bonds to investors to raise capital. Now, unlike the government, XYZ Co. has a risk of defaulting. Therefore, you would only consider buying XYZ Co.'s bonds if the interest rate was higher than 2% (or even more depending on the companies' perceived credit worthiness). This is the reason why corporate bonds pay better than government bonds. Fortunately, some of the risks above can be reduced with diversification.","title":"Risk"},{"location":"blog-posts/2020-12-02-asset-allocation/#diversification","text":"Diversification means buying products from different classes and sectors to reduce exposure to any single company or risk 6 . When you do so, you can reduce certain classes of risk. Here's an example. If you buy stock from a single company, say Microsoft (MSFT), you are exposed to systemic, sector, company and credit risks. However, if you buy a technology-based ETF e.g. ARK Next Generation Internet ETF ( ARKW ), you are no longer exposed to the risk of a single technological company going bankrupt. You are, however, still exposed to the risk that the technological sector declines 7 . If you want to reduce sector risk, you might decide to buy the SPDR S&P 500 ETF Trust ( SPY ), an ETF based on the largest 500 companies in the US. Now, you are left with systemic risk, which is non-diversifiable. Diversification also increases return and reduces volatility . One surprising result that I read 3 , was that investors can actually earn more by buying a combination of negatively or poorly correlated volatile investments, as compared to buying just either investment. Here's an example. Investments A and B are two hypothetical assets. They have a simple average return of 10% p.a., but they are both volatile, returning 40% p.a. and -20% p.a. in alternating years. They are also perfectly negatively correlated , meaning that when asset A is rising, asset B is falling and vice versa. After 10 years, the total return is 76%. Now let's introduce investment AB, which is a portfolio consisting of 50% investment A and 50% investment B, rebalanced annually. What do you think the return will be? After 10 years, the total return of the combined portfolio is 159%. This is higher than the constituents. Another thing - the volatility of the combined portfolio is lower than either investment A or B alone. These phenomena occur because during the years where investment A does poorly, rebalancing the portfolio results in a greater proportion of investment A. When investment A subsequently picks up, the portfolio rises as well. This effect is stronger the more negatively correlated the investments are 8 . This is why it isn't a good idea to put 100% of your portfolio in a single asset class (e.g. stocks). Diversification gets even stranger - in fact, just rebalancing a portfolio consisting of two uncorrelated assets with zero expected return can generate positive return . This is due to the process of rebalancing reducing a factor known as 'volatility drag'. In short - diversification increases return, and reduces volatility plus risk , all of which are desirable characteristics of a portfolio.","title":"Diversification"},{"location":"blog-posts/2020-12-02-asset-allocation/#historical-returns","text":"Now that we've reviewed the key concepts of volatility, risk and diversification, let's look at some data. Here are the historical return of various asset classes 9 : Asset Value of $1, invested in 1925 Annualized Return since 1925 Inflation $10.98 3.0% Treasury Bills $18.40 3.7% Long-Term Government Bonds $70.85 5.5% Large Company Stocks $2,657.56 10.4% Small Company Stocks $13,706.15 12.6% Visually 10 : Cumulative real return of asset categories from 1959-2017 A few observations: Treasury bills were a poor long-term investment, with most of the returns eaten away by inflation. This is also the reason why investing purely in bonds is not safe - you will lose to inflation. Equities in general outperformed the other asset classes Although the annualized return for small company stocks was only 2.2% higher than large company stocks, the overall return was 5.15x higher. This illustrates the power of compound interest 11 . Should we invest everything in small company stocks then? No! As mentioned in Diversification , it is important to review the correlations between assets. In this chart 12 , a correlation of 1.00 indicates perfectly positive correlation (meaning that when one asset rises, so does the other and vice versa.) and -1.00 indicates perfectly negative correlation A value of 0 indicates no correlation. Remember, in diversification we want to choose as poorly correlated assets as possible, for the greatest effect. From this chart we can see that Equities and real estate are rather correlated (0.73) Equities were the least correlated to commodities (-0.04) Stocks and bonds were somewhat correlated, more with nongovernment bonds (0.52) than government bonds (0.27)","title":"Historical Returns"},{"location":"blog-posts/2020-12-02-asset-allocation/#portfolio-creation","text":"Now, we know we have to own equities, bonds, commodities and real estate for the benefits of diversification. But in what percentage? The full answer is mathematically involved. We shall explore it briefly. The chart above 13 plots return against volatility for a porfolio consisting of stocks and bonds 14 . Note that as the composition of the portfolio shifts, the return and volatility change. Initially, return increases while volatility decreases , up to a certain point. That point represents the portfolio with the lowest possible risk - due to diversification. We can run computer simulations 15 on a basket of assets to determine the mathematically optimal allocation. However, the inputs to the computer models - namely expected return and standard deviation, are themselves unknown on a year-by-year basis. Fortunately, the same data has shown that diversified portfolios with different allocations have performed very similarly. In other words, the exact allocation is not important . That being said however, I wouldn't jump into a 100% stock or commodity portfolio. Some observations: Stocks and real estate perform similarly to each other Bonds tend to be the least volatile, compared with equities and commodities Commodities are negatively correlated to equities, but they have had the lowest compound annual return, so you wouldn't want too much in these You must also consider personal factors: Your own risk appetite - what is the maximum drawdown (aka loss at a point in time) you are willing to bear? Are you planning to retire? Your job stability Whether you have dependents and need a large, fixed sum in the future for school fees If you like rules, here are some: Keep your age (in percentage) in bonds, and the rest in stocks (John C. Bogle) Hold no more than 80% of your assets in stocks/equities","title":"Portfolio Creation"},{"location":"blog-posts/2020-12-02-asset-allocation/#conclusion","text":"You can see my asset allocation here for ideas. The earlier you start, the faster the magic of compound interest can begin. The road goes ever on and on 16 , and so shall your journey into the world of investing. Nothing worthwhile is ever easy. I hope you enjoyed reading this article as much as I did writing it. Do drop me a mail if you have questions! Much of the material here is adapted from my readings of: A Random Walk Down Wall Street, by Burton G. Malkiel The Bogleheads' Guide to Investing, by Taylor Larimore, Mel Lindauer, Michael LeBoeuf Asset Allocation, by Roger Gibson \u21a9 To be exact, this is the volatility as measured by the VIX , a market index measuring the implied volatility of options on the S&P 500. \u21a9 Described in Chapter 7 of Asset Allocation, by Roger Gibson \u21a9 Sadly, keeping your money under your pillow still bears the risk of misappropriation and inflation. \u21a9 The risk premium for equities can be calculated using the Capital Asset Pricing Model (of course, with assumptions). Uniquely for equities, the Fama-French Three Factor Model posits that the only risk premiums affecting return are: Market-risk premium (investing in stocks) Size premium (investing in small companies, which could go bust easily) Value premium (investing in companies which are 'cheap' relative to their earnings) \u21a9 Technically speaking, one can only reduce diversifiable risk (sector, company, credit risks.) Non diversifiable risk includes systemic risk. While one cannot 'diversify away' such risks, time is your friend here - the market has, and will, rebound from all systemic crises. \u21a9 E.g. people waking up one day and realizing 'AI' ain't what it claims to be. Google Assistant cannot answer questions a 7 year old kid can, such as 'If I have 2 marbles in my left hand and 3 in my right, how many marbles do I have?'. \u21a9 In reality, no assets exist with perfectly negative correlation. \u21a9 Adapted from Asset Allocation, by Roger Gibson. This paper also compares historical return over various asset classes since 1960. \u21a9 Source. \u21a9 The 8th wonder of the world . A helpful calculator is available. \u21a9 Source. \u21a9 Source . \u21a9 This chart is known as the efficient frontier . Mathematically speaking, the line contains the set of all efficient portfolios, that is, these portfolios that have the minimum risk for a given level of return. Inefficient portfolios are not represented in this graph, but visually they would lie within the hyperbola. This is a consequence of Modern Portfolio Theory , formulated by Harry Markowitz, winner of the Nobel Prize in Economics for this same discovery. \u21a9 The technically minded can consider reading Efficient Asset Management , by Richard O. Michaud for a more in-depth journey and critique of mean-variance optimization. \u21a9 From Lord of the Rings . \u21a9","title":"Conclusion"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/","tags":["Finance"],"text":"My Investment Portfolio This is my current portfolio allocation as of 2/6/21. % Product 1 (Ticker on LSE) 50% iShares MSCI ACWI UCITS ETF (ISAC) 30% iShares MSCI World Small Cap UCITS ETF (WSML) 10% iShares Developed Markets Property Yield UCITS ETF (DPYA) 10% iShares Core Global Aggregate Bond UCITS ETF (AGGU) As I've emphasized throughout this site, I don't pick individual stocks, nor actively trade. Such activity, to me, is likely to lead to loss . These are the reasons for my own portfolio allocation above . As I am still working, the bulk return of my portfolio comes from equities. I am comfortable bearing the drawdown risk. For equities, I buy both an ETF investing in large and mid-cap companies globally across both emerging and developed markets (ISAC), and another in small-cap companies, also globally (WSML). I buy some bonds for the diversification effect. As interest rates are low now (2020), I have reduced the allocation to bond ETFs. I plan to increase this as I grow older. I am planning to buy a commodity ETF e.g. one tracking the GSCI . For the portfolio detailed at the start of this post, my risk exposures are 80% equities (of which 50% are large- and mid-cap companies globally, and 30% small-cap) 10% global property (in the form of real estate investment trust ETFs) 10% bonds (international denominated bonds) FAQ Why are all your ETFs dormiciled in Ireland? What does UCITS mean? The main reasons are to save on witholding tax on dividends (15% vs 30%), and estate duty. Bogleheads has a great explanation. Note: this only applies if you're not a US investor. Why not consider high yield, short duration bonds e.g. SDHA ? High yield, short duration bonds perform remarkably similar to equities (they lack the traditional stability associated with bonds). I would rather invest more in equities than in these or junk bonds. Why ISAC + WSML and not IWDA + CSPX or VWRA ? See this post . Why ISAC over VWRA? See this post . Why not IMID ? This includes small to large-cap stocks across developing AND developed markets! See this post . How often to rebalance the portfolio? A very good, mathematically accurate answer I read 2 suggests that you should rebalance at most once a year. That is what I do. In terms of adding cash into the portfolio however, I add once I have a suitable amount, to make the cost of transaction fees minimal. How much can I withdraw a year, without losing all of my principal? 4% of the total portfolio value per annum, assuming a portfolio invested in stocks and bonds 3 . Withdrawing more than 4% p.a. will make the portfolio go to $0 eventually. Should I hedge against foreign currency risk? This is controversial, but essentially if you are looking at the long term, currency hedging has little to no impact on your portfolio. 4 Why not put more into CPF instead? E.g. SA (SA shielding)? The main idea behind using CPF as an investment vehicle ( 1M65 etc) is to reap the 4% p.a. guaranteed return from the SA account. I firmly believe that over the course of a long investment horizon, such as 20 years, investment into the global markets can and will yield much better results than 4% p.a. (about 10% p.a. in fact). $1000 invested at 4% p.a. is worth $2191 in 20 years. But with an interest rate of 10% p.a. compounded, you'd have $6727 instead. - That being said, if you have a shorter investment horizon and plan to use your funds soon, investing in the SA (or the RA) could be part of your portfolio. Why is insurance (e.g. whole-life insurance) not part of the portfolio? Insurance is not investment. . The returns from a whole life policy are much lower than even CPF (SA account earns 4% guaranteed interest, while most whole-life plans have a floor interest rate of 2% p.a.). Rather, one buys insurance as a hedge against adverse events which may cause you to need the money earlier, such as disability or illness. For most working adults with dependents, term life insurance is sufficient. If you're wondering why I buy so many ETFs from iShares, it's because they boast one of the lowest expense ratios (an annual fee charged by the ETF managers). Alternative ETF providers include SSGA and Vanguard . \u21a9 From 'The Intelligent Asset Allocator'. Stock returns exhibit autocorrelation (that is, future returns are affected by past returns) over short time periods (e.g. days to months). If you were to rebalance during such a period where the autocorrelation is positive, you would lose money as you would be selling the rising asset too soon. \u21a9 From 'The Intelligent Asset Allocator'. While the real, inflation-adjusted return of your portfolio may be more than 4% p.a., there are years where your portfolio may earn less than this and vice versa. Based on historical data, a withdrawal rate of more than 4% p.a. has quite a high probability of draining the entire portfolio during a string of years with poor returns. With a 4% or lower withdrawal rate, the portfolio theoretically can be sustained nearly indefinitely. Contrast this to CPF ;) \u21a9 The Intelligent Asset Allocator, pg 142. \u21a9","title":"My Investment Portfolio"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#my-investment-portfolio","text":"This is my current portfolio allocation as of 2/6/21. % Product 1 (Ticker on LSE) 50% iShares MSCI ACWI UCITS ETF (ISAC) 30% iShares MSCI World Small Cap UCITS ETF (WSML) 10% iShares Developed Markets Property Yield UCITS ETF (DPYA) 10% iShares Core Global Aggregate Bond UCITS ETF (AGGU) As I've emphasized throughout this site, I don't pick individual stocks, nor actively trade. Such activity, to me, is likely to lead to loss . These are the reasons for my own portfolio allocation above . As I am still working, the bulk return of my portfolio comes from equities. I am comfortable bearing the drawdown risk. For equities, I buy both an ETF investing in large and mid-cap companies globally across both emerging and developed markets (ISAC), and another in small-cap companies, also globally (WSML). I buy some bonds for the diversification effect. As interest rates are low now (2020), I have reduced the allocation to bond ETFs. I plan to increase this as I grow older. I am planning to buy a commodity ETF e.g. one tracking the GSCI . For the portfolio detailed at the start of this post, my risk exposures are 80% equities (of which 50% are large- and mid-cap companies globally, and 30% small-cap) 10% global property (in the form of real estate investment trust ETFs) 10% bonds (international denominated bonds)","title":"My Investment Portfolio"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#faq","text":"","title":"FAQ"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-are-all-your-etfs-dormiciled-in-ireland-what-does-ucits-mean","text":"The main reasons are to save on witholding tax on dividends (15% vs 30%), and estate duty. Bogleheads has a great explanation. Note: this only applies if you're not a US investor.","title":"Why are all your ETFs dormiciled in Ireland? What does UCITS mean?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-consider-high-yield-short-duration-bonds-eg-sdha","text":"High yield, short duration bonds perform remarkably similar to equities (they lack the traditional stability associated with bonds). I would rather invest more in equities than in these or junk bonds.","title":"Why not consider high yield, short duration bonds e.g. SDHA?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-isac-wsml-and-not-iwda-cspx-or-vwra","text":"See this post .","title":"Why ISAC + WSML and not IWDA + CSPX or VWRA?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-isac-over-vwra","text":"See this post .","title":"Why ISAC over VWRA?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-imid-this-includes-small-to-large-cap-stocks-across-developing-and-developed-markets","text":"See this post .","title":"Why not IMID? This includes small to large-cap stocks across developing AND developed markets!"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#how-often-to-rebalance-the-portfolio","text":"A very good, mathematically accurate answer I read 2 suggests that you should rebalance at most once a year. That is what I do. In terms of adding cash into the portfolio however, I add once I have a suitable amount, to make the cost of transaction fees minimal.","title":"How often to rebalance the portfolio?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#how-much-can-i-withdraw-a-year-without-losing-all-of-my-principal","text":"4% of the total portfolio value per annum, assuming a portfolio invested in stocks and bonds 3 . Withdrawing more than 4% p.a. will make the portfolio go to $0 eventually.","title":"How much can I withdraw a year, without losing all of my principal?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#should-i-hedge-against-foreign-currency-risk","text":"This is controversial, but essentially if you are looking at the long term, currency hedging has little to no impact on your portfolio. 4","title":"Should I hedge against foreign currency risk?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-put-more-into-cpf-instead-eg-sa-sa-shielding","text":"The main idea behind using CPF as an investment vehicle ( 1M65 etc) is to reap the 4% p.a. guaranteed return from the SA account. I firmly believe that over the course of a long investment horizon, such as 20 years, investment into the global markets can and will yield much better results than 4% p.a. (about 10% p.a. in fact). $1000 invested at 4% p.a. is worth $2191 in 20 years. But with an interest rate of 10% p.a. compounded, you'd have $6727 instead. - That being said, if you have a shorter investment horizon and plan to use your funds soon, investing in the SA (or the RA) could be part of your portfolio.","title":"Why not put more into CPF instead? E.g. SA (SA shielding)?"},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-is-insurance-eg-whole-life-insurance-not-part-of-the-portfolio","text":"Insurance is not investment. . The returns from a whole life policy are much lower than even CPF (SA account earns 4% guaranteed interest, while most whole-life plans have a floor interest rate of 2% p.a.). Rather, one buys insurance as a hedge against adverse events which may cause you to need the money earlier, such as disability or illness. For most working adults with dependents, term life insurance is sufficient. If you're wondering why I buy so many ETFs from iShares, it's because they boast one of the lowest expense ratios (an annual fee charged by the ETF managers). Alternative ETF providers include SSGA and Vanguard . \u21a9 From 'The Intelligent Asset Allocator'. Stock returns exhibit autocorrelation (that is, future returns are affected by past returns) over short time periods (e.g. days to months). If you were to rebalance during such a period where the autocorrelation is positive, you would lose money as you would be selling the rising asset too soon. \u21a9 From 'The Intelligent Asset Allocator'. While the real, inflation-adjusted return of your portfolio may be more than 4% p.a., there are years where your portfolio may earn less than this and vice versa. Based on historical data, a withdrawal rate of more than 4% p.a. has quite a high probability of draining the entire portfolio during a string of years with poor returns. With a 4% or lower withdrawal rate, the portfolio theoretically can be sustained nearly indefinitely. Contrast this to CPF ;) \u21a9 The Intelligent Asset Allocator, pg 142. \u21a9","title":"Why is insurance (e.g. whole-life insurance) not part of the portfolio?"},{"location":"blog-posts/2021-03-19-life-insurance/","tags":["Insurance"],"text":"Life Insurance I am a strong proponent of term life insurance. In this post, I go against the common wisdom of 'getting your money back' 1 and refute common arguments for whole life insurance. I propose, and defend, my recommendation to buy term life + critical illness coverage. Of note, a good comparison of insurance policies can be found on comparefirst.sg . Finally, I can check premiums without calling 10 agents Update (Apr 2021) : MoneyOwl is a service which independently assesses policies across insurance companies for you, and rebates you up to 50% of the commission they receive (of what your agent would normally get). Term Life offers the same protection for a lower cost This is the single most important reason. Let's look at the premiums for a 27-year, male non-smoker, sum assured $300,000 2 . For the sake of comparison: there is no 'multiplier' component on the whole life (note: a 'multiplier' is essentially term insurance 3 ) the premium term for the whole life is until 80, for easier comparison with the term life I chose the lower-mid quotes for each on comparefirst.sg Type Annual Premium Premium Term Total Premium Term Life till 75 $540 48 $25,680 Whole Life $4,761 52 $247,572 The term life is nearly 90% cheaper than the whole life, for the same coverage. You can invest the extra $221,892 yourself. Another interesting effect: With inflation, the premiums you pay later on, actually become cheaper 4 . The rational individual should therefore prefer to pay over a longer period of time 7 . Also, some term life policies are convertible , meaning you have the guaranteed option to switch to a whole life policy before a certain age (usually 65). Common Arguments for Whole Life Q: But I will definitely get my money back for the whole life plan! A: Yes, but is it really worth paying 10 times more for that privilege? You could have invested in property, or paid for your children's education with the money you have saved. Don't forget - even if you get your money back, it's already worth less because of inflation 4 . $100 now is worth more than $100 in the future. Q: How about the annual bonuses that the insurance company is offering? 3.75% is a lot! A: Firstly, the bonuses are not guaranteed . Secondly, the bonus rates are significantly lower than what you can get from broad-based index investing - $100 compounded for 10 years at 3.75% is $144.59, while at 8% (US stock historical return) it is $215.89. You'd be better off buying a term life policy and investing the rest yourself. If you don't think you can invest, put it all into CPF. The SA (Special Account) interest of 4%++pa/yr beats nearly all whole life plans in the market. In fact, just by having $130K in CPF by your early 30s, you could have $1,000,000 in CPF by 65 6 . Q: The coverage for term life ends at 75! What happens if I die after that? I get nothing! A: This is one of the biggest misconceptions with insurance. Insurance isn't an investment . It's meant to cover you in the unlikely event a major catastrophe befalls you when you're still building up your nest egg, or when you have dependents. Think about it - if insurance were a surefire way to earn money, how would the insurance companies profit? They're not running a charity. I chose 75 to be the cover end date for the term policy, as that is when you should be financially independent, and no longer have any dependents or liabilities. Which brings me to... Q: If term insurance is so good, why not I buy it till 100? Isn't that a sure-earn? I only need to pay $200K total for $1M coverage! A: Again, insurance isn't an investment . While there are some people pushing it, it is important to note that unlike a traditional investment, you: cannot 'withdraw' money if you need it cannot use the sum assured for collateral (e.g. to buy property) have to continually pay premium, or the policy will lapse If you want to use it for inheritance, fine 5 . Otherwise, stick to a proper investment plan . Other FAQ Q: Are there really no benefits to whole life then? Surely it can't be that bad? A: A whole life policy can be a way for the less disciplined to set aside money each year. Additionally, if you pay over a shorter premium term e.g. 10/15 years, you do not have to pay anything after, unlike the term life. Also, as you will get the sum assured (plus bonuses) upon death, it can be a way to provide inheritance for your children. Of course, the same can be done with term life + an investment strategy. Q: How about critical illness (CI) coverage? Is it worth it? A: Yes. CI coverage covers against cancer, stroke, heart attack and other serious diseases 8 which, if they don't kill you outright, can leave you unable to work. Buying a CI rider will accelerate 10 the sum assured in the event of diagnosis of one of these illnesses, helping to cover you when you are unable to work. Note: This is NOT the same as hospitalization insurance ( shield plans ). Hospitalization insurance pays for the cost of treatment and surgery. After you leave the hospital, you're on your own. CI coverage is to help defray your living costs due to lack of income. Q: Should I buy Early Critical Illness (ECI) cover? A: This is a topic I am currently considering and researching myself. The additional coverage is nice to have considering the standard critical illness definitions are becoming stricter. However, unlike the standard CI definitions, ECI definitions are not standard and vary by insurance company 9 . Nontheless, covering a smaller sum, say $200,000 can be an option. Q: How much insurance should I buy? A: My personal ideology is to cover approximately 10 years of your income, or $1M, whichever is less. Otherwise, you can go with the traditional methods of calculating your assets and liabilities. It is better to over-buy than under-buy (within reason). Q: Shouldn't I wait until I have dependents before buying insurance? A: Premiums are cheaper overall the earlier you buy. For example, for a sum assured of $300,000, if you were to buy term insurance for 50 years (till 75) when you are 25, you would pay $28,425 total in premiums. However, if you were to buy term insurance for 35 years (till 75) when you are 40, you would pay $33,784 total in premiums. Wasn't that the main reason you were going to buy whole life insurance? :) \u21a9 comparefirst.sg \u21a9 Mathematically speaking, a multiplier component on a whole-life policy is equivalent to purchasing an additional term insurance over the same duration. For example, a $100,000 whole life policy with a 2x multiplier up to 75, is equivalent to buying the basic $100,000 whole life policy and then buying another $100,000 term insurance till 75. \u21a9 The median inflation rate for Singapore was 1.72%pa from 1961-2021 ( source ). At this rate, $100 now will be worth $84, 10 years in the future. \u21a9 \u21a9 Do note there is a 'risk' that you will live beyond 100 and thus not get your payout - around 4% , to be exact. \u21a9 1M65 \u21a9 To be exact, you could calculate the total inflation-adjusted premiums for term and whole life for a more accurate comparison. \u21a9 The standard definitions of 37 critical illnesses can be found here . The definitions have become stricter over time, e.g. a lot of early cancers are excluded, so it helps to buy your policy earlier while you can. \u21a9 For example, under early stage cancer, HSBC covers neuroendocrine tumours and bone marrow malignancies, while Prudential does not. \u21a9 The term 'accelerate' means that the sum assured is paid out earlier, based on the terms of the rider. It is in effect 'accelerated'. \u21a9","title":"Life Insurance"},{"location":"blog-posts/2021-03-19-life-insurance/#life-insurance","text":"I am a strong proponent of term life insurance. In this post, I go against the common wisdom of 'getting your money back' 1 and refute common arguments for whole life insurance. I propose, and defend, my recommendation to buy term life + critical illness coverage. Of note, a good comparison of insurance policies can be found on comparefirst.sg . Finally, I can check premiums without calling 10 agents Update (Apr 2021) : MoneyOwl is a service which independently assesses policies across insurance companies for you, and rebates you up to 50% of the commission they receive (of what your agent would normally get).","title":"Life Insurance"},{"location":"blog-posts/2021-03-19-life-insurance/#term-life-offers-the-same-protection-for-a-lower-cost","text":"This is the single most important reason. Let's look at the premiums for a 27-year, male non-smoker, sum assured $300,000 2 . For the sake of comparison: there is no 'multiplier' component on the whole life (note: a 'multiplier' is essentially term insurance 3 ) the premium term for the whole life is until 80, for easier comparison with the term life I chose the lower-mid quotes for each on comparefirst.sg Type Annual Premium Premium Term Total Premium Term Life till 75 $540 48 $25,680 Whole Life $4,761 52 $247,572 The term life is nearly 90% cheaper than the whole life, for the same coverage. You can invest the extra $221,892 yourself. Another interesting effect: With inflation, the premiums you pay later on, actually become cheaper 4 . The rational individual should therefore prefer to pay over a longer period of time 7 . Also, some term life policies are convertible , meaning you have the guaranteed option to switch to a whole life policy before a certain age (usually 65).","title":"Term Life offers the same protection for a lower cost"},{"location":"blog-posts/2021-03-19-life-insurance/#common-arguments-for-whole-life","text":"Q: But I will definitely get my money back for the whole life plan! A: Yes, but is it really worth paying 10 times more for that privilege? You could have invested in property, or paid for your children's education with the money you have saved. Don't forget - even if you get your money back, it's already worth less because of inflation 4 . $100 now is worth more than $100 in the future. Q: How about the annual bonuses that the insurance company is offering? 3.75% is a lot! A: Firstly, the bonuses are not guaranteed . Secondly, the bonus rates are significantly lower than what you can get from broad-based index investing - $100 compounded for 10 years at 3.75% is $144.59, while at 8% (US stock historical return) it is $215.89. You'd be better off buying a term life policy and investing the rest yourself. If you don't think you can invest, put it all into CPF. The SA (Special Account) interest of 4%++pa/yr beats nearly all whole life plans in the market. In fact, just by having $130K in CPF by your early 30s, you could have $1,000,000 in CPF by 65 6 . Q: The coverage for term life ends at 75! What happens if I die after that? I get nothing! A: This is one of the biggest misconceptions with insurance. Insurance isn't an investment . It's meant to cover you in the unlikely event a major catastrophe befalls you when you're still building up your nest egg, or when you have dependents. Think about it - if insurance were a surefire way to earn money, how would the insurance companies profit? They're not running a charity. I chose 75 to be the cover end date for the term policy, as that is when you should be financially independent, and no longer have any dependents or liabilities. Which brings me to... Q: If term insurance is so good, why not I buy it till 100? Isn't that a sure-earn? I only need to pay $200K total for $1M coverage! A: Again, insurance isn't an investment . While there are some people pushing it, it is important to note that unlike a traditional investment, you: cannot 'withdraw' money if you need it cannot use the sum assured for collateral (e.g. to buy property) have to continually pay premium, or the policy will lapse If you want to use it for inheritance, fine 5 . Otherwise, stick to a proper investment plan .","title":"Common Arguments for Whole Life"},{"location":"blog-posts/2021-03-19-life-insurance/#other-faq","text":"Q: Are there really no benefits to whole life then? Surely it can't be that bad? A: A whole life policy can be a way for the less disciplined to set aside money each year. Additionally, if you pay over a shorter premium term e.g. 10/15 years, you do not have to pay anything after, unlike the term life. Also, as you will get the sum assured (plus bonuses) upon death, it can be a way to provide inheritance for your children. Of course, the same can be done with term life + an investment strategy. Q: How about critical illness (CI) coverage? Is it worth it? A: Yes. CI coverage covers against cancer, stroke, heart attack and other serious diseases 8 which, if they don't kill you outright, can leave you unable to work. Buying a CI rider will accelerate 10 the sum assured in the event of diagnosis of one of these illnesses, helping to cover you when you are unable to work. Note: This is NOT the same as hospitalization insurance ( shield plans ). Hospitalization insurance pays for the cost of treatment and surgery. After you leave the hospital, you're on your own. CI coverage is to help defray your living costs due to lack of income. Q: Should I buy Early Critical Illness (ECI) cover? A: This is a topic I am currently considering and researching myself. The additional coverage is nice to have considering the standard critical illness definitions are becoming stricter. However, unlike the standard CI definitions, ECI definitions are not standard and vary by insurance company 9 . Nontheless, covering a smaller sum, say $200,000 can be an option. Q: How much insurance should I buy? A: My personal ideology is to cover approximately 10 years of your income, or $1M, whichever is less. Otherwise, you can go with the traditional methods of calculating your assets and liabilities. It is better to over-buy than under-buy (within reason). Q: Shouldn't I wait until I have dependents before buying insurance? A: Premiums are cheaper overall the earlier you buy. For example, for a sum assured of $300,000, if you were to buy term insurance for 50 years (till 75) when you are 25, you would pay $28,425 total in premiums. However, if you were to buy term insurance for 35 years (till 75) when you are 40, you would pay $33,784 total in premiums. Wasn't that the main reason you were going to buy whole life insurance? :) \u21a9 comparefirst.sg \u21a9 Mathematically speaking, a multiplier component on a whole-life policy is equivalent to purchasing an additional term insurance over the same duration. For example, a $100,000 whole life policy with a 2x multiplier up to 75, is equivalent to buying the basic $100,000 whole life policy and then buying another $100,000 term insurance till 75. \u21a9 The median inflation rate for Singapore was 1.72%pa from 1961-2021 ( source ). At this rate, $100 now will be worth $84, 10 years in the future. \u21a9 \u21a9 Do note there is a 'risk' that you will live beyond 100 and thus not get your payout - around 4% , to be exact. \u21a9 1M65 \u21a9 To be exact, you could calculate the total inflation-adjusted premiums for term and whole life for a more accurate comparison. \u21a9 The standard definitions of 37 critical illnesses can be found here . The definitions have become stricter over time, e.g. a lot of early cancers are excluded, so it helps to buy your policy earlier while you can. \u21a9 For example, under early stage cancer, HSBC covers neuroendocrine tumours and bone marrow malignancies, while Prudential does not. \u21a9 The term 'accelerate' means that the sum assured is paid out earlier, based on the terms of the rider. It is in effect 'accelerated'. \u21a9","title":"Other FAQ"},{"location":"blog-posts/2021-04-15-python-package-management-windows/","tags":["Programming"],"text":"Python Package Management on Windows Update 17/11/21 I now use WSL2 containers in VSCode . Additionally, I use requirements.txt files generated with: pip list format=freeze --not-required --not-required ensures only top-level packages are printed. In addition, I use >= <MAJOR>.<MINOR>.* to pin the major and minor version of packages, while allowing for patch versions to be updated automatically each time the container is rebuilt. This prevents surprises during deployment (e.g. missing functionality in minor versions) while allowing bugfix versions to automatically be upgraded without hassle. The State of Python Package Management Python does not have good package management . Recently I was trying to update one of my Conda environments. After running conda update --all however, the environment crashed. This is not the only problem I have with Conda. Many python packages aren't available on Conda. For example, broadlink Conda sometimes hosts outdated versions of packages vs pip, such as pdfminer (that was a real headache) Search is slow. Very slow. conda update --all doesn't update pip packages... That being said, Conda allows you to specify and manage Python itself as a dependency, which is great on Windows, as it prevents you from polluting the working environment. I started looking for alternatives. There's virtualenv , poetry , pyenv-win among others. I was previously using pipenv , but the dependency resolution wasn't perfect and I kept getting errors about unsatisfiable dependencies. So what's the best solution? Poetry + Chocolatey to the rescue! My setup: Chocolatey with --sidebyside to manage Python versions Poetry to manage Python packages under a specified Python version I decided to use Chocolatey to manage python versions, because I don't want to have to keep installing Python 3.8.9 or whatever again and again, just because PyTorch or OpenCV some library doesn't support 3.9. I set up a Python environment with Poetry using poetry new <project-name> . By default, the system python version is used (the one present in the PATH ). However if you want to use another version, you can either do poetry env use /full/path/to/python or edit the pyproject.toml as follows, then run poetry update after: [tool.poetry] name = \"poetry-demo\" version = \"0.1.0\" description = \"\" authors = [ \"S\u00e9bastien Eustace <sebastien@eustace.io>\" ] [tool.poetry.dependencies] python = \"3.8\" [tool.poetry.dev-dependencies] pytest = \"^3.4\" You can activate the poetry shell with poetry shell . Otherwise, some IDEs e.g. PyCharm do this for you automatically. You can add new packages with poetry add <package> . I know Chocolatey executes administrator-level code on your computer, but it works. I'll have to move to Linux one day, seeing as so many Python packages can't be built on Windows. Automatic Dependency Generation Sometimes you might have a Python project with another dependency management framework, e.g. Conda or Pip. One day, you realize you need to distribute your project to your friend, but you don't have a list of dependencies. You could do pip freeze , but it's usually full of packages your project doesn't even use. Here's where automatic dependency generation comes in. Packages like pipreqs and pigar are able to analyze the source code of your project, and produce a requirements.txt automatically. As to which is the best, pipreqs or pigar , I've tried both, and pipreqs is better than pigar for automatically generating the requirements for your project.","title":"Python Package Management on Windows"},{"location":"blog-posts/2021-04-15-python-package-management-windows/#python-package-management-on-windows","text":"","title":"Python Package Management on Windows"},{"location":"blog-posts/2021-04-15-python-package-management-windows/#update-171121","text":"I now use WSL2 containers in VSCode . Additionally, I use requirements.txt files generated with: pip list format=freeze --not-required --not-required ensures only top-level packages are printed. In addition, I use >= <MAJOR>.<MINOR>.* to pin the major and minor version of packages, while allowing for patch versions to be updated automatically each time the container is rebuilt. This prevents surprises during deployment (e.g. missing functionality in minor versions) while allowing bugfix versions to automatically be upgraded without hassle.","title":"Update 17/11/21"},{"location":"blog-posts/2021-04-15-python-package-management-windows/#the-state-of-python-package-management","text":"Python does not have good package management . Recently I was trying to update one of my Conda environments. After running conda update --all however, the environment crashed. This is not the only problem I have with Conda. Many python packages aren't available on Conda. For example, broadlink Conda sometimes hosts outdated versions of packages vs pip, such as pdfminer (that was a real headache) Search is slow. Very slow. conda update --all doesn't update pip packages... That being said, Conda allows you to specify and manage Python itself as a dependency, which is great on Windows, as it prevents you from polluting the working environment. I started looking for alternatives. There's virtualenv , poetry , pyenv-win among others. I was previously using pipenv , but the dependency resolution wasn't perfect and I kept getting errors about unsatisfiable dependencies. So what's the best solution?","title":"The State of Python Package Management"},{"location":"blog-posts/2021-04-15-python-package-management-windows/#poetry-chocolatey-to-the-rescue","text":"My setup: Chocolatey with --sidebyside to manage Python versions Poetry to manage Python packages under a specified Python version I decided to use Chocolatey to manage python versions, because I don't want to have to keep installing Python 3.8.9 or whatever again and again, just because PyTorch or OpenCV some library doesn't support 3.9. I set up a Python environment with Poetry using poetry new <project-name> . By default, the system python version is used (the one present in the PATH ). However if you want to use another version, you can either do poetry env use /full/path/to/python or edit the pyproject.toml as follows, then run poetry update after: [tool.poetry] name = \"poetry-demo\" version = \"0.1.0\" description = \"\" authors = [ \"S\u00e9bastien Eustace <sebastien@eustace.io>\" ] [tool.poetry.dependencies] python = \"3.8\" [tool.poetry.dev-dependencies] pytest = \"^3.4\" You can activate the poetry shell with poetry shell . Otherwise, some IDEs e.g. PyCharm do this for you automatically. You can add new packages with poetry add <package> . I know Chocolatey executes administrator-level code on your computer, but it works. I'll have to move to Linux one day, seeing as so many Python packages can't be built on Windows.","title":"Poetry + Chocolatey to the rescue!"},{"location":"blog-posts/2021-04-15-python-package-management-windows/#automatic-dependency-generation","text":"Sometimes you might have a Python project with another dependency management framework, e.g. Conda or Pip. One day, you realize you need to distribute your project to your friend, but you don't have a list of dependencies. You could do pip freeze , but it's usually full of packages your project doesn't even use. Here's where automatic dependency generation comes in. Packages like pipreqs and pigar are able to analyze the source code of your project, and produce a requirements.txt automatically. As to which is the best, pipreqs or pigar , I've tried both, and pipreqs is better than pigar for automatically generating the requirements for your project.","title":"Automatic Dependency Generation"},{"location":"blog-posts/2021-04-22-calculating-return/","tags":["Finance"],"text":"Calculating Return (work in progress) Returns. The quintessential word we hear when evaluating a fund, looking at our CPF, or even when buying insurance (ill-advised). How do we actually calculate the return of our portfolio, when we add/withdraw funds from it over the course of time? Let's consider an example. On 1 Jan 2020, John invests $100. In Jun, the market went up and his portfolio is now worth $200. He invests another $100. By the next year, on 1 Jan 2021, the markets remained flat - leaving him with $300 in his account. What is his return? Surely, his return is not $300 - $100 = $200 (200%), because he invested $200 in total. Neither does it seem to be $300 - $200 = \\(100 (50%) - it is clear that between Jan 20 and Jun, he made a 100% return (\\) 100 -> $200) We know therefore his return should be between 50-200%, but what is it? There are two widely accepted ways to solve this problem, the Time - Weighted Rate of Return (TWRR), and the Money - Weighted Rate of Return (MWRR) (which is equivalent to the Internal Rate of Return, IRR). Time - Weighted Rate of Return (TWRR) Formula The product of all returns for periods where money moves in/out of the portfolio insensitive to cash inflows/outflows (i.e., it is the return one would have got if they invested everything right at the start) requires valuation of the portfolio at each time point therefore better suited for portfolio managers, who cannot control inflows/outflows Money - Weighted Rate of Return (MWRR) Also known as the Annualized Internal Rate of Return. Formula equivalent to the internal rate of return (for an investment, in this case your portfolio) assumes cashflow in each period is continuously invested in subsequent periods suitable if you are in control of the cashflows in/out of the portfolio does not require portfolio valuations at each calculation point https://oldschoolvalue-files.s3.amazonaws.com/premium/portfolio-performance-calculation-IB.pdf Consider taking more information from the Endowus Portfolio page Modified Dietz Rate of Return Simple Return Forex Forex can also erode one's gains. Take the following for example: (include forex example from Finance and Investing here)","title":"Calculating Return"},{"location":"blog-posts/2021-04-22-calculating-return/#calculating-return-work-in-progress","text":"Returns. The quintessential word we hear when evaluating a fund, looking at our CPF, or even when buying insurance (ill-advised). How do we actually calculate the return of our portfolio, when we add/withdraw funds from it over the course of time? Let's consider an example. On 1 Jan 2020, John invests $100. In Jun, the market went up and his portfolio is now worth $200. He invests another $100. By the next year, on 1 Jan 2021, the markets remained flat - leaving him with $300 in his account. What is his return? Surely, his return is not $300 - $100 = $200 (200%), because he invested $200 in total. Neither does it seem to be $300 - $200 = \\(100 (50%) - it is clear that between Jan 20 and Jun, he made a 100% return (\\) 100 -> $200) We know therefore his return should be between 50-200%, but what is it? There are two widely accepted ways to solve this problem, the Time - Weighted Rate of Return (TWRR), and the Money - Weighted Rate of Return (MWRR) (which is equivalent to the Internal Rate of Return, IRR).","title":"Calculating Return (work in progress)"},{"location":"blog-posts/2021-04-22-calculating-return/#time-weighted-rate-of-return-twrr","text":"Formula The product of all returns for periods where money moves in/out of the portfolio insensitive to cash inflows/outflows (i.e., it is the return one would have got if they invested everything right at the start) requires valuation of the portfolio at each time point therefore better suited for portfolio managers, who cannot control inflows/outflows","title":"Time - Weighted Rate of Return (TWRR)"},{"location":"blog-posts/2021-04-22-calculating-return/#money-weighted-rate-of-return-mwrr","text":"Also known as the Annualized Internal Rate of Return. Formula equivalent to the internal rate of return (for an investment, in this case your portfolio) assumes cashflow in each period is continuously invested in subsequent periods suitable if you are in control of the cashflows in/out of the portfolio does not require portfolio valuations at each calculation point https://oldschoolvalue-files.s3.amazonaws.com/premium/portfolio-performance-calculation-IB.pdf","title":"Money - Weighted Rate of Return (MWRR)"},{"location":"blog-posts/2021-04-22-calculating-return/#consider-taking-more-information-from-the-endowus-portfolio-page","text":"","title":"Consider taking more information from the Endowus Portfolio page"},{"location":"blog-posts/2021-04-22-calculating-return/#modified-dietz-rate-of-return","text":"","title":"Modified Dietz Rate of Return"},{"location":"blog-posts/2021-04-22-calculating-return/#simple-return","text":"","title":"Simple Return"},{"location":"blog-posts/2021-04-22-calculating-return/#forex","text":"Forex can also erode one's gains. Take the following for example: (include forex example from Finance and Investing here)","title":"Forex"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/","tags":["Finance"],"text":"The Best Index Fund (or ETF) I've been advocating for broad based, index investing if you follow my blog. But with so many options, which is the best? ISAC , WSML , IWDA , CSPX and VWRA Let's look at how they compare. Take note of the expense ratio and fund size (this affects liquidity, or the bid/ask spread 1 ). As of 2021-06-02 CSPX ISAC IMID IWDA WSML VWRA Expense Ratio (%) 0.07 0.20 0.40 0.20 0.35 0.22 Fund Size 45B 2.4B 0.27B 36B 4.2B 2.6B Developed Large Cap Developed Mid Cap Developed Small Cap Emerging Large Cap Emerging Mid Cap Emerging Small Cap I previously used the CSPX + IWDA combo, as ISAC had an expense ratio of 0.6% (I don't like anything above 0.5%). However, the expense ratio of ISAC has since dropped to 0.2%, making ISAC more attractive. ISAC includes mid and large-cap emerging market stocks, while the CSPX + IWDA combo does not. Also, ISAC does all this in 1 ETF, instead of 2. I combine ISAC together with WSML (expense ratio of 0.35%), to ensure I am invested globally in small to large-cap stocks across developing and emerging markets. While the ISAC + WSML combo does not include emerging small cap markets, to me this isn't a problem - I think emerging small caps are quite a gamble. That's my opinion. FAQ Why ISAC over VWRA? VWRA is a Vanguard fund dormiciled in Ireland, tracking the FTSE All-World index , an index covering large and mid-cap companies across developed and developing markets which claims to track 98% of the world investible market capitalization. The MSCI ACWI Index on the other hand, tracks 85% of the global investible set. Apart from some other minor differences , the MSCI and FTSE World indices are similar in that they include mid to large-cap stocks in developing and developed countries. I wouldn't fret over the differences too much. If you're already in ISAC, keep it. Otherwise, you can consider buying VWRA to begin with. Why not IMID ? This includes small to large-cap stocks across developing AND developed markets! The main reason is due to the small fund size at the moment (0.27B), and the higher expense ration (0.4%). Otherwise, it is an attractive option, being 1 ETF instead of 2. This is the difference between the price you buy and sell at. Lower liquidity means this gap will be bigger. \u21a9","title":"The Best Index Fund"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#the-best-index-fund-or-etf","text":"I've been advocating for broad based, index investing if you follow my blog. But with so many options, which is the best?","title":"The Best Index Fund (or ETF)"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#isac-wsml-iwda-cspx-and-vwra","text":"Let's look at how they compare. Take note of the expense ratio and fund size (this affects liquidity, or the bid/ask spread 1 ). As of 2021-06-02 CSPX ISAC IMID IWDA WSML VWRA Expense Ratio (%) 0.07 0.20 0.40 0.20 0.35 0.22 Fund Size 45B 2.4B 0.27B 36B 4.2B 2.6B Developed Large Cap Developed Mid Cap Developed Small Cap Emerging Large Cap Emerging Mid Cap Emerging Small Cap I previously used the CSPX + IWDA combo, as ISAC had an expense ratio of 0.6% (I don't like anything above 0.5%). However, the expense ratio of ISAC has since dropped to 0.2%, making ISAC more attractive. ISAC includes mid and large-cap emerging market stocks, while the CSPX + IWDA combo does not. Also, ISAC does all this in 1 ETF, instead of 2. I combine ISAC together with WSML (expense ratio of 0.35%), to ensure I am invested globally in small to large-cap stocks across developing and emerging markets. While the ISAC + WSML combo does not include emerging small cap markets, to me this isn't a problem - I think emerging small caps are quite a gamble. That's my opinion.","title":"ISAC, WSML, IWDA, CSPX and VWRA"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#faq","text":"","title":"FAQ"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#why-isac-over-vwra","text":"VWRA is a Vanguard fund dormiciled in Ireland, tracking the FTSE All-World index , an index covering large and mid-cap companies across developed and developing markets which claims to track 98% of the world investible market capitalization. The MSCI ACWI Index on the other hand, tracks 85% of the global investible set. Apart from some other minor differences , the MSCI and FTSE World indices are similar in that they include mid to large-cap stocks in developing and developed countries. I wouldn't fret over the differences too much. If you're already in ISAC, keep it. Otherwise, you can consider buying VWRA to begin with.","title":"Why ISAC over VWRA?"},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#why-not-imid-this-includes-small-to-large-cap-stocks-across-developing-and-developed-markets","text":"The main reason is due to the small fund size at the moment (0.27B), and the higher expense ration (0.4%). Otherwise, it is an attractive option, being 1 ETF instead of 2. This is the difference between the price you buy and sell at. Lower liquidity means this gap will be bigger. \u21a9","title":"Why not IMID? This includes small to large-cap stocks across developing AND developed markets!"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/","tags":["Insurance"],"text":"A comparison between Great Eastern's TotalCare Classic and Elite riders On 2 Apr 2021, MOH announced that all new and existing Integrated Shield Plans (ISPs) would need to integrate a 5% co-payment feature. In other words, there will no longer be any riders covering 100% of your hospital bills. Part of the blame was laid upon increasing healthcare expenses and 'buffet syndrome' , but that is also debatable . With this in mind, I decided to look at the Great Eastern's (GE) new riders . Great Eastern offers 2 classes of riders on top of their base shield plan (GREAT SupremeHealth). These are called GREAT TotalCare Classic and Elite . They are available for all classes of the base shield plan, from B1 wards all the way to private hospitals 3 . Medishield Life ISPs and Medishield Life, the compulsory national health insurance we all have, require one to co-pay part of the bill, depending on the size. This is known as 'co-insurance'. There is also a minimum amount you must pay on the base plan. This is the deductible 1 , and is independent of the bill size 2 . The main purpose of GE's riders is to cover the co-insurance amount and the deductible. Before 2 Apr, riders could cover 100% of this amount. Now, consumers must co-pay at least 5% of the total bill. How do they differ? Let's start by looking at the similarities. In terms of the special benefits such as ambulance services, home health care benefit and limits on payable benefit, they are identical across their classes. There is no difference here - a TotalCare Classic-P and an Elite-P plan have the exact same special benefits. So what's the difference? It's in how much co-payment they cover. B1 and A rider comparison These plans cover B1 to A class wards in restructured hospitals. The Classic-A and B plans (the lower tier ones) require you to pay the greater of $3000 4 or 5% of the total bill. In contrast, the Elite-A and B plans require you to pay only 5% of the total bill, regardless of the size. Bill Size (B1 to A) $10,000 $60,000 $100,000 TotalCare Classic $3,000 $3,000 $5,000 TotalCare Elite $500 $3,000 $5,000 For a large bill 5 , you'll pay the same amount. For smaller bills however, you'll co-pay less with the Elite plan. Private rider comparison The situation is slightly different for the private riders. Here, you'll fall into one of the two groups 7 : Group 1: Restructured hospitals and private hospitals with a certificate of pre-authorization 8 (only applicable for panel doctors) Group 2: Private hospitals without a certificate of pre-authorization If you fall into the first group, the Classic-P and Elite-P plans are identical - you only pay 5% of the total bill. Things are different if you are in the second group (without pre-authorization). On the Classic-P plan, you'd have to pay the greater of 5% of the total bill, or the deductible from the base plan (currently $3,500 for people younger than 80 years). On the Elite-P plan however, you only pay 5% of the total bill again. Bill Size (Private) $10,000 $70,000 $100,000 TotalCare Classic $3,000 $3,500 $5,000 TotalCare Elite $500 $3,500 $5,000 Again, for a large bill 6 , you'll pay the same amount, while for smaller bills, the Elite plan covers more. So should we get the Elite plan, since the coverage is more? Let's compare the prices of these plans. Cost comparison Extra coverage must come at a price. We can make some observations: The P- (or private) class of either plan is markedly more expensive than the A- or B- ones. The Elite plan is markedly more expensive than the Classic plan For example, at 35 years, you'd be paying $377 more or 2.1x At 70 years, you'd be paying $2,796 more or 2.5x We can also look at the total premiums one would pay for different lengths of time: Total Premiums Paid Classic-P Elite-P Difference 20 to 50 years $11,420 $24,982 $13,562 20 to 74 years $43,872 $103,420 $59,548 One might ask how often must each individual be hospitalized, to receive benefits exceeding the premium paid, over the period of 30 years? This is not easy to calculate. We would need to take the average hospital bill size, as well as the hospitalization rates for an individual, and then run them through a spreadsheet. (Work in progress) Note also, that GE has introduced a claims-based pricing mechanic. I won't go into detail here, but suffice to say, your premiums increase the more times you are admitted, up to 2.5x the standard amount. Which plan is better? This question is subjective, since people have different needs. For the Classic plan: You pay less premiums overall For private hospitals, if you get a certificate of pre-authorization (i.e. a panel doctor), you pay the same as someone on the Elite plan However, for B1 to A wards, you have to pay the greater of 5% or the deductible (~$3,500) And for private hospitals, if you don't have a certificate of pre-authorization, you'll have to pay the greater of 5% or the deductible The Elite plan: You pay only 5% of the total bill regardless of pre-authorization or ward class However, the total premium paid is much higher than the Classic (up to $60,000 ) I feel that the real question is - would you pay $60,000 extra, to always pay only 5% of the total bill, regardless of the size? My opinion is that the Elite plan will in a sense 'pay-off' if you get warded frequently in private hospitals. Otherwise, you would be better off using the $60,000 that you would have saved, to pay for the excesses under the Classic plan. Even if you end up co-paying $3000 each admission, you'd have to be warded 20 times from 20 to 74 years of age to end up paying more than what someone with the Elite plan would have paid. Which, based on statistics , is unlikely. Therefore, the Classic plan looks like the winner here. As always, I'm open to comments and feedback! Written on 18/6/21 by Nicholas The deductible for GREAT SupremeHealth, for a private ward, is currently $3,500. This means that you'll have to pay the first $3,500 of your hospital bill (plus co-insurance), before any coverage happens. \u21a9 It does change by age and ward class, however. For example, a 50 year old in a private ward has a deductible of $3,500, but an 86 year old in a private ward has a deductible of $5,250. \u21a9 The TotalCare rider plan class must match the base SupremeHealth plan class, i.e. if you have a SupremeHealth A Plus plan, you can only buy the TotalCare Classic-A or Elite-A rider plans. \u21a9 Of course, if your total bill is less than $3000, then that's what you'd pay! \u21a9 $60,000 is the point of indifference between the two riders for the B1 to A plans - at this amount, you'll pay the same for both plans and so no reason to favour one over the other. \u21a9 $70,000 is the amount, above which, you'll pay the same for both riders. \u21a9 This segregation exists because insurance companies think that non-panel doctors charge more, and hence are not eligible for pre-authorization. Whether this is true or not is a subject of intense debate . \u21a9 This is a certificate from the insurance company stating that they have reviewed your application to be warded at a private hospital at a higher coverage, only if you've chosen a panel doctor. It takes a few working days, so it's not applicable if say, you have an emergency and get warded at a private hospital - there'd be no way for you to get the certificate in time. \u21a9","title":"GE TotalCare Rider Comparison"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#a-comparison-between-great-easterns-totalcare-classic-and-elite-riders","text":"On 2 Apr 2021, MOH announced that all new and existing Integrated Shield Plans (ISPs) would need to integrate a 5% co-payment feature. In other words, there will no longer be any riders covering 100% of your hospital bills. Part of the blame was laid upon increasing healthcare expenses and 'buffet syndrome' , but that is also debatable . With this in mind, I decided to look at the Great Eastern's (GE) new riders . Great Eastern offers 2 classes of riders on top of their base shield plan (GREAT SupremeHealth). These are called GREAT TotalCare Classic and Elite . They are available for all classes of the base shield plan, from B1 wards all the way to private hospitals 3 .","title":"A comparison between Great Eastern's TotalCare Classic and Elite riders"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#medishield-life","text":"ISPs and Medishield Life, the compulsory national health insurance we all have, require one to co-pay part of the bill, depending on the size. This is known as 'co-insurance'. There is also a minimum amount you must pay on the base plan. This is the deductible 1 , and is independent of the bill size 2 . The main purpose of GE's riders is to cover the co-insurance amount and the deductible. Before 2 Apr, riders could cover 100% of this amount. Now, consumers must co-pay at least 5% of the total bill.","title":"Medishield Life"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#how-do-they-differ","text":"Let's start by looking at the similarities. In terms of the special benefits such as ambulance services, home health care benefit and limits on payable benefit, they are identical across their classes. There is no difference here - a TotalCare Classic-P and an Elite-P plan have the exact same special benefits. So what's the difference? It's in how much co-payment they cover.","title":"How do they differ?"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#b1-and-a-rider-comparison","text":"These plans cover B1 to A class wards in restructured hospitals. The Classic-A and B plans (the lower tier ones) require you to pay the greater of $3000 4 or 5% of the total bill. In contrast, the Elite-A and B plans require you to pay only 5% of the total bill, regardless of the size. Bill Size (B1 to A) $10,000 $60,000 $100,000 TotalCare Classic $3,000 $3,000 $5,000 TotalCare Elite $500 $3,000 $5,000 For a large bill 5 , you'll pay the same amount. For smaller bills however, you'll co-pay less with the Elite plan.","title":"B1 and A rider comparison"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#private-rider-comparison","text":"The situation is slightly different for the private riders. Here, you'll fall into one of the two groups 7 : Group 1: Restructured hospitals and private hospitals with a certificate of pre-authorization 8 (only applicable for panel doctors) Group 2: Private hospitals without a certificate of pre-authorization If you fall into the first group, the Classic-P and Elite-P plans are identical - you only pay 5% of the total bill. Things are different if you are in the second group (without pre-authorization). On the Classic-P plan, you'd have to pay the greater of 5% of the total bill, or the deductible from the base plan (currently $3,500 for people younger than 80 years). On the Elite-P plan however, you only pay 5% of the total bill again. Bill Size (Private) $10,000 $70,000 $100,000 TotalCare Classic $3,000 $3,500 $5,000 TotalCare Elite $500 $3,500 $5,000 Again, for a large bill 6 , you'll pay the same amount, while for smaller bills, the Elite plan covers more. So should we get the Elite plan, since the coverage is more? Let's compare the prices of these plans.","title":"Private rider comparison"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#cost-comparison","text":"Extra coverage must come at a price. We can make some observations: The P- (or private) class of either plan is markedly more expensive than the A- or B- ones. The Elite plan is markedly more expensive than the Classic plan For example, at 35 years, you'd be paying $377 more or 2.1x At 70 years, you'd be paying $2,796 more or 2.5x We can also look at the total premiums one would pay for different lengths of time: Total Premiums Paid Classic-P Elite-P Difference 20 to 50 years $11,420 $24,982 $13,562 20 to 74 years $43,872 $103,420 $59,548 One might ask how often must each individual be hospitalized, to receive benefits exceeding the premium paid, over the period of 30 years? This is not easy to calculate. We would need to take the average hospital bill size, as well as the hospitalization rates for an individual, and then run them through a spreadsheet. (Work in progress) Note also, that GE has introduced a claims-based pricing mechanic. I won't go into detail here, but suffice to say, your premiums increase the more times you are admitted, up to 2.5x the standard amount.","title":"Cost comparison"},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#which-plan-is-better","text":"This question is subjective, since people have different needs. For the Classic plan: You pay less premiums overall For private hospitals, if you get a certificate of pre-authorization (i.e. a panel doctor), you pay the same as someone on the Elite plan However, for B1 to A wards, you have to pay the greater of 5% or the deductible (~$3,500) And for private hospitals, if you don't have a certificate of pre-authorization, you'll have to pay the greater of 5% or the deductible The Elite plan: You pay only 5% of the total bill regardless of pre-authorization or ward class However, the total premium paid is much higher than the Classic (up to $60,000 ) I feel that the real question is - would you pay $60,000 extra, to always pay only 5% of the total bill, regardless of the size? My opinion is that the Elite plan will in a sense 'pay-off' if you get warded frequently in private hospitals. Otherwise, you would be better off using the $60,000 that you would have saved, to pay for the excesses under the Classic plan. Even if you end up co-paying $3000 each admission, you'd have to be warded 20 times from 20 to 74 years of age to end up paying more than what someone with the Elite plan would have paid. Which, based on statistics , is unlikely. Therefore, the Classic plan looks like the winner here. As always, I'm open to comments and feedback! Written on 18/6/21 by Nicholas The deductible for GREAT SupremeHealth, for a private ward, is currently $3,500. This means that you'll have to pay the first $3,500 of your hospital bill (plus co-insurance), before any coverage happens. \u21a9 It does change by age and ward class, however. For example, a 50 year old in a private ward has a deductible of $3,500, but an 86 year old in a private ward has a deductible of $5,250. \u21a9 The TotalCare rider plan class must match the base SupremeHealth plan class, i.e. if you have a SupremeHealth A Plus plan, you can only buy the TotalCare Classic-A or Elite-A rider plans. \u21a9 Of course, if your total bill is less than $3000, then that's what you'd pay! \u21a9 $60,000 is the point of indifference between the two riders for the B1 to A plans - at this amount, you'll pay the same for both plans and so no reason to favour one over the other. \u21a9 $70,000 is the amount, above which, you'll pay the same for both riders. \u21a9 This segregation exists because insurance companies think that non-panel doctors charge more, and hence are not eligible for pre-authorization. Whether this is true or not is a subject of intense debate . \u21a9 This is a certificate from the insurance company stating that they have reviewed your application to be warded at a private hospital at a higher coverage, only if you've chosen a panel doctor. It takes a few working days, so it's not applicable if say, you have an emergency and get warded at a private hospital - there'd be no way for you to get the certificate in time. \u21a9","title":"Which plan is better?"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/","tags":["Insurance"],"text":"(This is a reply to an analysis by Yuan Jing) A comparison of shield plan riders (NTUC, GE, Prudential) I agree with your suggestion that one should choose maximum coverage 1 while they're young and can afford the premiums. Later, when premiums get more expensive, switch to the lower tier riders 2 . I also agree with your paradigm: It is the author\u2019s recommendation to adopt the following paradigm: Highest tier, and highest coverage while young. Downgrade as necessary, when necessary, at a later age. Here, I argue specifically that you should keep a private hospital plan, plus a deluxe rider plan, when young. When you're older, downgrade the deluxe rider plan to a classic. Some caveats: I'm only going to compare private hospital coverage. Personally, I want the option to go to a private hospital, since queues at public hospitals can be unpredictable . Also, I want maximum coverage early on in life as I've stated above. I'm not going to comment on when the best age is to downgrade coverage, because that depends on a whole host of factors 3 which I might cover on another article. I'm not going to take into account cost differences between riders at the same level (e.g. NTUC's vs GE's deluxe riders). That difference is much less than between the classic and deluxe level for any company's riders (e.g., $60,000 in GE's case ). Why have a deluxe rider when you're young? When you're young, you're working. You have a stream of income. You can pay for that $600 GE Elite-P rider. If you get sick, you deserve the best. You don't want to have to pay a deductible of $3,500 each year when you get hospitalized, when you can just pay 5% of the total bill with riders. Things are different when you're older. Premiums are much, much higher . It might not make sense to pay a $10,000 premium just to save on a $3,500 deductible yearly. The cost difference between the deluxe and classic riders is less significant when you're younger (on the average of $400/year). When you're older though, it jumps to $1,000 and can reach $2,700 (GE Elite-P vs Classic-P at 70 years). And as you mentioned, you can't upgrade the rider if you develop a pre-existing condition. You can, however, downgrade the rider anytime. So, keep the deluxe rider when you're young. You don't pay much more than the classic, and the benefits are nice. Let's compare the classic-level riders next. Which is the best classic-level rider? First out, let me say NTUC's Classic Care Rider is the worst of the three. This is because: the additional $2,000 non-panel penalty is significant 10% co-pay is effectively double what both NTUC or GE's riders offer So, it's between GE or Prudential. GE's TotalCare Classic PRUExtra Premier Lite CoPay Any cap? Panel 5% of total bill 5% of total bill + 50% of deductible Yes, $3000/year Non-Panel Greater of deductible 4 or 5% of total bill 5% of total bill + 50% of deductible No Just purely based on the math (see the note below): If you're seeing panel doctors - GE wins. It's just a flat 5% of the total bill, nothing else. If you're seeing non-panel doctors, and the bill is less than $38,500, Prudential wins. Otherwise, GE wins. I agree that PRUExtra Premier Lite CoPay has a slightly longer non-panel pre- and post-hospitalization coverage, at 180 and 365 days respectively, versus that of GE's TotalCare Classic (120 and 180 days respectively). I also agree that Prudential pays as-charged for community hospital stays, while GE has daily limits (of around $200). GE has a nice 'home health care' benefit which can be used for home palliative care services (up to $10,000 or $200/day). PRUExtra Premier Lite Copay does not have claims-based pricing , while GE's TotalCare Classic has . GE's TotalCare Classic, however, has a 20% discount on premiums if no claim is made. These factors, combined, favour Prudential somewhat. Personally, it's a toss-up between both. I'd go with either. Now, we move on to the deluxe-level riders. The math behind the $38,500 figure Let \\(T\\) be the total hospital bill size and \\(D_{max}\\) be the maximum advertised deductible. The actual deductible paid is given as \\[\\begin{equation} min(T, D_{max}) \\end{equation}\\] For GE TotalCare Classic, the amount one would co-pay if they saw a non-panel doctor is the greater of the maximum deductible or 5% of the total bill, or: \\[\\begin{equation} \\label{copay_ge} Copay_{GE} = max(min(T, D_{max}), 0.05\\cdot T) \\end{equation}\\] For PRUExtra Premier Lite CoPay, one pays 50% of the deductible, followed by 50% of the coinsurance (10% of the amount remaining after the maximum deductible is subtracted). \\[\\begin{equation} \\label{deductible} \\text{50% of deductible} = 0.5\\cdot min(T, D_{max}) \\end{equation}\\] \\[\\begin{equation} \\label{coinsurance} \\text{50% of coinsurance} = 0.05\\cdot max(T - D_{max}, 0) \\end{equation}\\] since there is no co-insurance to pay if the total bill is less than the maximum deductible. By adding eqn. \\(\\ref{deductible}\\) and \\(\\ref{coinsurance}\\) we obtain: \\[\\begin{equation} \\label{copay_pru} Copay_{Prudential} = 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\end{equation}\\] Subtracting eqn. \\(\\ref{copay_ge}\\) from \\(\\ref{copay_pru}\\) , we obtain \\(\\Delta_{Prudential - GE}\\) , or the extra amount one would pay with Prudential versus GE: \\[\\begin{equation} \\label{delta} \\begin{split} \\Delta_{Prudential - GE} &= Copay_{Prudential} - Copay_{GE} \\nonumber \\\\ &= 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\\\ &\\quad- max(min(T, D_{max}), 0.05\\cdot T) \\end{split} \\end{equation}\\] If \\(\\Delta_{Prudential - GE} \\geq 0\\) , one would pay more for the Prudential plan, given a total bill size \\(T\\) . We simplify eqn. \\(\\ref{delta}\\) as follows: \\[\\begin{equation} \\label{cases} \\Delta_{Prudential - GE}= \\begin{cases} -0.5\\cdot T,& \\text{if } T \\leq D_{max} \\\\ 0.05\\cdot T - 0.55\\cdot D_{max}, & \\text{if } T \\gt D_{max} \\text{ and } T \\lt 20\\cdot D_{max} \\\\ 0.45\\cdot D_{max} & \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] Note that for the second case: \\[\\begin{equation} 0.05\\cdot T - 0.55\\cdot D_{max} \\gt 0 \\text{ when } T \\gt 11\\cdot D_{max} \\end{equation}\\] We can conclude that one would pay more for the Prudential plan when \\(T \\gt 11\\cdot D_{max}\\) . When \\(T \\lt 11\\cdot D_{max}\\) , one would pay less with the Prudential plan. Finally, for our case \\(D_{max} = 3500\\) , we obtain: \\[\\begin{equation} \\label{cases-3500} \\Delta_{Prudential - GE}= \\begin{cases} -0.5\\cdot T,& \\text{if } T \\leq 3500 \\\\ 0.05\\cdot T - 1925, & \\text{if } T \\gt 3500 \\text{ and } T \\lt 70000 \\\\ 1575 & \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] Visually, Eqn. \\(\\ref{cases-3500}\\) can be plotted as follows: Which is the best deluxe-level rider? All 3 insurers here offer 5% co-payment riders here (although Prudential's PRUExtra Premier has an additional 5% of deductible). Of note, only NTUC does not explictly mention claims-based pricing. However, there is an 'additional non-panel payment' which is unspecified . I consider this a form of claims-based pricing. The actual penalty is unknown, and for this reason NTUC is out of the picture again. Prudential's claims-based pricing penalty is the most severe, with a 3x premium penalty if you claim more than $5000 from a non-panel provider. GE's penalty is 1.5x the premium as penalty if you claim more than $2000 for the first time. It increases up to 2.5x the premium subsequently. We now look at other factors. Of the three, Prudential has the longest pre- and post- hospitalization coverage of 180 and 365 days respectively. This is longer than GE's 120/180 days. GE has a nice 'home health care' benefit which I've mentioned above . I'd favour Prudential somewhat here, since the idea is to get as much coverage as possible for the deluxe-level rider. Conclusion It's a bit of a surprise to me (as I'm on a GE plan currently). The Prudential riders (specifically the PRUExtra Premier Lite and Premier) stand out above the rest, if only lightly. If you already have one of these deluxe riders and you're young, keep it - the differences aren't enough to justify switching and going through another 90-day no-claim period. If you're looking on the market for a rider - you might want to check out the Prudential riders. Written on 19/6/21 by Nicholas Aka deluxe level riders, such as GE's TotalCare Elite, or NTUC's Deluxe Rider. \u21a9 Aka classic level riders, such as GE's TotalCare Classic or PRUExtra Premier Lite. \u21a9 One might try to calculate the optimum age to downgrade. For example, you might take the probability of hospitalization at each year of life, multiply that by the median hospital bill size, and sum till different ages. The age at which the total costs of the deluxe-level rider begins to exceed the sum of the hospital bills is where one might decide to downgrade. This however, ignores the fact that the probability of hospitalization each year is not independent. Being hospitalized once a year, consecutively for 5 years in a row, might mean you have some condition necessitating much more frequent hospitalizations than the base probabilities suggest. Another factor is whether one has sufficient financial reserves to continue paying the rider. \u21a9 This is a fixed amount you must pay before the insurance company pays any benefits. This is $3,500 for Prudential and GE, and will increase if you're above a certain age (85 in the case for Prudential). \u21a9","title":"Comparison of ISP Riders"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#a-comparison-of-shield-plan-riders-ntuc-ge-prudential","text":"I agree with your suggestion that one should choose maximum coverage 1 while they're young and can afford the premiums. Later, when premiums get more expensive, switch to the lower tier riders 2 . I also agree with your paradigm: It is the author\u2019s recommendation to adopt the following paradigm: Highest tier, and highest coverage while young. Downgrade as necessary, when necessary, at a later age. Here, I argue specifically that you should keep a private hospital plan, plus a deluxe rider plan, when young. When you're older, downgrade the deluxe rider plan to a classic. Some caveats: I'm only going to compare private hospital coverage. Personally, I want the option to go to a private hospital, since queues at public hospitals can be unpredictable . Also, I want maximum coverage early on in life as I've stated above. I'm not going to comment on when the best age is to downgrade coverage, because that depends on a whole host of factors 3 which I might cover on another article. I'm not going to take into account cost differences between riders at the same level (e.g. NTUC's vs GE's deluxe riders). That difference is much less than between the classic and deluxe level for any company's riders (e.g., $60,000 in GE's case ).","title":"A comparison of shield plan riders (NTUC, GE, Prudential)"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#why-have-a-deluxe-rider-when-youre-young","text":"When you're young, you're working. You have a stream of income. You can pay for that $600 GE Elite-P rider. If you get sick, you deserve the best. You don't want to have to pay a deductible of $3,500 each year when you get hospitalized, when you can just pay 5% of the total bill with riders. Things are different when you're older. Premiums are much, much higher . It might not make sense to pay a $10,000 premium just to save on a $3,500 deductible yearly. The cost difference between the deluxe and classic riders is less significant when you're younger (on the average of $400/year). When you're older though, it jumps to $1,000 and can reach $2,700 (GE Elite-P vs Classic-P at 70 years). And as you mentioned, you can't upgrade the rider if you develop a pre-existing condition. You can, however, downgrade the rider anytime. So, keep the deluxe rider when you're young. You don't pay much more than the classic, and the benefits are nice. Let's compare the classic-level riders next.","title":"Why have a deluxe rider when you're young?"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#which-is-the-best-classic-level-rider","text":"First out, let me say NTUC's Classic Care Rider is the worst of the three. This is because: the additional $2,000 non-panel penalty is significant 10% co-pay is effectively double what both NTUC or GE's riders offer So, it's between GE or Prudential. GE's TotalCare Classic PRUExtra Premier Lite CoPay Any cap? Panel 5% of total bill 5% of total bill + 50% of deductible Yes, $3000/year Non-Panel Greater of deductible 4 or 5% of total bill 5% of total bill + 50% of deductible No Just purely based on the math (see the note below): If you're seeing panel doctors - GE wins. It's just a flat 5% of the total bill, nothing else. If you're seeing non-panel doctors, and the bill is less than $38,500, Prudential wins. Otherwise, GE wins. I agree that PRUExtra Premier Lite CoPay has a slightly longer non-panel pre- and post-hospitalization coverage, at 180 and 365 days respectively, versus that of GE's TotalCare Classic (120 and 180 days respectively). I also agree that Prudential pays as-charged for community hospital stays, while GE has daily limits (of around $200). GE has a nice 'home health care' benefit which can be used for home palliative care services (up to $10,000 or $200/day). PRUExtra Premier Lite Copay does not have claims-based pricing , while GE's TotalCare Classic has . GE's TotalCare Classic, however, has a 20% discount on premiums if no claim is made. These factors, combined, favour Prudential somewhat. Personally, it's a toss-up between both. I'd go with either. Now, we move on to the deluxe-level riders. The math behind the $38,500 figure Let \\(T\\) be the total hospital bill size and \\(D_{max}\\) be the maximum advertised deductible. The actual deductible paid is given as \\[\\begin{equation} min(T, D_{max}) \\end{equation}\\] For GE TotalCare Classic, the amount one would co-pay if they saw a non-panel doctor is the greater of the maximum deductible or 5% of the total bill, or: \\[\\begin{equation} \\label{copay_ge} Copay_{GE} = max(min(T, D_{max}), 0.05\\cdot T) \\end{equation}\\] For PRUExtra Premier Lite CoPay, one pays 50% of the deductible, followed by 50% of the coinsurance (10% of the amount remaining after the maximum deductible is subtracted). \\[\\begin{equation} \\label{deductible} \\text{50% of deductible} = 0.5\\cdot min(T, D_{max}) \\end{equation}\\] \\[\\begin{equation} \\label{coinsurance} \\text{50% of coinsurance} = 0.05\\cdot max(T - D_{max}, 0) \\end{equation}\\] since there is no co-insurance to pay if the total bill is less than the maximum deductible. By adding eqn. \\(\\ref{deductible}\\) and \\(\\ref{coinsurance}\\) we obtain: \\[\\begin{equation} \\label{copay_pru} Copay_{Prudential} = 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\end{equation}\\] Subtracting eqn. \\(\\ref{copay_ge}\\) from \\(\\ref{copay_pru}\\) , we obtain \\(\\Delta_{Prudential - GE}\\) , or the extra amount one would pay with Prudential versus GE: \\[\\begin{equation} \\label{delta} \\begin{split} \\Delta_{Prudential - GE} &= Copay_{Prudential} - Copay_{GE} \\nonumber \\\\ &= 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\\\ &\\quad- max(min(T, D_{max}), 0.05\\cdot T) \\end{split} \\end{equation}\\] If \\(\\Delta_{Prudential - GE} \\geq 0\\) , one would pay more for the Prudential plan, given a total bill size \\(T\\) . We simplify eqn. \\(\\ref{delta}\\) as follows: \\[\\begin{equation} \\label{cases} \\Delta_{Prudential - GE}= \\begin{cases} -0.5\\cdot T,& \\text{if } T \\leq D_{max} \\\\ 0.05\\cdot T - 0.55\\cdot D_{max}, & \\text{if } T \\gt D_{max} \\text{ and } T \\lt 20\\cdot D_{max} \\\\ 0.45\\cdot D_{max} & \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] Note that for the second case: \\[\\begin{equation} 0.05\\cdot T - 0.55\\cdot D_{max} \\gt 0 \\text{ when } T \\gt 11\\cdot D_{max} \\end{equation}\\] We can conclude that one would pay more for the Prudential plan when \\(T \\gt 11\\cdot D_{max}\\) . When \\(T \\lt 11\\cdot D_{max}\\) , one would pay less with the Prudential plan. Finally, for our case \\(D_{max} = 3500\\) , we obtain: \\[\\begin{equation} \\label{cases-3500} \\Delta_{Prudential - GE}= \\begin{cases} -0.5\\cdot T,& \\text{if } T \\leq 3500 \\\\ 0.05\\cdot T - 1925, & \\text{if } T \\gt 3500 \\text{ and } T \\lt 70000 \\\\ 1575 & \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] Visually, Eqn. \\(\\ref{cases-3500}\\) can be plotted as follows:","title":"Which is the best classic-level rider?"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#which-is-the-best-deluxe-level-rider","text":"All 3 insurers here offer 5% co-payment riders here (although Prudential's PRUExtra Premier has an additional 5% of deductible). Of note, only NTUC does not explictly mention claims-based pricing. However, there is an 'additional non-panel payment' which is unspecified . I consider this a form of claims-based pricing. The actual penalty is unknown, and for this reason NTUC is out of the picture again. Prudential's claims-based pricing penalty is the most severe, with a 3x premium penalty if you claim more than $5000 from a non-panel provider. GE's penalty is 1.5x the premium as penalty if you claim more than $2000 for the first time. It increases up to 2.5x the premium subsequently. We now look at other factors. Of the three, Prudential has the longest pre- and post- hospitalization coverage of 180 and 365 days respectively. This is longer than GE's 120/180 days. GE has a nice 'home health care' benefit which I've mentioned above . I'd favour Prudential somewhat here, since the idea is to get as much coverage as possible for the deluxe-level rider.","title":"Which is the best deluxe-level rider?"},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#conclusion","text":"It's a bit of a surprise to me (as I'm on a GE plan currently). The Prudential riders (specifically the PRUExtra Premier Lite and Premier) stand out above the rest, if only lightly. If you already have one of these deluxe riders and you're young, keep it - the differences aren't enough to justify switching and going through another 90-day no-claim period. If you're looking on the market for a rider - you might want to check out the Prudential riders. Written on 19/6/21 by Nicholas Aka deluxe level riders, such as GE's TotalCare Elite, or NTUC's Deluxe Rider. \u21a9 Aka classic level riders, such as GE's TotalCare Classic or PRUExtra Premier Lite. \u21a9 One might try to calculate the optimum age to downgrade. For example, you might take the probability of hospitalization at each year of life, multiply that by the median hospital bill size, and sum till different ages. The age at which the total costs of the deluxe-level rider begins to exceed the sum of the hospital bills is where one might decide to downgrade. This however, ignores the fact that the probability of hospitalization each year is not independent. Being hospitalized once a year, consecutively for 5 years in a row, might mean you have some condition necessitating much more frequent hospitalizations than the base probabilities suggest. Another factor is whether one has sufficient financial reserves to continue paying the rider. \u21a9 This is a fixed amount you must pay before the insurance company pays any benefits. This is $3,500 for Prudential and GE, and will increase if you're above a certain age (85 in the case for Prudential). \u21a9","title":"Conclusion"},{"location":"blog-posts/2021-06-20-uselayouteffect/","tags":["Programming"],"text":"The useLayoutEffect hook Suppose you have a parent component A and a child B , and you want to run a useEffect hook on mount in the parent first, followed by another useEffect hook in the child. For example, you have a child component which overrides the default styles of the parent on mount. This was a problem I faced. You might try this, but it does not work as expected: const A = () => { useEffect (() => console . log ( 'Parent useEffect' ), []) console . log ( 'Parent body' ) return < B /> }; // omitted const B = () => { useEffect (() => console . log ( 'Child useEffect' ), []) console . log ( 'Child body' ) } /*Logs * Parent body * Child body * Child useEffect * Parent useEffect*/ The child component's useEffect is being called before the parent component. Why is this happening? useEffect runs after every completed render . If no dependencies are specified in the dependency array (the second argument), it will run after the first render. In the above example, the parent A begins rendering first, followed by the child B . The child finishes rendering before the parent, and so its useEffect hook is called first, followed by the parent's. Is there a way to run effects in the parent, before the child? useLayoutEffect You can use useLayoutEffect . useLayoutEffect runs synchronously, before the browser has had a chance to paint. We can rewrite our example above to the following: const A = () => { useLayoutEffect (() => console . log ( 'Parent useEffect' ), []) console . log ( 'Parent body' ) return < B /> }; // omitted const B = () => { useEffect (() => console . log ( 'Child useEffect' ), []) console . log ( 'Child body' ) } /*Logs * Parent body * Child body * Parent useEffect * Child useEffect*/ Now, effects in the child run before the parent! A caveat: useLayoutEffect is synchronous and will block visual updates, so avoid doing heavy lifting here. The next time you need to run an effect in the parent before the child, consider using useLayoutEffect .","title":"useLayoutEffect"},{"location":"blog-posts/2021-06-20-uselayouteffect/#the-uselayouteffect-hook","text":"Suppose you have a parent component A and a child B , and you want to run a useEffect hook on mount in the parent first, followed by another useEffect hook in the child. For example, you have a child component which overrides the default styles of the parent on mount. This was a problem I faced. You might try this, but it does not work as expected: const A = () => { useEffect (() => console . log ( 'Parent useEffect' ), []) console . log ( 'Parent body' ) return < B /> }; // omitted const B = () => { useEffect (() => console . log ( 'Child useEffect' ), []) console . log ( 'Child body' ) } /*Logs * Parent body * Child body * Child useEffect * Parent useEffect*/ The child component's useEffect is being called before the parent component. Why is this happening? useEffect runs after every completed render . If no dependencies are specified in the dependency array (the second argument), it will run after the first render. In the above example, the parent A begins rendering first, followed by the child B . The child finishes rendering before the parent, and so its useEffect hook is called first, followed by the parent's. Is there a way to run effects in the parent, before the child?","title":"The useLayoutEffect hook"},{"location":"blog-posts/2021-06-20-uselayouteffect/#uselayouteffect","text":"You can use useLayoutEffect . useLayoutEffect runs synchronously, before the browser has had a chance to paint. We can rewrite our example above to the following: const A = () => { useLayoutEffect (() => console . log ( 'Parent useEffect' ), []) console . log ( 'Parent body' ) return < B /> }; // omitted const B = () => { useEffect (() => console . log ( 'Child useEffect' ), []) console . log ( 'Child body' ) } /*Logs * Parent body * Child body * Parent useEffect * Child useEffect*/ Now, effects in the child run before the parent! A caveat: useLayoutEffect is synchronous and will block visual updates, so avoid doing heavy lifting here. The next time you need to run an effect in the parent before the child, consider using useLayoutEffect .","title":"useLayoutEffect"},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/","tags":["Programming"],"text":"Cracking PDF Hashes with hashcat Do you have a PDF document lying around somewhere, but it's encrypted and you've forgotten the password to it? hashcat is a great open-source hash cracker with GPU acceleration. It also comes with features such as masking, dictionary attacks and even statistical methods of password guessing. It also supports 300+ hash types (e.g. SHA-1, MD5, WPA, Django...) out of the box. Don't use this for unlawful purposes! Extracting the hash from the PDF First, we need to extract the password hash from the PDF. There's an online tool for this, but for now let's use this python script ( pdf2john.py ). Run it with python pdf2john.py <your-pdf-file> . The output should resemble something like this: 1 b'aa.pdf':b'$pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6':::::b'D:\\\\Desktop\\\\<your PDF file>.pdf' We're only interested in the second part (beginning with $pdf$4... up till ...69d6 ). So, let's copy that out: 1 $pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6 This is the hash we'll supply to hashcat later on. Starting brute force with hashcat First, grab the latest copy of hashcat from here . This command runs a brute force attack on the hash (up till the maximum number of characters): hashcat -a 3 -m 10500 '<hash>' (note: the hash must be in quotes, or else some OSes might interpret the $ as a variable) Let's break it down. -a specifies the attack mode. In this case, 3 indicates brute force. -m specifies the type of hash. hashcat can actually autodetect the hash type, but for this purpose, we'll specify it as as 10500 , which is PDF 1.4 - 1.6 (Acrobat 5 - 8) . hashcat also supports masking options. So if you wanted to try all lowercase alphanumeric passwords (a-z, 0-9) up to 10 characters, you could do .\\hashcat -a 3 -1 ?l?d -i -m 10500 '<hash>' ?1?1?1?1?1?1?1?1?1?1?1?1 -1 specifies the character set in the first position ( hashcat supports multiple character sets). In this case, ?l refers to the set abcde...xyz , and ?d refers to all digits 0-9. -i specifies that we want to progressively try the mask, starting from --increment-min (default 1). What this does is it will try only 1 character of the mask (e.g. a ), then 2, up till --increment-max (default being the length of the mask, e.g. zzzzzzzzzz ). ?1?1?1?1?1?1?1?1?1?1?1?1 is the mask itself. ?1 refers to the character set in the first position, that we specified above with -1 . Cracking speed on my GTX 970 For comparison, cracking speed on an A100 on GCloud (approx 10x speedup) And that's it! Password cracking is exponentially slower with regards to the length of the password 1 , so any clues as to the content of the password will speed it up greatly. Theoretically, a 51-character alphanumeric, case-sensitive password would be uncrackable. \u21a9","title":"Cracking PDF Hashes with hashcat"},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/#cracking-pdf-hashes-with-hashcat","text":"Do you have a PDF document lying around somewhere, but it's encrypted and you've forgotten the password to it? hashcat is a great open-source hash cracker with GPU acceleration. It also comes with features such as masking, dictionary attacks and even statistical methods of password guessing. It also supports 300+ hash types (e.g. SHA-1, MD5, WPA, Django...) out of the box. Don't use this for unlawful purposes!","title":"Cracking PDF Hashes with hashcat"},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/#extracting-the-hash-from-the-pdf","text":"First, we need to extract the password hash from the PDF. There's an online tool for this, but for now let's use this python script ( pdf2john.py ). Run it with python pdf2john.py <your-pdf-file> . The output should resemble something like this: 1 b'aa.pdf':b'$pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6':::::b'D:\\\\Desktop\\\\<your PDF file>.pdf' We're only interested in the second part (beginning with $pdf$4... up till ...69d6 ). So, let's copy that out: 1 $pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6 This is the hash we'll supply to hashcat later on.","title":"Extracting the hash from the PDF"},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/#starting-brute-force-with-hashcat","text":"First, grab the latest copy of hashcat from here . This command runs a brute force attack on the hash (up till the maximum number of characters): hashcat -a 3 -m 10500 '<hash>' (note: the hash must be in quotes, or else some OSes might interpret the $ as a variable) Let's break it down. -a specifies the attack mode. In this case, 3 indicates brute force. -m specifies the type of hash. hashcat can actually autodetect the hash type, but for this purpose, we'll specify it as as 10500 , which is PDF 1.4 - 1.6 (Acrobat 5 - 8) . hashcat also supports masking options. So if you wanted to try all lowercase alphanumeric passwords (a-z, 0-9) up to 10 characters, you could do .\\hashcat -a 3 -1 ?l?d -i -m 10500 '<hash>' ?1?1?1?1?1?1?1?1?1?1?1?1 -1 specifies the character set in the first position ( hashcat supports multiple character sets). In this case, ?l refers to the set abcde...xyz , and ?d refers to all digits 0-9. -i specifies that we want to progressively try the mask, starting from --increment-min (default 1). What this does is it will try only 1 character of the mask (e.g. a ), then 2, up till --increment-max (default being the length of the mask, e.g. zzzzzzzzzz ). ?1?1?1?1?1?1?1?1?1?1?1?1 is the mask itself. ?1 refers to the character set in the first position, that we specified above with -1 . Cracking speed on my GTX 970 For comparison, cracking speed on an A100 on GCloud (approx 10x speedup) And that's it! Password cracking is exponentially slower with regards to the length of the password 1 , so any clues as to the content of the password will speed it up greatly. Theoretically, a 51-character alphanumeric, case-sensitive password would be uncrackable. \u21a9","title":"Starting brute force with hashcat"},{"location":"blog-posts/2021-07-25-endowus-or-not/","tags":["Finance"],"text":"To Endowus, Or Not? Endowus has been making waves in the robo-advisor market in Singapore, hitting $1 billion in assets under management (AUM) recently. It offers tailored investment solutions, customized for your risk appetite. Its portfolios are constructed from institutional-level fund classes, so fees are lower. Endowus also rebates trailer fees they receive from funds, so you pay even less. Finally, you can even build your own portfolio, using funds from PIMCO to Dimensional. With that in mind, should you switch from IBKR to Endowus? Endowus Of the robo-advisors in Singapore, Endowus is the only one offering institutional level funds (the rest, such as Syfe or Stashaway , use ETFs). Institutional-level funds may offer lower costs than their retail counterparts. Endowus is also the only way you can access to funds from Dimensional , a world-wide mutual fund company boasting Nobel laureates such as Myron Scholes 1 . Most of the Dimensional funds are based off broad indexes such as the MSCI World Index, the ACWI or the AGGU (for fixed income). Endowus also offers Cash Smart , their version of fixed deposit, with varying levels of risk and returns up to 2% pa. There are also no currency conversion fees with Endowus - all their funds are denominated in SGD. Presumably, the conversion to USD happens within the fund internally and is charged in the net expense ratio, but even that is low (Endowus' fund's expense ratios are ~0.5% pa). Instead, what Endowus charges is an access fee , ranging from 0.25% - 0.6% pa, charged quarterly. This is comparable to the 0.4% - 0.65% pa charged by Syfe , the 0.2 - 0.8% charged by Stashaway and the 0.3 - 0.5% pa charged by Kristal . Interactive Brokers Interactive Brokers (IBKR) is the largest electronic trading platform in the US. In June 2021, they managed $363.5 billion in assets, with over 2,471,000 trades executed daily. Unlike Endowus, which is at heart a robo-advisor, IBKR is a fully featured broker, giving you access to stocks, ETFs, futures, currency, derivatives and more, across global markets. The commissions IBKR charges are highly competitive and are one of the lowest in the market. There is even a commission-free account, which is sadly unavailable in Singapore. IBKR also recently slashed its monthly inactivity fees - there are now no annual or monthly charges to use the platform. You therefore only pay on each trade (the bid-ask spread + commissions + exchange fees). With this flexibility however, comes some drawbacks: You must convert currency yourself (although the rates are one of the best 3 ) You must decide which securities to purchase Rebalancing must be done by yourself A maximum of 1 free withdrawal a month, with fees charged subsequently Comparison Let's summarize the information above: Endowus IBKR Type Robo-Advisor Fully-featured Broker Founded 2017 1978 AUM $1bn $363.5bn What you can buy Institional-Level, SGD Denominated funds Stocks, ETFs, mutual funds, bonds, derivatives Annual Fees 0.25 - 0.6% None Transaction Fees None Commission + Exchange Fee + Bid/Ask Spread Rebalancing Automatic, free Manual Currency Conversion N/A Manual 3 Custodian UOB Kay Hian (trust account in your name) IB LLC Custodian Bond Rating Aa1 (Moody's) 2 BBB+ (S&P) Withdrawals Free 1 free a month, subsequent charged ~USD $10 Here is what you pay per year, assuming you invest 25% of the amount each quarter, until you reach the full amount by the end of the year 4 . Total Amount Endowus IBKR (1 ticker) IBKR (4 tickers) $10,000 $60 ~$16 ~$64 $$100,000 $600 ~$50 ~$64 $1,000,000 $3,500 ~$500 ~$520 For a small amount (~$10,000), Endowus and IBKR cost about the same. But as you invest more, IBKR's pricing becomes more attractive. Note that for IBKR, for small amounts, buying more stocks costs more. For large amounts however, the price is essentially identical. Endowus' fees are the same, regardless of how many individual funds you purchase. Verdict With all this in mind, which is better - Endowus or IBKR? Personally, I would go with Endowus for small amounts up to $500,000. Although I pay more fees, I think of this as a convenience factor for: being able to invest in Dimensional automatic rebalancing no currency conversion required For larger amounts above $500,000, the difference in commissions becomes significant (about $3,000 starting from $1M in assets). In that scenario, taking the time to DIY your portfolio in IBKR makes more sense. For ideas on what to buy, check out my suggestions for IBKR and Endowus . Co-originator of the Black-Scholes options pricing model, used widely for hedging, pricing and speculative purposes in all markets globally. \u21a9 This is the rating for UOB's Long-Term Bank Deposits by Moody's. \u21a9 IBKR's rates for currency exchange are highly competitive . \u21a9 \u21a9 The cost for IBKR includes brokerage commissions, exchange fees, and an estimate of the bid-ask spread. \u21a9","title":"To Endowus, Or Not?"},{"location":"blog-posts/2021-07-25-endowus-or-not/#to-endowus-or-not","text":"Endowus has been making waves in the robo-advisor market in Singapore, hitting $1 billion in assets under management (AUM) recently. It offers tailored investment solutions, customized for your risk appetite. Its portfolios are constructed from institutional-level fund classes, so fees are lower. Endowus also rebates trailer fees they receive from funds, so you pay even less. Finally, you can even build your own portfolio, using funds from PIMCO to Dimensional. With that in mind, should you switch from IBKR to Endowus?","title":"To Endowus, Or Not?"},{"location":"blog-posts/2021-07-25-endowus-or-not/#endowus","text":"Of the robo-advisors in Singapore, Endowus is the only one offering institutional level funds (the rest, such as Syfe or Stashaway , use ETFs). Institutional-level funds may offer lower costs than their retail counterparts. Endowus is also the only way you can access to funds from Dimensional , a world-wide mutual fund company boasting Nobel laureates such as Myron Scholes 1 . Most of the Dimensional funds are based off broad indexes such as the MSCI World Index, the ACWI or the AGGU (for fixed income). Endowus also offers Cash Smart , their version of fixed deposit, with varying levels of risk and returns up to 2% pa. There are also no currency conversion fees with Endowus - all their funds are denominated in SGD. Presumably, the conversion to USD happens within the fund internally and is charged in the net expense ratio, but even that is low (Endowus' fund's expense ratios are ~0.5% pa). Instead, what Endowus charges is an access fee , ranging from 0.25% - 0.6% pa, charged quarterly. This is comparable to the 0.4% - 0.65% pa charged by Syfe , the 0.2 - 0.8% charged by Stashaway and the 0.3 - 0.5% pa charged by Kristal .","title":"Endowus"},{"location":"blog-posts/2021-07-25-endowus-or-not/#interactive-brokers","text":"Interactive Brokers (IBKR) is the largest electronic trading platform in the US. In June 2021, they managed $363.5 billion in assets, with over 2,471,000 trades executed daily. Unlike Endowus, which is at heart a robo-advisor, IBKR is a fully featured broker, giving you access to stocks, ETFs, futures, currency, derivatives and more, across global markets. The commissions IBKR charges are highly competitive and are one of the lowest in the market. There is even a commission-free account, which is sadly unavailable in Singapore. IBKR also recently slashed its monthly inactivity fees - there are now no annual or monthly charges to use the platform. You therefore only pay on each trade (the bid-ask spread + commissions + exchange fees). With this flexibility however, comes some drawbacks: You must convert currency yourself (although the rates are one of the best 3 ) You must decide which securities to purchase Rebalancing must be done by yourself A maximum of 1 free withdrawal a month, with fees charged subsequently","title":"Interactive Brokers"},{"location":"blog-posts/2021-07-25-endowus-or-not/#comparison","text":"Let's summarize the information above: Endowus IBKR Type Robo-Advisor Fully-featured Broker Founded 2017 1978 AUM $1bn $363.5bn What you can buy Institional-Level, SGD Denominated funds Stocks, ETFs, mutual funds, bonds, derivatives Annual Fees 0.25 - 0.6% None Transaction Fees None Commission + Exchange Fee + Bid/Ask Spread Rebalancing Automatic, free Manual Currency Conversion N/A Manual 3 Custodian UOB Kay Hian (trust account in your name) IB LLC Custodian Bond Rating Aa1 (Moody's) 2 BBB+ (S&P) Withdrawals Free 1 free a month, subsequent charged ~USD $10 Here is what you pay per year, assuming you invest 25% of the amount each quarter, until you reach the full amount by the end of the year 4 . Total Amount Endowus IBKR (1 ticker) IBKR (4 tickers) $10,000 $60 ~$16 ~$64 $$100,000 $600 ~$50 ~$64 $1,000,000 $3,500 ~$500 ~$520 For a small amount (~$10,000), Endowus and IBKR cost about the same. But as you invest more, IBKR's pricing becomes more attractive. Note that for IBKR, for small amounts, buying more stocks costs more. For large amounts however, the price is essentially identical. Endowus' fees are the same, regardless of how many individual funds you purchase.","title":"Comparison"},{"location":"blog-posts/2021-07-25-endowus-or-not/#verdict","text":"With all this in mind, which is better - Endowus or IBKR? Personally, I would go with Endowus for small amounts up to $500,000. Although I pay more fees, I think of this as a convenience factor for: being able to invest in Dimensional automatic rebalancing no currency conversion required For larger amounts above $500,000, the difference in commissions becomes significant (about $3,000 starting from $1M in assets). In that scenario, taking the time to DIY your portfolio in IBKR makes more sense. For ideas on what to buy, check out my suggestions for IBKR and Endowus . Co-originator of the Black-Scholes options pricing model, used widely for hedging, pricing and speculative purposes in all markets globally. \u21a9 This is the rating for UOB's Long-Term Bank Deposits by Moody's. \u21a9 IBKR's rates for currency exchange are highly competitive . \u21a9 \u21a9 The cost for IBKR includes brokerage commissions, exchange fees, and an estimate of the bid-ask spread. \u21a9","title":"Verdict"},{"location":"blog-posts/2021-07-25-my-endowus-portfolio/","tags":["Finance"],"text":"My Endowus Portfolio I recently started an Endowus portfolio ( reasons ). Here's the funds I chose and my allocation: % Fund Tracked Index 50% Dimensional World Equity Fund MSCI All Country World Index 30% Dimensional Global Targeted Value Fund MSCI World SMID Value Index 1 20% Dimensional Global Core Fixed Income Fund Bloomberg Barclays Global Aggregate Bond Index A few small changes here compared to my IBKR portfolio , but my investment philosophy remains the same. First, I buy into global mid- and large-cap companies with Dimensional's World Equity Fund (net expense ratio of 0.35% pa). Secondly, I add exposure to developed small- and mid-cap companies with Dimensional's Global Targeted Value Fund (net expense ratio 0.49% pa). Note that there is an overlap here of developed mid-cap companies with the World Equity Fund - this is because there isn't a Dimensional fund offered by Endowus which tracks the MSCI World Small Cap Index like WSML . Finally, I keep 20% of my portfolio in duration diversified, investment grade bonds across the world with Dimensional's Global Core Fixed Income Fund (net expense ratio 0.28% pa). You might note that there isn't any investment in property or REITS here, and that is because Endowus doesn't have this category of fund (maybe in the future). And that is how I achieve my 80/20 equity/bond split with Endowus! Unfortunately, I couldn't find the prospectus document by MSCI for this index - the closest is the MSCI World SMID Cap Index . \u21a9","title":"My Endowus Portfolio"},{"location":"blog-posts/2021-07-25-my-endowus-portfolio/#my-endowus-portfolio","text":"I recently started an Endowus portfolio ( reasons ). Here's the funds I chose and my allocation: % Fund Tracked Index 50% Dimensional World Equity Fund MSCI All Country World Index 30% Dimensional Global Targeted Value Fund MSCI World SMID Value Index 1 20% Dimensional Global Core Fixed Income Fund Bloomberg Barclays Global Aggregate Bond Index A few small changes here compared to my IBKR portfolio , but my investment philosophy remains the same. First, I buy into global mid- and large-cap companies with Dimensional's World Equity Fund (net expense ratio of 0.35% pa). Secondly, I add exposure to developed small- and mid-cap companies with Dimensional's Global Targeted Value Fund (net expense ratio 0.49% pa). Note that there is an overlap here of developed mid-cap companies with the World Equity Fund - this is because there isn't a Dimensional fund offered by Endowus which tracks the MSCI World Small Cap Index like WSML . Finally, I keep 20% of my portfolio in duration diversified, investment grade bonds across the world with Dimensional's Global Core Fixed Income Fund (net expense ratio 0.28% pa). You might note that there isn't any investment in property or REITS here, and that is because Endowus doesn't have this category of fund (maybe in the future). And that is how I achieve my 80/20 equity/bond split with Endowus! Unfortunately, I couldn't find the prospectus document by MSCI for this index - the closest is the MSCI World SMID Cap Index . \u21a9","title":"My Endowus Portfolio"},{"location":"blog-posts/2021-09-16-crispy-pork-belly/","tags":["Cooking"],"text":"Crispy Pork Belly Crispy, roasted pork belly is a really nice snack (and main dish). Lots of recipes on the internet have different variations, some use salt, some involve putting water in the oven as well, and others recommend keeping the raw belly in the refrigerator for 18 hours before putting it in the oven. In this recipe I keep everything to the minimum, so there's as little cleaning/preparation involved, for the same great taste. The belly is first cooked at a low temperature while the skin is further dried in the oven with a layer of salt. It's then roasted at a sizzling 230\u00b0C to bring out the crispiness. The salt is necessary for the skin to have that bubbly, crispy texture. Time required: 2 hours Ingredients Pork belly, skin-on Salt Steps Preheat oven to 140\u00b0C. Layer salt evenly over the skin of the pork belly. Place in the oven for around 30 minutes, or when the internal temperature reaches 62\u00b0C. Take out from oven and remove the layer of salt crust that has formed. Set the oven to 230\u00b0C and cook for an additional 30 minutes, or until the edges are just beginning to char.","title":"Crispy Pork Belly Recipe"},{"location":"blog-posts/2021-09-16-crispy-pork-belly/#crispy-pork-belly","text":"Crispy, roasted pork belly is a really nice snack (and main dish). Lots of recipes on the internet have different variations, some use salt, some involve putting water in the oven as well, and others recommend keeping the raw belly in the refrigerator for 18 hours before putting it in the oven. In this recipe I keep everything to the minimum, so there's as little cleaning/preparation involved, for the same great taste. The belly is first cooked at a low temperature while the skin is further dried in the oven with a layer of salt. It's then roasted at a sizzling 230\u00b0C to bring out the crispiness. The salt is necessary for the skin to have that bubbly, crispy texture. Time required: 2 hours","title":"Crispy Pork Belly"},{"location":"blog-posts/2021-09-16-crispy-pork-belly/#ingredients","text":"Pork belly, skin-on Salt","title":"Ingredients"},{"location":"blog-posts/2021-09-16-crispy-pork-belly/#steps","text":"Preheat oven to 140\u00b0C. Layer salt evenly over the skin of the pork belly. Place in the oven for around 30 minutes, or when the internal temperature reaches 62\u00b0C. Take out from oven and remove the layer of salt crust that has formed. Set the oven to 230\u00b0C and cook for an additional 30 minutes, or until the edges are just beginning to char.","title":"Steps"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/","tags":["Programming"],"text":"Developing in WSL Containers (Now with GPU support!) As a programmer there were a lot of version/environment issues I faced while developing with Python, Node and other tools. Some examples: Switching between different Python versions on Windows is difficult and requires third-party solutions e.g. Chocolatey Switching between different Node versions also requires a third-party solution ( nvm ) While pipenv , venv and poetry are ways to manage different Python environments, they still depend on the base Python version installed, which is another external dependency Maintaining other dependencies such as CUDA drivers, ffmpeg etc. I thought about this issue while deciding on a Python packagement system for Windows , and here is my solution. Docker Containers, in WSL2, in VSCode In a nutshell, my solution is to use VSCode's Remote - Containers extension, to open a folder in WSL2, and then mount that folder in a Docker container. This has several benefits: Ability to lock environments for a project, such as Python, Node, or even Java versions Repeatable builds , irregardless of the host OS/drivers Host filesystem only contains source code and nothing else Containers on the host can be accessed remotely over SSH - the only tools required on the remote computer are SSH and VSCode GPU passthrough is supported since Windows 10 version 21H2 . Note that files and source code are stored in the WSL distro, and can be viewed natively in Windows Explorer via the network share \\\\wsl$ . The reason why I use the WSL filesystem, and not a bind mount on the Windows filesystem, is for performance . What is WSL? WSL is a compatibility layer which allows Linux binaries to run natively on Windows systems. WSL2 takes this further, and includes a real Linux kernel with full system call capabilities. Installing WSL will allow you to run a complete Linux distribution on your Windows PC (with the wsl command). Getting Started Installing WSL2 and a default distro: Follow the instructions here to install WSL2 and the default Linux distribution (Ubuntu) Next, check that the Ubuntu distribution is set as default, and is on WSL2: wsl -l -v should show: NAME STATE VERSION * Ubuntu Running 2 Legacy Stopped 1 docker-desktop Running 2 docker-desktop-data Running 2 If Ubuntu is missing, install it from the Microsoft Store (you need to run ubuntu from the command prompt after) If Ubuntu is not the default distro (marked with a *), run wsl --set-default Ubuntu . If the VERSION for Ubuntu is not 2 , run wsl --set-version Ubuntu 2 . (Advanced) If you want to move the WSL installation to another folder of your choice, you can use the --export followed by the --import commands. Installing Docker and configuring it to use the WSL2 backend: Follow the instructions here Ensure that Enable integration with my default WSL distro , and integration for your distro are both checked. Check that Docker is working: docker ps Setup git in WSL2 VSCode adopts the following behaviors with regards to .gitconfig : If a repository is cloned and opened in a container, the .gitconfig from Windows ( C:\\Users\\<USER>\\.gitconfig ) is copied and used If a WSL2 folder is opened in a container, the .gitconfig from WSL ( ~/.gitconfig ) is copied and used in the container Therefore, since we are opening WSL2 folders in containers, we need to setup git on WSL2 (it's not setup by default). Open up a WSL2 terminal: wsl Set your username: git config --global user.name <USERNAME> Set your email: git config --global user.email <EMAIL> (note, if you have setup email privacy on Github, you will find your email at https://github.com/settings/emails ) If you want to use VSCode as the editor in git , do: git config --global core.editor \"code --wait\" Verify your settings with git config --list That's it. VSCode configures the credential helper automatically for you (by setting up some sort of SSH/GPG agent forwarding ). Opening a WSL2 Folder in a container Follow this guide . Notes: You can modify the .devcontainer/Dockerfile to your liking - e.g. if you want to add Java to a Python image, install package dependencies during build, etc If you want to install requirements automatically e.g. with pip , you can either uncomment that particular line in the Dockerfile (if it exists) or write your own e.g.: COPY requirements.txt /tmp/requirements.txt RUN pip --no-cache-dir install -r requirements.txt [Optional] GPU Passthrough If you would like to use your Nvidia GPU in a container, you need to ensure: The container has the Nvidia GPU drivers installed CUDA is installed in the container Using a prebuilt image e.g. pytorch/pytorch will include all these requirements. Once you have done that, check the output of nvidia-smi : Wed Mar 30 12:33:38 2022 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 510.06 Driver Version: 510.06 CUDA Version: 11.6 | |-------------------------------+----------------------+----------------------+ | GPU Name TCC/WDDM | Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 NVIDIA GeForce ... WDDM | 00000000:01:00.0 On | N/A | | 40% 41C P0 49W / 151W | 2595MiB / 4096MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ Conclusion And that's it! Start up, rebuild and stop your containers as you like. Source code for this blog post in a container in WSL2 Finally, you can even use multiple containers with docker-compose.yml (although for development you'd be likely to be use just one).","title":"Developing in WSL Containers"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#developing-in-wsl-containers-now-with-gpu-support","text":"As a programmer there were a lot of version/environment issues I faced while developing with Python, Node and other tools. Some examples: Switching between different Python versions on Windows is difficult and requires third-party solutions e.g. Chocolatey Switching between different Node versions also requires a third-party solution ( nvm ) While pipenv , venv and poetry are ways to manage different Python environments, they still depend on the base Python version installed, which is another external dependency Maintaining other dependencies such as CUDA drivers, ffmpeg etc. I thought about this issue while deciding on a Python packagement system for Windows , and here is my solution.","title":"Developing in WSL Containers (Now with GPU support!)"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#docker-containers-in-wsl2-in-vscode","text":"In a nutshell, my solution is to use VSCode's Remote - Containers extension, to open a folder in WSL2, and then mount that folder in a Docker container. This has several benefits: Ability to lock environments for a project, such as Python, Node, or even Java versions Repeatable builds , irregardless of the host OS/drivers Host filesystem only contains source code and nothing else Containers on the host can be accessed remotely over SSH - the only tools required on the remote computer are SSH and VSCode GPU passthrough is supported since Windows 10 version 21H2 . Note that files and source code are stored in the WSL distro, and can be viewed natively in Windows Explorer via the network share \\\\wsl$ . The reason why I use the WSL filesystem, and not a bind mount on the Windows filesystem, is for performance .","title":"Docker Containers, in WSL2, in VSCode"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#what-is-wsl","text":"WSL is a compatibility layer which allows Linux binaries to run natively on Windows systems. WSL2 takes this further, and includes a real Linux kernel with full system call capabilities. Installing WSL will allow you to run a complete Linux distribution on your Windows PC (with the wsl command).","title":"What is WSL?"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#getting-started","text":"","title":"Getting Started"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#installing-wsl2-and-a-default-distro","text":"Follow the instructions here to install WSL2 and the default Linux distribution (Ubuntu) Next, check that the Ubuntu distribution is set as default, and is on WSL2: wsl -l -v should show: NAME STATE VERSION * Ubuntu Running 2 Legacy Stopped 1 docker-desktop Running 2 docker-desktop-data Running 2 If Ubuntu is missing, install it from the Microsoft Store (you need to run ubuntu from the command prompt after) If Ubuntu is not the default distro (marked with a *), run wsl --set-default Ubuntu . If the VERSION for Ubuntu is not 2 , run wsl --set-version Ubuntu 2 . (Advanced) If you want to move the WSL installation to another folder of your choice, you can use the --export followed by the --import commands.","title":"Installing WSL2 and a default distro:"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#installing-docker-and-configuring-it-to-use-the-wsl2-backend","text":"Follow the instructions here Ensure that Enable integration with my default WSL distro , and integration for your distro are both checked. Check that Docker is working: docker ps","title":"Installing Docker and configuring it to use the WSL2 backend:"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#setup-git-in-wsl2","text":"VSCode adopts the following behaviors with regards to .gitconfig : If a repository is cloned and opened in a container, the .gitconfig from Windows ( C:\\Users\\<USER>\\.gitconfig ) is copied and used If a WSL2 folder is opened in a container, the .gitconfig from WSL ( ~/.gitconfig ) is copied and used in the container Therefore, since we are opening WSL2 folders in containers, we need to setup git on WSL2 (it's not setup by default). Open up a WSL2 terminal: wsl Set your username: git config --global user.name <USERNAME> Set your email: git config --global user.email <EMAIL> (note, if you have setup email privacy on Github, you will find your email at https://github.com/settings/emails ) If you want to use VSCode as the editor in git , do: git config --global core.editor \"code --wait\" Verify your settings with git config --list That's it. VSCode configures the credential helper automatically for you (by setting up some sort of SSH/GPG agent forwarding ).","title":"Setup git in WSL2"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#opening-a-wsl2-folder-in-a-container","text":"Follow this guide . Notes: You can modify the .devcontainer/Dockerfile to your liking - e.g. if you want to add Java to a Python image, install package dependencies during build, etc If you want to install requirements automatically e.g. with pip , you can either uncomment that particular line in the Dockerfile (if it exists) or write your own e.g.: COPY requirements.txt /tmp/requirements.txt RUN pip --no-cache-dir install -r requirements.txt","title":"Opening a WSL2 Folder in a container"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#optional-gpu-passthrough","text":"If you would like to use your Nvidia GPU in a container, you need to ensure: The container has the Nvidia GPU drivers installed CUDA is installed in the container Using a prebuilt image e.g. pytorch/pytorch will include all these requirements. Once you have done that, check the output of nvidia-smi : Wed Mar 30 12:33:38 2022 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 510.06 Driver Version: 510.06 CUDA Version: 11.6 | |-------------------------------+----------------------+----------------------+ | GPU Name TCC/WDDM | Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 NVIDIA GeForce ... WDDM | 00000000:01:00.0 On | N/A | | 40% 41C P0 49W / 151W | 2595MiB / 4096MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+","title":"[Optional] GPU Passthrough"},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#conclusion","text":"And that's it! Start up, rebuild and stop your containers as you like. Source code for this blog post in a container in WSL2 Finally, you can even use multiple containers with docker-compose.yml (although for development you'd be likely to be use just one).","title":"Conclusion"},{"location":"blog-posts/2021-12-04-apple-chips-recipe/","tags":["Cooking"],"text":"Crispy Apple Chips Apple chips are a nice and healthy snack. I made some the other day and it's super easy. Time required: 3 hours Ingredients Fresh apples ( Gala apples taste the best) Steps Preheat oven to 120\u00b0C. Cut apples thinly into ~5mm slices. If you have a mandoline it's easier. Place in the oven for 2 hours. Let it sit in the oven for another 30 mins. Once it cools down, it'll become crispy. The chips go well with a salted caramel dip! Notes I tried using a dehydrator (70\u00b0C for 12 hours), but they aren't as crispy as this oven method.","title":"Apple Chips Recipe"},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#crispy-apple-chips","text":"Apple chips are a nice and healthy snack. I made some the other day and it's super easy. Time required: 3 hours","title":"Crispy Apple Chips"},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#ingredients","text":"Fresh apples ( Gala apples taste the best)","title":"Ingredients"},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#steps","text":"Preheat oven to 120\u00b0C. Cut apples thinly into ~5mm slices. If you have a mandoline it's easier. Place in the oven for 2 hours. Let it sit in the oven for another 30 mins. Once it cools down, it'll become crispy. The chips go well with a salted caramel dip!","title":"Steps"},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#notes","text":"I tried using a dehydrator (70\u00b0C for 12 hours), but they aren't as crispy as this oven method.","title":"Notes"},{"location":"blog-posts/2021-12-17-useful-utilities/","text":"My Collection of Useful Utilities Stuff I use, arranged by language/OS. Inspired by this article . Python diskcache : Python disk-backed cache, Django compatible, faster than Redis and Memcached FastAPI : High performance backend framework based on OpenAPI, JSON Schema and Python types via Pydantic rich : rich terminal formatting textual : CSS/HTML/React inspired reactive, responsive terminal UIs ( demo ) tqdm : intuitive progress bars for Python Also with support for sending realtime updates to Telegram Typer : Alternative to argparser using Python types Windows Everything : Extremely fast filename search (< 1s) with regex support Handbrake : Open-source video transcoder OBS Studio : Open-source screen recorder Cross-Platform asciinema : Terminal session recorder Docker : Containerization at its finest hashcat : GPU-accelerated hash cracker VeraCrypt : TrueCrypt successor for full-disk/file/partition encryption with plausible deniability yt-dlp : Youtube-dl fork, a general purpose website video downloader Web CanaryTokens : Get alerted when someone clicks a link, image, opens an Explorer folder, or even when a vulnerable service executes code using the Log4Shell vulnerability. Awesome : Huge, community maintained list-of-lists about programming, books, and many other topics (note - Awesome Piracy isn't linked) 4chan Recommendation Charts : Massive lists of recommendations about almost anything from books, movies, games, comics to anime.","title":"Useful Utilities"},{"location":"blog-posts/2021-12-17-useful-utilities/#my-collection-of-useful-utilities","text":"Stuff I use, arranged by language/OS. Inspired by this article .","title":"My Collection of Useful Utilities"},{"location":"blog-posts/2021-12-17-useful-utilities/#python","text":"diskcache : Python disk-backed cache, Django compatible, faster than Redis and Memcached FastAPI : High performance backend framework based on OpenAPI, JSON Schema and Python types via Pydantic rich : rich terminal formatting textual : CSS/HTML/React inspired reactive, responsive terminal UIs ( demo ) tqdm : intuitive progress bars for Python Also with support for sending realtime updates to Telegram Typer : Alternative to argparser using Python types","title":"Python"},{"location":"blog-posts/2021-12-17-useful-utilities/#windows","text":"Everything : Extremely fast filename search (< 1s) with regex support Handbrake : Open-source video transcoder OBS Studio : Open-source screen recorder","title":"Windows"},{"location":"blog-posts/2021-12-17-useful-utilities/#cross-platform","text":"asciinema : Terminal session recorder Docker : Containerization at its finest hashcat : GPU-accelerated hash cracker VeraCrypt : TrueCrypt successor for full-disk/file/partition encryption with plausible deniability yt-dlp : Youtube-dl fork, a general purpose website video downloader","title":"Cross-Platform"},{"location":"blog-posts/2021-12-17-useful-utilities/#web","text":"CanaryTokens : Get alerted when someone clicks a link, image, opens an Explorer folder, or even when a vulnerable service executes code using the Log4Shell vulnerability. Awesome : Huge, community maintained list-of-lists about programming, books, and many other topics (note - Awesome Piracy isn't linked) 4chan Recommendation Charts : Massive lists of recommendations about almost anything from books, movies, games, comics to anime.","title":"Web"},{"location":"blog-posts/2021-12-25-skiing-switzerland/","text":"Skiing in St Moritz, Switzerland Club Med St. Moritz I went here during December, 2021, on the VTL lane. We stayed at Club Med St. Moritz . It was full-board and inclusive of ski passes, lessons and rental (of the ski, helmet, boots and poles), which made planning convenient. They also had two-way airport pickup. View from the room The accomodation was somewhat spartan but otherwise all the facilities expected of a 4/5-star hotel including a radiator. The food was Club Med buffet-style from breakfast to dinner, and one of the days there was an opportunity to try cheese and chocolate fondue. As we were there over Christmas there was also a special Christmas buffet dinner which included swordfish sashimi, whole scallops, foie gras and deer meat stew. I did not have any gastrointestinal distress throughout this trip. Of note there was also a bar with free flow drinks all day. While the wine selection was limited (either plain red or white), cocktails and my personal favourite Bailey's Irish Cream were available. Now, about the skiing. We started at the nursery slope at the back of our hotel for the first day, and then on the afternoon of the second day we went up to Corviglia. Map of Corviglia region Unfortunately, I cannot remember the exact location of the slopes we did on this map, nor which cablecar we took. I will update this post when I have the information. I had some prior ski experience, having previously tried skiing in Norway alone without a teacher. We joined the beginner group (group 1). I managed to pick up the snow plough turn on the second day of class, and by the fourth day I was quite confident of my parallel turning (better on turning left than right). I was happy by the end of my trip I managed to overcome the paranoia/semi-PTSD I had previously from going down steep slopes at high speed and not being able to stop. Some of the main pointers I felt were helpful: Leaning forward; if not, the skis will not turn easily Putting one's weight on the outside ski when turning Youtube has lots of helpful videos The guide left us alone quite a lot of the time as there were some students who needed a lot of guidance. Most of the slopes here at St Moritz were blue (intermediate), with only one nursery slope just beside our hotel and another on the mountain. This meant most of us were thrown on a blue slope pretty early on, and we all fell a lot (fortunately no serious injuries). Some scenery on the way up Nursery slope A blue (intermediate) slope Regarding the topic of safety, I did not at any time feel my life was in danger, even during periods where I was out of the instructor's sight. While there were some obvious dropoffs, there were too far off from the main slopes to pose any real danger. My main worry was getting an ACL tear 1 ; fortunately this did not happen and the worst injury I got was a right toenail avulsion, likely due to not tightening the top half of the skiing boot sufficiently. It should be tight enough such that leaning with knees forward does not allow the toe to come into contact with the front of the boot. The VTL flight back was rather uneventful and my ART was checked at the departure airport, who knew about the process. Overall, I found the facilities and skiing to be enjoyable. I plan to attempt skiing somewhere closer to home next - perhaps in Japan 2 , when flights resume. While modern ski bindings have drastically reduced the rates of long bone fractures, ligament injuries have increased, probably as the ski binding is not designed to release in response to torsional forces. \u21a9 Skiing, followed by a hot onsen bath, yakitori and sushi. \u21a9","title":"Skiing at St Moritz, Switzerland"},{"location":"blog-posts/2021-12-25-skiing-switzerland/#skiing-in-st-moritz-switzerland","text":"Club Med St. Moritz I went here during December, 2021, on the VTL lane. We stayed at Club Med St. Moritz . It was full-board and inclusive of ski passes, lessons and rental (of the ski, helmet, boots and poles), which made planning convenient. They also had two-way airport pickup. View from the room The accomodation was somewhat spartan but otherwise all the facilities expected of a 4/5-star hotel including a radiator. The food was Club Med buffet-style from breakfast to dinner, and one of the days there was an opportunity to try cheese and chocolate fondue. As we were there over Christmas there was also a special Christmas buffet dinner which included swordfish sashimi, whole scallops, foie gras and deer meat stew. I did not have any gastrointestinal distress throughout this trip. Of note there was also a bar with free flow drinks all day. While the wine selection was limited (either plain red or white), cocktails and my personal favourite Bailey's Irish Cream were available. Now, about the skiing. We started at the nursery slope at the back of our hotel for the first day, and then on the afternoon of the second day we went up to Corviglia. Map of Corviglia region Unfortunately, I cannot remember the exact location of the slopes we did on this map, nor which cablecar we took. I will update this post when I have the information. I had some prior ski experience, having previously tried skiing in Norway alone without a teacher. We joined the beginner group (group 1). I managed to pick up the snow plough turn on the second day of class, and by the fourth day I was quite confident of my parallel turning (better on turning left than right). I was happy by the end of my trip I managed to overcome the paranoia/semi-PTSD I had previously from going down steep slopes at high speed and not being able to stop. Some of the main pointers I felt were helpful: Leaning forward; if not, the skis will not turn easily Putting one's weight on the outside ski when turning Youtube has lots of helpful videos The guide left us alone quite a lot of the time as there were some students who needed a lot of guidance. Most of the slopes here at St Moritz were blue (intermediate), with only one nursery slope just beside our hotel and another on the mountain. This meant most of us were thrown on a blue slope pretty early on, and we all fell a lot (fortunately no serious injuries). Some scenery on the way up Nursery slope A blue (intermediate) slope Regarding the topic of safety, I did not at any time feel my life was in danger, even during periods where I was out of the instructor's sight. While there were some obvious dropoffs, there were too far off from the main slopes to pose any real danger. My main worry was getting an ACL tear 1 ; fortunately this did not happen and the worst injury I got was a right toenail avulsion, likely due to not tightening the top half of the skiing boot sufficiently. It should be tight enough such that leaning with knees forward does not allow the toe to come into contact with the front of the boot. The VTL flight back was rather uneventful and my ART was checked at the departure airport, who knew about the process. Overall, I found the facilities and skiing to be enjoyable. I plan to attempt skiing somewhere closer to home next - perhaps in Japan 2 , when flights resume. While modern ski bindings have drastically reduced the rates of long bone fractures, ligament injuries have increased, probably as the ski binding is not designed to release in response to torsional forces. \u21a9 Skiing, followed by a hot onsen bath, yakitori and sushi. \u21a9","title":"Skiing in St Moritz, Switzerland"},{"location":"blog-posts/2021-12-30-npm-update-behavior/","tags":["Programming"],"text":"npm update does not write updated versions to package.json Update: This issue has been fixed in npm 8.3.2 . Found this out the hard way. I was working on an app, and I wanted to update its dependencies. > npm outdated Package Current Wanted Latest Location Depended by date-fns 2.27.0 2.28.0 2.28.0 node_modules/date-fns frontend So I updated with npm update . Then I had a look at package.json and to my surprise, date-fns wasn't updated: \"dependencies\" : { \"date-fns\" : \"^2.27.0\" , } However, the actual package was updated: > npm list my-app@0.1.0 /workspaces/my-app \u251c\u2500\u2500 date-fns@2.28.0 After googling, I finally found that this was a behavioral change ever since npm v7. As a workaround for now, I use npm-check-updates to update version numbers in package.json .","title":"npm update Behavior"},{"location":"blog-posts/2021-12-30-npm-update-behavior/#npm-update-does-not-write-updated-versions-to-packagejson","text":"Update: This issue has been fixed in npm 8.3.2 . Found this out the hard way. I was working on an app, and I wanted to update its dependencies. > npm outdated Package Current Wanted Latest Location Depended by date-fns 2.27.0 2.28.0 2.28.0 node_modules/date-fns frontend So I updated with npm update . Then I had a look at package.json and to my surprise, date-fns wasn't updated: \"dependencies\" : { \"date-fns\" : \"^2.27.0\" , } However, the actual package was updated: > npm list my-app@0.1.0 /workspaces/my-app \u251c\u2500\u2500 date-fns@2.28.0 After googling, I finally found that this was a behavioral change ever since npm v7. As a workaround for now, I use npm-check-updates to update version numbers in package.json .","title":"npm update does not write updated versions to package.json"},{"location":"blog-posts/2022-02-04-deep-work/","tags":["Philosophy"],"text":"On Deep Work I believe that useful work, of lasting value to oneself and others, comes from uninterrupted concentration. Intuitively it makes sense - imaging working on a complex task, requiring you to hold many pieces of information in your mind simultaneously in order to produce a result, something common in knowledge fields. When you are interrupted, such as by an instant message or some other notification, your attention on the main task is lost, some new context is loaded into your memory as necessary to deal with processing the distraction, and by the time you resume the main task, it becomes harder to recall the pieces of information you were holding in your memory earlier. In effect, this is similar to the process of running a non-trivial calculation on a computer. First, the computer reads the file from the hard disk into working memory. Next, the processor performs operations in-memory. Finally, the output is written back to the hard disk. For us humans, it's analogous. We start on a task, reading manuals/messages/notes as necessary. As we scan through, we load relevant information into our working memory. Then, we begin to process the data, doing pattern matching, lookups from long-term memory and other manipulations in our working memory as required. Finally, we output the data - either by an action in the physical world such as typing a document, or by storing the result in our long term memory for future use. Just like us, computers suck at task switching too. Many programming languages support working on other tasks while waiting for the result of one to complete, a feature known as asynchronous programming 1 . Imagine calling someone, working on a math problem while waiting for the person to pickup, switching to answer a text on your phone, and then speaking with the person on the phone. That's what a single core is doing most of the time on your computer, handling network, the display and storage one after the other. Interestingly, it turns out that this switching is not free, and in fact incurs a significant penalty ( Javascript , Python ). In fact, we're worse than the computer. First of all, computers have multiple cores, while all we have is one brain to process information. Secondly, computers have effectively unlimited storage with internet access. Finally, they don't get tired or get affected by moods. Besides reducing our efficiency, frequent distractions can actually affect our mood. With interruptions, we end up completing a task sub-optimally, in our hearts knowing we could have done a better job. The satisfaction of having a job well done, a story woven beautifully, or a program well crafted is denied to us. It is a pity, because that feeling, that knowledge of having created or done something to the very best of your ability, is the purest source of pleasure in this world, something that can only be attained by effort, not bought. It is a feeling shared by humans since antiquity. Imagine how the builders of the pyramids must have felt when the final stone was set into place, the geometrical perfection of the then tallest man-made structures in the world complete. Or the joy, coupled with relief, of the engineers on seeing the space shuttle , a monumental feat of engineering, reach the moon 384,000 kilometers away and return. Or how Einstein, in 1915, upon realizing that gravity and acceleration were equivalent, published the theory of General Relativity, an entire, hitherto unknown continent of science which led to the further discovery of black holes, the expanding universe and even GPS . Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away 2 . The ability to focus on a single task is known as deep work , which happens to be the title of a great book I read recently. This ability is getting rarer these days, which is unfortunate. I think this is due in no small part to the pervasiveness of instant messaging and social media. The other culprits you might not suspect are public postboards/forums like Reddit and HardwareZone 3 , where minimal effort is required to make a post. Personally, I also consider radio channels and mainstream media in my country like ChannelNewsAsia or the Straits Times to be another major distraction. In fact, society is designed to distract us, and I think there are two main reasons behind it. The first reason has to do with one of the largest markets on earth. What do Reddit, Hardwarezone, Facebook, Tiktok, CNA and Straits Times have in common? Advertising. All of them want, and depend on, our attention. Sponsored articles, affiliate marketing, viral posts and promoted content have infiltrated these news sources over time, in increasingly subtle ways. What has not changed is what they aim to do - grab our attention and make us read the text, watch the video - their payload 4 . The second reason has to do with innate human desires. All of us want some form of respect and the feeling of companionship. We want to help others, and feel that others care for us. We read something online or hear some juicy gossip, recall that it vaguely fits someone's interest, and send it to them, hoping that it might help them or pique their interest. A large majority of messages in my phone fall in that category. In the old days before the internet we might have collected articles, summarized and consolidated them, and mailed them to a friend. Today, we send them almost as soon as they reach us, something I myself also do. Combined together, these channels of information and communication provide us with an unending stream of distraction, and it is all too easy to fall in and get swept by the current, losing our original destination in the process. My Schedule The book Deep Work suggests there are three ways around this quandary, all of which involve setting aside time to work in a quiet area, free from distractions. The first way involves taking a prolonged, continuous period of time off work each year, the second involves setting aside a day or two each week, and the third involves setting aside a scheduled amount of time each day. I think all three have their merits, in part due to the constraints imposed on us by our jobs - it might be hard to take leave on consecutive days, for example. The third method is what I currently use. I find myself to be most productive after dinner, so I set aside time most days at night to my projects. I have developed a sort of routine for my day over the years, as follows: Just before leaving work, I check through my emails, messages and other channels to make sure there is nothing I haven't attended to. For each unattended task/unanswered message I ask myself: Can I respond to this tomorrow? If so, I leave it till the next morning. Once I'm satisfied, I set my phone to silent mode 5 . I don't check my phone after this point, unless I get a call. Depending on my schedule, I exercise. After dinner, I begin working on my tasks sequentially. The next day at lunch, I set aside some time to respond to queries on my phone, before continuing with work. When I first began this schedule a few years back, I was worried about the impact to my social life it might cause, especially with regards to instant messaging. Would I appear cold or uninterested? Would it seem like I didn't care? To my surprise, the opposite happened. Instead of having shallow, quick back and forth conversations, I found that putting thought into my replies stimulated their interest and revealed deeper subjects they were interested to talk about, and the conversations became much deeper as a result, sometimes blossoming into side projects. This led me to realize people treasure deep relations much more than simply response time, and it is now a habit of mine to pause and think each time I feel like checking my phone, for I could be actually doing others and myself a disservice by simply replying quickly but shallowly. This is an area I am actively exploring, and I appreciate any feedback. For example, async/await in Javascript, and asyncio in Python. \u21a9 From Antoine de Saint-Exup\u00e9ry, the author of The Little Prince . \u21a9 A Singaporean internet forum owned by Singapore Press holdings. Notorious for its EDMW subforum, where anti-government sentiment, gossip and clickbait run rife. \u21a9 On execution, your attention is diverted, and your processing capabilities are spent on comprehending the payload, before sending it to others. Analogous to how viruses hijack a cell's internal machinery to make more copies of itself. \u21a9 On Android, I use both Bedtime Mode (dims screen with grayscale) and Focus Mode (prevents notifications from certain apps from showing). I find this reduces the cognitive effort required to avoid distractions. \u21a9","title":"Deep Work"},{"location":"blog-posts/2022-02-04-deep-work/#on-deep-work","text":"I believe that useful work, of lasting value to oneself and others, comes from uninterrupted concentration. Intuitively it makes sense - imaging working on a complex task, requiring you to hold many pieces of information in your mind simultaneously in order to produce a result, something common in knowledge fields. When you are interrupted, such as by an instant message or some other notification, your attention on the main task is lost, some new context is loaded into your memory as necessary to deal with processing the distraction, and by the time you resume the main task, it becomes harder to recall the pieces of information you were holding in your memory earlier. In effect, this is similar to the process of running a non-trivial calculation on a computer. First, the computer reads the file from the hard disk into working memory. Next, the processor performs operations in-memory. Finally, the output is written back to the hard disk. For us humans, it's analogous. We start on a task, reading manuals/messages/notes as necessary. As we scan through, we load relevant information into our working memory. Then, we begin to process the data, doing pattern matching, lookups from long-term memory and other manipulations in our working memory as required. Finally, we output the data - either by an action in the physical world such as typing a document, or by storing the result in our long term memory for future use. Just like us, computers suck at task switching too. Many programming languages support working on other tasks while waiting for the result of one to complete, a feature known as asynchronous programming 1 . Imagine calling someone, working on a math problem while waiting for the person to pickup, switching to answer a text on your phone, and then speaking with the person on the phone. That's what a single core is doing most of the time on your computer, handling network, the display and storage one after the other. Interestingly, it turns out that this switching is not free, and in fact incurs a significant penalty ( Javascript , Python ). In fact, we're worse than the computer. First of all, computers have multiple cores, while all we have is one brain to process information. Secondly, computers have effectively unlimited storage with internet access. Finally, they don't get tired or get affected by moods. Besides reducing our efficiency, frequent distractions can actually affect our mood. With interruptions, we end up completing a task sub-optimally, in our hearts knowing we could have done a better job. The satisfaction of having a job well done, a story woven beautifully, or a program well crafted is denied to us. It is a pity, because that feeling, that knowledge of having created or done something to the very best of your ability, is the purest source of pleasure in this world, something that can only be attained by effort, not bought. It is a feeling shared by humans since antiquity. Imagine how the builders of the pyramids must have felt when the final stone was set into place, the geometrical perfection of the then tallest man-made structures in the world complete. Or the joy, coupled with relief, of the engineers on seeing the space shuttle , a monumental feat of engineering, reach the moon 384,000 kilometers away and return. Or how Einstein, in 1915, upon realizing that gravity and acceleration were equivalent, published the theory of General Relativity, an entire, hitherto unknown continent of science which led to the further discovery of black holes, the expanding universe and even GPS . Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away 2 . The ability to focus on a single task is known as deep work , which happens to be the title of a great book I read recently. This ability is getting rarer these days, which is unfortunate. I think this is due in no small part to the pervasiveness of instant messaging and social media. The other culprits you might not suspect are public postboards/forums like Reddit and HardwareZone 3 , where minimal effort is required to make a post. Personally, I also consider radio channels and mainstream media in my country like ChannelNewsAsia or the Straits Times to be another major distraction. In fact, society is designed to distract us, and I think there are two main reasons behind it. The first reason has to do with one of the largest markets on earth. What do Reddit, Hardwarezone, Facebook, Tiktok, CNA and Straits Times have in common? Advertising. All of them want, and depend on, our attention. Sponsored articles, affiliate marketing, viral posts and promoted content have infiltrated these news sources over time, in increasingly subtle ways. What has not changed is what they aim to do - grab our attention and make us read the text, watch the video - their payload 4 . The second reason has to do with innate human desires. All of us want some form of respect and the feeling of companionship. We want to help others, and feel that others care for us. We read something online or hear some juicy gossip, recall that it vaguely fits someone's interest, and send it to them, hoping that it might help them or pique their interest. A large majority of messages in my phone fall in that category. In the old days before the internet we might have collected articles, summarized and consolidated them, and mailed them to a friend. Today, we send them almost as soon as they reach us, something I myself also do. Combined together, these channels of information and communication provide us with an unending stream of distraction, and it is all too easy to fall in and get swept by the current, losing our original destination in the process.","title":"On Deep Work"},{"location":"blog-posts/2022-02-04-deep-work/#my-schedule","text":"The book Deep Work suggests there are three ways around this quandary, all of which involve setting aside time to work in a quiet area, free from distractions. The first way involves taking a prolonged, continuous period of time off work each year, the second involves setting aside a day or two each week, and the third involves setting aside a scheduled amount of time each day. I think all three have their merits, in part due to the constraints imposed on us by our jobs - it might be hard to take leave on consecutive days, for example. The third method is what I currently use. I find myself to be most productive after dinner, so I set aside time most days at night to my projects. I have developed a sort of routine for my day over the years, as follows: Just before leaving work, I check through my emails, messages and other channels to make sure there is nothing I haven't attended to. For each unattended task/unanswered message I ask myself: Can I respond to this tomorrow? If so, I leave it till the next morning. Once I'm satisfied, I set my phone to silent mode 5 . I don't check my phone after this point, unless I get a call. Depending on my schedule, I exercise. After dinner, I begin working on my tasks sequentially. The next day at lunch, I set aside some time to respond to queries on my phone, before continuing with work. When I first began this schedule a few years back, I was worried about the impact to my social life it might cause, especially with regards to instant messaging. Would I appear cold or uninterested? Would it seem like I didn't care? To my surprise, the opposite happened. Instead of having shallow, quick back and forth conversations, I found that putting thought into my replies stimulated their interest and revealed deeper subjects they were interested to talk about, and the conversations became much deeper as a result, sometimes blossoming into side projects. This led me to realize people treasure deep relations much more than simply response time, and it is now a habit of mine to pause and think each time I feel like checking my phone, for I could be actually doing others and myself a disservice by simply replying quickly but shallowly. This is an area I am actively exploring, and I appreciate any feedback. For example, async/await in Javascript, and asyncio in Python. \u21a9 From Antoine de Saint-Exup\u00e9ry, the author of The Little Prince . \u21a9 A Singaporean internet forum owned by Singapore Press holdings. Notorious for its EDMW subforum, where anti-government sentiment, gossip and clickbait run rife. \u21a9 On execution, your attention is diverted, and your processing capabilities are spent on comprehending the payload, before sending it to others. Analogous to how viruses hijack a cell's internal machinery to make more copies of itself. \u21a9 On Android, I use both Bedtime Mode (dims screen with grayscale) and Focus Mode (prevents notifications from certain apps from showing). I find this reduces the cognitive effort required to avoid distractions. \u21a9","title":"My Schedule"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/","tags":["Programming"],"text":"Setup SSH with Certificates on Windows (and a bit of Linux) The Secure Shell Protocol (SSH) allows one to remotely access a terminal interface on a remote machine. In addition, it allows for capabilities such as port tunneling 1 , file transfers and screen forwarding. The main reasons for setting up SSH access on my machine were to allow me to: Access the filesystem remotely and transfer files Develop on VSCode remotely, in Remote-Containers Tunnel ports to/from the remote machine (e.g., to access local applications only listening on localhost ) SSH Authentication Methods SSH supports several authentication methods , but the most common are: password : Login using the password of the host user. Most common, but vulnerable to password guessing attacks such as brute-force or dictionary-based methods. publickey : Utilizes public key authentication. Effectively resistant 2 to any form of password guessing attack. This mode also allows for the use of certificates , and is the mode we will be using. Certificates What are certificates? Public key (aka asymmetric) encryption consists of a pair of keys - the private and public key. Any information encrypted with the public key can only be decrypted by the corresponding private key (and vice-versa). Public keys are shared publicly as the name suggests, while the private key is kept secret. This can be used to create a digital signature , an electronic variant of the handwritten signature, with similar properties: Authentication : Proves that a message was sent by the signer and no one else. Non-repudiation : Someone who has signed a message, cannot later deny they have done so. In addition, a digital signature offers another property which handwritten signatures lack: Integrity : Any alteration to the signed message renders the signature invalid. This brings us to the topic of certificates ( public key certificates ). These are electronic documents which prove that the owner's public key has been verified by some authority (the certificate issuer). This lets us trust the public keys of unknown entities, provided we trust the certificate issuer. In fact, this is how website certificates are issued under TLS , the cryptographic protocol powering HTTPS. SSH Certificates SSH certificates are essentially public SSH keys signed by some authority's private key, and allow the host to authenticate clients. When a client tries to connect to an SSH host, the client proves its identity by showing the host its public key certificate, which is signed by an authority the host trusts. Unlike TLS however, there are no authorities trusted by default (aka root certificate authorities ). The trusted certificate authority on the host must be set by the user. An advantage of using certificates is that all clients with public keys signed by an authority trusted by the host are automatically granted access, and there is no need to add or maintain the client's public keys in the authorized_keys file on the host. 1. Setting up SSH on the host First, ensure that OpenSSH, the open-source implementation of the SSH protocol and its tools, is installed . To check that sshd , the SSH daemon, is running on the host, open a Powershell terminal as an administrator and execute Get-Service sshd . The output should be similar to the following: Status Name DisplayName ------ ---- ----------- Running sshd OpenSSH SSH Server Next, we will use ssh-keygen to generate our server's public-private key pair, which will be used to sign the public keys of clients we want to allow SSH access from. This keypair is different from the host's keypair (the keypair presented to clients), which is usually stored in %ProgramData%\\ssh\\sshd_config . Open a terminal and type the following: ssh-keygen -f user_ca -t ed25519 -f : the name of the keypair -t : the key algorithm, in this case EdDSA with Curve25519 The passphrase is used to encrypt the private key, and is optional. You should get the following output: Generating public/private ed25519 key pair. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in user_ca. Your public key has been saved in user_ca.pub. The key fingerprint is: SHA256:OxXXnTRmRiD7bxGMgyuU4fz4JTxKcEpGrngbIWpz/ow nick@Desktop-Nick The key's randomart image is: +--[ED25519 256]--+ | . . . .oB | | o o o +.B.o| | . . = *.o.o.+.| | . o = = +oo . .| | + o + .S+.* o . | |. + . o .o+ + . .| | . . o. . o | | + . . | | E o | +----[SHA256]-----+ user_ca contains the private key of this pair, and must be kept secret. Now, we need to tell our host to trust this public key, and enable public key authentication. Open up C:\\ProgramData\\ssh\\sshd_config and make the following changes: Set PubkeyAuthentication to yes Set TrustedUserCAKeys to the location of the user_ca.pub file generated above (note, use the full path to eliminate ambiguity) (optional but recommended) Disable password authentication: set PasswordAuthentication to no Now, the host is ready to accept connections from clients whose public keys were signed by this private key ( user_ca above). 2. Signing a client's SSH public key We'll now sign a client's public key, using ssh-keygen . To make things a bit simpler, we'll generate the client's keypair on the host, sign it, and then return the signed keypair to the client. First, we generate a keypair on the host: ssh-keygen -f client_key -t ed25519 Next, we use ssh-keygen to sign the client's public key ( client_key.pub ), with the private key of the keypair we generated earlier ( user_ca ). (Note: if you have added the private key to ssh-agent , see below . ssh-keygen -s user_ca -I <client_name> -n <usernames> -V +1d client_key.pub If you get an error about the public key not being found, use the absolute path to the user_ca.pub file instead, or ensure you run the command from the same directory as the user_ca.pub file. -s : Indicates we want to sign a public key, with the provided private key. -I : Key identifier, usually the name of the client. Will appear in logs. -n : Comma-separated list of usernames (on the host, not WSL) which the client is allowed to log into the host as. Usernames must already exist on the host. Also known as 'principals'. If this option is omitted, the client will not be able to login. -V : Validity interval of the certificate. If omitted, the certificate will be valid forever. Then, copy the files client_key (private key), client_key.pub (public key) and client_key-cert.pub (signed public key) to the client 4 . Usually, these files are placed in %UserProfile%\\.ssh . 3. Login Now, test the SSH login from the client! ssh -i <PATH_TO_KEYFILE> you@your.domain.name where <PATH_TO_KEYFILE> is the location to the private key, e.g. ~\\.ssh\\client_key . You should not be prompted for a password. If you don't want to keep having to specify the keyfile, create/edit the config file (usually at ~/.ssh/config ) 5 : Host ssh.your-domain.com HostName ssh.your-domain.com User your-username IdentityFile ~/.ssh/your_private_key (Optional) Adding the private key and signed public key to ssh-agent ssh-agent is a program which is able to store private keys and the signed public key using the appropriate secure credential storage for the operating system. This presents a more secure alternative than storing the private key unencrypted on the server. In order to add keys to the agent, use ssh-add : ssh-add <keyfile> <keyfile> is the location of the private key, e.g. user_ca . To check the keys which have been added to the agent, run ssh-add -l . From now on, ssh-agent will automatically supply the signed public key and private key in commands such as ssh . 6 (Only on Windows) Note: (On the host) If you added the host's certificate signing private key (e.g. user_ca ) to ssh-agent , when you want to sign a client`s public key, you need to use the following command instead: ssh-keygen -Us user_ca -I <client_name> -n <usernames> -V +1d client_key.pub -U indicates the private key should be extracted from ssh-agent . (Optional) Host Public Key Verification over DNS How does the client authenticate the host the first time round? How does the client know that the public key the host is presenting really is the correct key, and not an attacker's key? One way would be to verify the host's key fingerprint manually when connecting the first time. This is known as trust on first use . # ssh server@server.com The authenticity of host 'server@server.com (192.168.65.2)' can't be established. ECDSA key fingerprint is SHA256:e3eMAe6IrkZkWfCnYasBJUNRyHDC8SzDI0gLP9wWf1A. Are you sure you want to continue connecting (yes/no/[fingerprint])? However, it's not easy to remember. A better way is to add the host key to the DNS record, in a special type of record called SSHFP . We can get the required information to add via ssh-keygen : C:\\WINDOWS\\system32>ssh-keygen -r your.domain.name your.domain.name IN SSHFP 4 1 3e35102ba1ef8777b74d257edcef0d6391cb9c19 your.domain.name IN SSHFP 4 2 f9212b988c5cb2e9027746b13339c6b32d9f1c49183620765476ba76b51ddd31 You need to add this information as an SSHFP record via your DNS registrar. Finally, on the client, when we connect, we use the following command (non case-sensitive): ssh -o \"VerifyHostKeyDNS ask\" you@your.domain.name The authenticity of host 'your.domain.name (xx.xx.xx.xx)' can't be established. ED25519 key fingerprint is SHA256:+SErmIxcsukCd0axMznGsy2fHEkYNiB2VHa6drUd3TE. Matching host key fingerprint found in DNS. Are you sure you want to continue connecting (yes/no/[fingerprint])? Sadly, the OpenSSH client in Windows does not support VerifyHostKeyDNS . Why not host your own SSH-CA? Prior to my decision to use ssh-keygen as the certificate authority, I considered a number of alternative self-hosted SSH certificate authorities, but rejected them as follows: Bastillion - Not certificate based. Also, need to manually upload and download the public keys and configure SSH. Cloudflare Tunnel - Need to download on both server and client. I had some issues setting up SSH certificate login. Step - Need to download on both server and client. Also, TLS connection to step-ca from a client requires adding its generated root certificate as a trusted certificate 3 . Teleport - Need to download on both server and client. Teleport Nodes (the server component) are not supported on Windows. The ability to record SSH sessions might be useful if I were to move to Linux. Vault by HashiCorp - Need to download on both server and client. Instead, to streamline the process of generating client certificates, I plan to write a certificate provisioning server which will probably rely on the (already-existing) 2FA login my web app backend uses. This would call ssh-keygen and return the signed public/private key pair. You could use this to bypass firewalls, by running a SOCKS proxy over the tunnel. \u21a9 RSA, EdDSA and Ed25519 are considered secure . DSA (and ECDSA, which uses DSA in a different mathematical group, namely elliptic curves) are susceptible to key recovery attacks when the nonce is reused/predictable. \u21a9 This is because publicly trusted CAs only issue leaf certificates , which cannot be used to sign other certificates. \u21a9 On Linux, the private key must have chmod 600 permissions (i.e. no read access to anyone other than the user), otherwise ssh-add will refuse to add the key. \u21a9 Unfortunately, Windows does not generate the config file automatically on connecting to a host, unlike Linux. You'll have to create it yourself. \u21a9 On Windows, you may now safely delete the private key and the signed public key, as it is stored encrypted in the registry . \u21a9","title":"SSH with Certificates"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#setup-ssh-with-certificates-on-windows-and-a-bit-of-linux","text":"The Secure Shell Protocol (SSH) allows one to remotely access a terminal interface on a remote machine. In addition, it allows for capabilities such as port tunneling 1 , file transfers and screen forwarding. The main reasons for setting up SSH access on my machine were to allow me to: Access the filesystem remotely and transfer files Develop on VSCode remotely, in Remote-Containers Tunnel ports to/from the remote machine (e.g., to access local applications only listening on localhost )","title":"Setup SSH with Certificates on Windows (and a bit of Linux)"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#ssh-authentication-methods","text":"SSH supports several authentication methods , but the most common are: password : Login using the password of the host user. Most common, but vulnerable to password guessing attacks such as brute-force or dictionary-based methods. publickey : Utilizes public key authentication. Effectively resistant 2 to any form of password guessing attack. This mode also allows for the use of certificates , and is the mode we will be using.","title":"SSH Authentication Methods"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#certificates","text":"What are certificates? Public key (aka asymmetric) encryption consists of a pair of keys - the private and public key. Any information encrypted with the public key can only be decrypted by the corresponding private key (and vice-versa). Public keys are shared publicly as the name suggests, while the private key is kept secret. This can be used to create a digital signature , an electronic variant of the handwritten signature, with similar properties: Authentication : Proves that a message was sent by the signer and no one else. Non-repudiation : Someone who has signed a message, cannot later deny they have done so. In addition, a digital signature offers another property which handwritten signatures lack: Integrity : Any alteration to the signed message renders the signature invalid. This brings us to the topic of certificates ( public key certificates ). These are electronic documents which prove that the owner's public key has been verified by some authority (the certificate issuer). This lets us trust the public keys of unknown entities, provided we trust the certificate issuer. In fact, this is how website certificates are issued under TLS , the cryptographic protocol powering HTTPS. SSH Certificates SSH certificates are essentially public SSH keys signed by some authority's private key, and allow the host to authenticate clients. When a client tries to connect to an SSH host, the client proves its identity by showing the host its public key certificate, which is signed by an authority the host trusts. Unlike TLS however, there are no authorities trusted by default (aka root certificate authorities ). The trusted certificate authority on the host must be set by the user. An advantage of using certificates is that all clients with public keys signed by an authority trusted by the host are automatically granted access, and there is no need to add or maintain the client's public keys in the authorized_keys file on the host.","title":"Certificates"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#1-setting-up-ssh-on-the-host","text":"First, ensure that OpenSSH, the open-source implementation of the SSH protocol and its tools, is installed . To check that sshd , the SSH daemon, is running on the host, open a Powershell terminal as an administrator and execute Get-Service sshd . The output should be similar to the following: Status Name DisplayName ------ ---- ----------- Running sshd OpenSSH SSH Server Next, we will use ssh-keygen to generate our server's public-private key pair, which will be used to sign the public keys of clients we want to allow SSH access from. This keypair is different from the host's keypair (the keypair presented to clients), which is usually stored in %ProgramData%\\ssh\\sshd_config . Open a terminal and type the following: ssh-keygen -f user_ca -t ed25519 -f : the name of the keypair -t : the key algorithm, in this case EdDSA with Curve25519 The passphrase is used to encrypt the private key, and is optional. You should get the following output: Generating public/private ed25519 key pair. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in user_ca. Your public key has been saved in user_ca.pub. The key fingerprint is: SHA256:OxXXnTRmRiD7bxGMgyuU4fz4JTxKcEpGrngbIWpz/ow nick@Desktop-Nick The key's randomart image is: +--[ED25519 256]--+ | . . . .oB | | o o o +.B.o| | . . = *.o.o.+.| | . o = = +oo . .| | + o + .S+.* o . | |. + . o .o+ + . .| | . . o. . o | | + . . | | E o | +----[SHA256]-----+ user_ca contains the private key of this pair, and must be kept secret. Now, we need to tell our host to trust this public key, and enable public key authentication. Open up C:\\ProgramData\\ssh\\sshd_config and make the following changes: Set PubkeyAuthentication to yes Set TrustedUserCAKeys to the location of the user_ca.pub file generated above (note, use the full path to eliminate ambiguity) (optional but recommended) Disable password authentication: set PasswordAuthentication to no Now, the host is ready to accept connections from clients whose public keys were signed by this private key ( user_ca above).","title":"1. Setting up SSH on the host"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#2-signing-a-clients-ssh-public-key","text":"We'll now sign a client's public key, using ssh-keygen . To make things a bit simpler, we'll generate the client's keypair on the host, sign it, and then return the signed keypair to the client. First, we generate a keypair on the host: ssh-keygen -f client_key -t ed25519 Next, we use ssh-keygen to sign the client's public key ( client_key.pub ), with the private key of the keypair we generated earlier ( user_ca ). (Note: if you have added the private key to ssh-agent , see below . ssh-keygen -s user_ca -I <client_name> -n <usernames> -V +1d client_key.pub If you get an error about the public key not being found, use the absolute path to the user_ca.pub file instead, or ensure you run the command from the same directory as the user_ca.pub file. -s : Indicates we want to sign a public key, with the provided private key. -I : Key identifier, usually the name of the client. Will appear in logs. -n : Comma-separated list of usernames (on the host, not WSL) which the client is allowed to log into the host as. Usernames must already exist on the host. Also known as 'principals'. If this option is omitted, the client will not be able to login. -V : Validity interval of the certificate. If omitted, the certificate will be valid forever. Then, copy the files client_key (private key), client_key.pub (public key) and client_key-cert.pub (signed public key) to the client 4 . Usually, these files are placed in %UserProfile%\\.ssh .","title":"2. Signing a client's SSH public key"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#3-login","text":"Now, test the SSH login from the client! ssh -i <PATH_TO_KEYFILE> you@your.domain.name where <PATH_TO_KEYFILE> is the location to the private key, e.g. ~\\.ssh\\client_key . You should not be prompted for a password. If you don't want to keep having to specify the keyfile, create/edit the config file (usually at ~/.ssh/config ) 5 : Host ssh.your-domain.com HostName ssh.your-domain.com User your-username IdentityFile ~/.ssh/your_private_key","title":"3. Login"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#optional-adding-the-private-key-and-signed-public-key-to-ssh-agent","text":"ssh-agent is a program which is able to store private keys and the signed public key using the appropriate secure credential storage for the operating system. This presents a more secure alternative than storing the private key unencrypted on the server. In order to add keys to the agent, use ssh-add : ssh-add <keyfile> <keyfile> is the location of the private key, e.g. user_ca . To check the keys which have been added to the agent, run ssh-add -l . From now on, ssh-agent will automatically supply the signed public key and private key in commands such as ssh . 6 (Only on Windows) Note: (On the host) If you added the host's certificate signing private key (e.g. user_ca ) to ssh-agent , when you want to sign a client`s public key, you need to use the following command instead: ssh-keygen -Us user_ca -I <client_name> -n <usernames> -V +1d client_key.pub -U indicates the private key should be extracted from ssh-agent .","title":"(Optional) Adding the private key and signed public key to ssh-agent"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#optional-host-public-key-verification-over-dns","text":"How does the client authenticate the host the first time round? How does the client know that the public key the host is presenting really is the correct key, and not an attacker's key? One way would be to verify the host's key fingerprint manually when connecting the first time. This is known as trust on first use . # ssh server@server.com The authenticity of host 'server@server.com (192.168.65.2)' can't be established. ECDSA key fingerprint is SHA256:e3eMAe6IrkZkWfCnYasBJUNRyHDC8SzDI0gLP9wWf1A. Are you sure you want to continue connecting (yes/no/[fingerprint])? However, it's not easy to remember. A better way is to add the host key to the DNS record, in a special type of record called SSHFP . We can get the required information to add via ssh-keygen : C:\\WINDOWS\\system32>ssh-keygen -r your.domain.name your.domain.name IN SSHFP 4 1 3e35102ba1ef8777b74d257edcef0d6391cb9c19 your.domain.name IN SSHFP 4 2 f9212b988c5cb2e9027746b13339c6b32d9f1c49183620765476ba76b51ddd31 You need to add this information as an SSHFP record via your DNS registrar. Finally, on the client, when we connect, we use the following command (non case-sensitive): ssh -o \"VerifyHostKeyDNS ask\" you@your.domain.name The authenticity of host 'your.domain.name (xx.xx.xx.xx)' can't be established. ED25519 key fingerprint is SHA256:+SErmIxcsukCd0axMznGsy2fHEkYNiB2VHa6drUd3TE. Matching host key fingerprint found in DNS. Are you sure you want to continue connecting (yes/no/[fingerprint])? Sadly, the OpenSSH client in Windows does not support VerifyHostKeyDNS .","title":"(Optional) Host Public Key Verification over DNS"},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#why-not-host-your-own-ssh-ca","text":"Prior to my decision to use ssh-keygen as the certificate authority, I considered a number of alternative self-hosted SSH certificate authorities, but rejected them as follows: Bastillion - Not certificate based. Also, need to manually upload and download the public keys and configure SSH. Cloudflare Tunnel - Need to download on both server and client. I had some issues setting up SSH certificate login. Step - Need to download on both server and client. Also, TLS connection to step-ca from a client requires adding its generated root certificate as a trusted certificate 3 . Teleport - Need to download on both server and client. Teleport Nodes (the server component) are not supported on Windows. The ability to record SSH sessions might be useful if I were to move to Linux. Vault by HashiCorp - Need to download on both server and client. Instead, to streamline the process of generating client certificates, I plan to write a certificate provisioning server which will probably rely on the (already-existing) 2FA login my web app backend uses. This would call ssh-keygen and return the signed public/private key pair. You could use this to bypass firewalls, by running a SOCKS proxy over the tunnel. \u21a9 RSA, EdDSA and Ed25519 are considered secure . DSA (and ECDSA, which uses DSA in a different mathematical group, namely elliptic curves) are susceptible to key recovery attacks when the nonce is reused/predictable. \u21a9 This is because publicly trusted CAs only issue leaf certificates , which cannot be used to sign other certificates. \u21a9 On Linux, the private key must have chmod 600 permissions (i.e. no read access to anyone other than the user), otherwise ssh-add will refuse to add the key. \u21a9 Unfortunately, Windows does not generate the config file automatically on connecting to a host, unlike Linux. You'll have to create it yourself. \u21a9 On Windows, you may now safely delete the private key and the signed public key, as it is stored encrypted in the registry . \u21a9","title":"Why not host your own SSH-CA?"},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/","tags":["Programming"],"text":"VSCode Remote Containers over SSH When working remotely with a laptop, sometimes we might want access to more CPU power, RAM or a GPU. VSCode supports accessing a remote machine , and if Docker is installed on the remote machine, you can even connect to remote development containers . This approach tremendously saves battery life since computation is done on the remote server. Requirements Working SSH connection . If you prefer to use SSH with certificates, you can refer to my post . (on Windows) Setup bash as the default SSH shell . bash needs to be the default SSH shell, otherwise development containers will not work . Once that is done, you can follow the official guide . You can now run powerful transformer models and more from your laptop! Why not code-server ? code-server is a fully browser-based implementation of VSCode, and offers nearly the same experience. Compared to SSH, all that is needed is a client with a browser, and there is no need for SSH certificates. However, the lack of support for VSCode Remote-Container and Remote-SSH extensions 1 were a deal-breaker for me, since I primarily develop within development containers 2 . code-server can be run in a Docker container too, and addtional code-server containers can even be created on-the-fly from within code-server itself. However, the configuration to automatically forward the relevant ports is going to be complicated. Authentication Concerns code-server uses a websocket stream. While nginx can be setup to require authentication before initiating the stream, there's no simple way to deauthenticate a websocket stream 3 once its established, unlike SSH connections. A comparison of features: code-server VSCode Remote-SSH Security Less secure 4 As secure as SSH is IP Visibility Can be hidden behind Cloudflare Public Authentication Password or external server 3 SSH password, 2FA, key or certificate Client requirements Any browser SSH client Access host filesystem Yes Yes Forward ports from host Yes Yes Full VSCode experience No Remote-Containers support Yes Open Source Yes Extension is proprietary Sadly, VSCode is not as open as I used to think. \u21a9 For the reasons I do this, see this post . \u21a9 While nginx can proxy websocket connections , it can't terminate them once established. \u21a9 \u21a9 Web applications have multiple vectors of attack, for example the OWASP Top Ten . \u21a9","title":"VSCode Remote Containers over SSH"},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/#vscode-remote-containers-over-ssh","text":"When working remotely with a laptop, sometimes we might want access to more CPU power, RAM or a GPU. VSCode supports accessing a remote machine , and if Docker is installed on the remote machine, you can even connect to remote development containers . This approach tremendously saves battery life since computation is done on the remote server.","title":"VSCode Remote Containers over SSH"},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/#requirements","text":"Working SSH connection . If you prefer to use SSH with certificates, you can refer to my post . (on Windows) Setup bash as the default SSH shell . bash needs to be the default SSH shell, otherwise development containers will not work . Once that is done, you can follow the official guide . You can now run powerful transformer models and more from your laptop!","title":"Requirements"},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/#why-not-code-server","text":"code-server is a fully browser-based implementation of VSCode, and offers nearly the same experience. Compared to SSH, all that is needed is a client with a browser, and there is no need for SSH certificates. However, the lack of support for VSCode Remote-Container and Remote-SSH extensions 1 were a deal-breaker for me, since I primarily develop within development containers 2 . code-server can be run in a Docker container too, and addtional code-server containers can even be created on-the-fly from within code-server itself. However, the configuration to automatically forward the relevant ports is going to be complicated. Authentication Concerns code-server uses a websocket stream. While nginx can be setup to require authentication before initiating the stream, there's no simple way to deauthenticate a websocket stream 3 once its established, unlike SSH connections. A comparison of features: code-server VSCode Remote-SSH Security Less secure 4 As secure as SSH is IP Visibility Can be hidden behind Cloudflare Public Authentication Password or external server 3 SSH password, 2FA, key or certificate Client requirements Any browser SSH client Access host filesystem Yes Yes Forward ports from host Yes Yes Full VSCode experience No Remote-Containers support Yes Open Source Yes Extension is proprietary Sadly, VSCode is not as open as I used to think. \u21a9 For the reasons I do this, see this post . \u21a9 While nginx can proxy websocket connections , it can't terminate them once established. \u21a9 \u21a9 Web applications have multiple vectors of attack, for example the OWASP Top Ten . \u21a9","title":"Why not code-server?"},{"location":"blog-posts/2022-02-26-fedora-win11-dual-boot/","tags":["Programming"],"text":"Dualbooting Fedora 35 with Windows 11 Recently I was trying to set up dual-booting on my laptop, with Fedora 35 and Windows 11. I followed best practices, installing Windows before Fedora . However, on rebooting Fedora, the laptop booted straight away to Windows 11 without prompting. On closer look at the BIOS boot menu, I noticed Fedora did not appear as an option, despite efibootmgr 1 showing otherwise: [nicholas@fedora ~]$ efibootmgr BootCurrent: 0000 Timeout: 0 seconds BootOrder: 0000,0004,2001,2002,2003 Boot0000* Fedora Boot0001* Unknown Device: Boot0002* Unknown Device: Boot0004* Windows Boot Manager Boot2001* EFI USB Device Boot2002* EFI DVD/CDROM Boot2003* EFI Network After doing some research, I found out that the laptop was ignoring the settings set by efibootmgr . I found a solution after research. First, a BIOS supervisor password must be set. Make it something simple so you don't forget. Next, add the shimx64.efi 2 file as trusted for executing (it's the Select an UEFI file as trusted for executing option in the screenshot below). You can find this file under HDD0/EFI/fedora/shimx64.efi . Now, Fedora will appear as an option in the boot menu, and this setting will overwrite that of efibootmgr . A utility to manipulate the EFI boot manager \u21a9 The reason for choosing shimx64.efi over grubx64.efi is that the former allows booting on computers with Secure Boot active. \u21a9","title":"Dualbooting Fedora 35 with Win 11"},{"location":"blog-posts/2022-02-26-fedora-win11-dual-boot/#dualbooting-fedora-35-with-windows-11","text":"Recently I was trying to set up dual-booting on my laptop, with Fedora 35 and Windows 11. I followed best practices, installing Windows before Fedora . However, on rebooting Fedora, the laptop booted straight away to Windows 11 without prompting. On closer look at the BIOS boot menu, I noticed Fedora did not appear as an option, despite efibootmgr 1 showing otherwise: [nicholas@fedora ~]$ efibootmgr BootCurrent: 0000 Timeout: 0 seconds BootOrder: 0000,0004,2001,2002,2003 Boot0000* Fedora Boot0001* Unknown Device: Boot0002* Unknown Device: Boot0004* Windows Boot Manager Boot2001* EFI USB Device Boot2002* EFI DVD/CDROM Boot2003* EFI Network After doing some research, I found out that the laptop was ignoring the settings set by efibootmgr . I found a solution after research. First, a BIOS supervisor password must be set. Make it something simple so you don't forget. Next, add the shimx64.efi 2 file as trusted for executing (it's the Select an UEFI file as trusted for executing option in the screenshot below). You can find this file under HDD0/EFI/fedora/shimx64.efi . Now, Fedora will appear as an option in the boot menu, and this setting will overwrite that of efibootmgr . A utility to manipulate the EFI boot manager \u21a9 The reason for choosing shimx64.efi over grubx64.efi is that the former allows booting on computers with Secure Boot active. \u21a9","title":"Dualbooting Fedora 35 with Windows 11"},{"location":"blog-posts/2022-02-27-my-computing-philosophy/","tags":["Programming"],"text":"My Computing Philosophy My computing setup is designed to maximize productivity, by following the following principles: Ergonomicity Remote, secure personal data access Stable open-source environment Ergonomicity Input takes up a majority of our time on the computer, and therefore it is a prime candidate for optimization. In order of importance: Keyboard layout: Dvorak The keyboard is perhaps the most frequently used peripheral, more so than the mouse, and thus choosing an efficient layout is essential. I decided on Dvorak, as it resembles playing the piano - vowels are on the home row of the left hand, while the common consonants are on the right, and this allows for a more natural alternation compared to the Qwerty layout. I remap the Ctrl + Z X C V keys for copy/paste/undo-ing, and Ctrl + W T / Ctrl + Shift + T for browsing, as their Qwerty locations are more convenient than their Dvorak equivalents. Configuration for Linux I use keyd on a Dvorak layout with the following config in /etc/keyd/default.conf : [ids] * [control] z = C-/ x = C-b c = C-i v = C-. t = C-k w = C-, shift = layer(control_shift) [control_shift:C-S] t = C-S-k Text Editor: Vim/Vim-like The program I use most frequently is the text editor, be it for programming or writing documents. Being able to type with just the keyboard, and not having to switch to the mouse for navigation allows me to focus more on what I am typing, and not having to think of reaching for my mouse. As a bonus, learning the Vim keybindings transfers naturally to other programs, such as Vim in Firefox, or the terminal file managers such as ranger and nnn , both of which feature Vim keybindings. Besides vanilla Vim, there are also other spin-off projects like Neovim and SpaceVim which I'm considering learning. Here is a great tutorial I'm using to learn Vim. Blue Light Filter: Flux/System Default Blue light is a major disruptor of our circadian rhythms and as such this is one of the settings I quickly adjust on devices I use. Flux is a tool I use on Windows, and for Linux, Gnome already has a night light feature in-built. Remote, secure personal data access Being able to access the contents of your computer anywhere you go is really handy, and it allows for things like remote file management, sharing files with friends and working on your projects anywhere in the world, on any computer. SSH access is one way to achieve secure access to another computer, and it is a method I currently use in conjunction with text editors such as VSCode and Vim. Additionally, I also deploy a web server with a web frontend 1 , to manage my tasks, book lists and potentially other loose non-file pieces of content. Having a web server and the associated frontend allows me to customize how data is displayed in one place, which then looks the same on all my other client devices. This saves money, as well as time spent configuring new devices (since everything is really being done on the server). As a bonus, since processing is offloaded to the server (for programming tasks), battery life of the device is prolonged. Stable, open source environment I've been using Windows ever since I started using computers. However, I have been encountering a lot of frustrations in Windows. WSL has too many issues (no systemd , changing IP address, poor Docker volume mount performance) Potential windows spyware concerns, e.g. Edge requesting for more and more tracking Updates keep breaking things and resetting preferences (e.g. Edge homepage, system color theme) Updates force you to restart Even in 2022, Windows still lacks a decent package manager 2 , making application updates a pain Powershell, while improving, is still behind Linux shells and utilities The reasons remaining to use Windows have dwindled: Gaming: With GPU passthrough, playing in a Windows VM is becoming increasingly possible. Really obscure, closed source, Windows-only tools: Again, running them in a VM is possible. Missing/substandard Linux device drivers 3 : A bit of a problem for some laptops, but for most desktops this is a non-issue. In view of the above problems, I have decided to move to Linux. Why not just store everything in the cloud? Because I don't trust Google (or Microsoft) with keeping the privacy of my data intact. \u21a9 Chocolatey is a good try, however. \u21a9 E.g., my laptop's fingerprint reader couldn't be used for login, while it worked fine in Windows 11. Blame it on hardware vendors. \u21a9","title":"My Computing Philosophy"},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#my-computing-philosophy","text":"My computing setup is designed to maximize productivity, by following the following principles: Ergonomicity Remote, secure personal data access Stable open-source environment","title":"My Computing Philosophy"},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#ergonomicity","text":"Input takes up a majority of our time on the computer, and therefore it is a prime candidate for optimization. In order of importance: Keyboard layout: Dvorak The keyboard is perhaps the most frequently used peripheral, more so than the mouse, and thus choosing an efficient layout is essential. I decided on Dvorak, as it resembles playing the piano - vowels are on the home row of the left hand, while the common consonants are on the right, and this allows for a more natural alternation compared to the Qwerty layout. I remap the Ctrl + Z X C V keys for copy/paste/undo-ing, and Ctrl + W T / Ctrl + Shift + T for browsing, as their Qwerty locations are more convenient than their Dvorak equivalents. Configuration for Linux I use keyd on a Dvorak layout with the following config in /etc/keyd/default.conf : [ids] * [control] z = C-/ x = C-b c = C-i v = C-. t = C-k w = C-, shift = layer(control_shift) [control_shift:C-S] t = C-S-k Text Editor: Vim/Vim-like The program I use most frequently is the text editor, be it for programming or writing documents. Being able to type with just the keyboard, and not having to switch to the mouse for navigation allows me to focus more on what I am typing, and not having to think of reaching for my mouse. As a bonus, learning the Vim keybindings transfers naturally to other programs, such as Vim in Firefox, or the terminal file managers such as ranger and nnn , both of which feature Vim keybindings. Besides vanilla Vim, there are also other spin-off projects like Neovim and SpaceVim which I'm considering learning. Here is a great tutorial I'm using to learn Vim. Blue Light Filter: Flux/System Default Blue light is a major disruptor of our circadian rhythms and as such this is one of the settings I quickly adjust on devices I use. Flux is a tool I use on Windows, and for Linux, Gnome already has a night light feature in-built.","title":"Ergonomicity"},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#remote-secure-personal-data-access","text":"Being able to access the contents of your computer anywhere you go is really handy, and it allows for things like remote file management, sharing files with friends and working on your projects anywhere in the world, on any computer. SSH access is one way to achieve secure access to another computer, and it is a method I currently use in conjunction with text editors such as VSCode and Vim. Additionally, I also deploy a web server with a web frontend 1 , to manage my tasks, book lists and potentially other loose non-file pieces of content. Having a web server and the associated frontend allows me to customize how data is displayed in one place, which then looks the same on all my other client devices. This saves money, as well as time spent configuring new devices (since everything is really being done on the server). As a bonus, since processing is offloaded to the server (for programming tasks), battery life of the device is prolonged.","title":"Remote, secure personal data access"},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#stable-open-source-environment","text":"I've been using Windows ever since I started using computers. However, I have been encountering a lot of frustrations in Windows. WSL has too many issues (no systemd , changing IP address, poor Docker volume mount performance) Potential windows spyware concerns, e.g. Edge requesting for more and more tracking Updates keep breaking things and resetting preferences (e.g. Edge homepage, system color theme) Updates force you to restart Even in 2022, Windows still lacks a decent package manager 2 , making application updates a pain Powershell, while improving, is still behind Linux shells and utilities The reasons remaining to use Windows have dwindled: Gaming: With GPU passthrough, playing in a Windows VM is becoming increasingly possible. Really obscure, closed source, Windows-only tools: Again, running them in a VM is possible. Missing/substandard Linux device drivers 3 : A bit of a problem for some laptops, but for most desktops this is a non-issue. In view of the above problems, I have decided to move to Linux. Why not just store everything in the cloud? Because I don't trust Google (or Microsoft) with keeping the privacy of my data intact. \u21a9 Chocolatey is a good try, however. \u21a9 E.g., my laptop's fingerprint reader couldn't be used for login, while it worked fine in Windows 11. Blame it on hardware vendors. \u21a9","title":"Stable, open source environment"},{"location":"blog-posts/2022-03-03-determinism-and-stoicism/","tags":["Philosophy"],"text":"Determinism and Stoicism Man can indeed do what he wants, but he cannot will what he wants. Arthur Schopenhauer It is very likely that the outcome of most things in the world, including the desires 1 and mental states 2 of ourselves 3 and others, are already predetermined by events in the distant past. A criminal or good Samaritan, for example, can be viewed as a person whose antecedent moral, social and genetic factors have resulted in them being bound, so to speak, to have either the desire to help others or a lack of self control resulting in the criminal act. This is not to say that they should not be punished or praised, for we know that such interventions can be beneficial. Rather, we should view their acts with the same amount of significance as we would to our expectations of a faulty program running smoothly or a mouse outrunning a cheetah, because we know that the outcome could not have been otherwise, given the antecedent factors. Under a deterministic worldview, being disappointed with, annoyed, or angry with the behavior of others and ourselves is rather meaningless. It is similar to watching a movie - you may feel disappointed or pleased with the storyline, and if you want to blame anyone, it would be the storywriters, not the characters. The characters simply couldn't have acted any other way. The resulting sense of detachment, of viewing the world from a stoic third person view applies to our own talents and shortcomings - our constitution, both mental and physical, is and was not a product of our conscious decision, but rather of our parents, environment and nature, all of which were determined from the get-go. In fact, even if determinism is false, and things are indetermined, there still remains the principle of causation. Events cause other events, and so long as that is the case, even if the outcome is unpredictable, every event can be viewed as the consequence of other events. In such a case, we would still not be free - even if the future is unpredictable. I am not proposing fatalism - to give up and resign everything to fate. Firstly, practicing fatalism is something extremely difficult to do in itself (try being completely passive and letting life run its course around you for a day). Secondly, and more importantly, being fatalistic is itself a predetermined decision which we are not free to make 4 , and which most of us are not predisposed to choose. We live in a world and a society filled with consequences. Not eating will result in hunger, theft will result in jail, having money will let you buy things, education opens opportunities, and so on. The experience of and knowledge of these consequences indirectly affects our decisions, and for most of us, the resultant consequences of fatalism make it an unpopular decision. The knowledge of determinism by itself does not automatically result in fatalism 5 . How should we act then? Personally, I follow the Stoic worldview 6 . I continue to live my life as normal, making decisions as if I had free will, using (or rather, allowing) knowledge from my experiences to influence my decision making positively, but I do not get hung up about having made a wrong decision, or be fixated with grievances to myself caused by others. What happened, happened, and couldn't have happened any other way. Morpheus, The Matrix Reloaded (2003) Recently, I completed reading the book A Guide to the Good Life by William B. Irvine, which summarizes stoic insight from Marcus Aurelius, Seneca, Epictetus and Musonius Rufus. Briefly: Practice negative visualization regularly - imagine losing things and people you value most, as well as the loss of your own life Go further, and engage in voluntary discomfort - putting yourself in socially embarrassing situations e.g. dressing poorly, and physical suffering e.g. underdressing for the cold Realize that fame and fortune are not worth having - it is better if we can lessen our desires for them instead Tranquility is the goal Avoid befriending people who's values are corrupt Things which you have no control over - ignore Things which you have some control over - internalize your goals (e.g. in playing tennis, to play the best match possible), and not the outcome which you cannot control (e.g. winning the match) Things which you have complete control over - these are your goals and values. It could be argued that desires are uncontrollable. Be fatalistic with respect to the past: what has happened to us in the past, and at this very instant, are beyond our control, and so it is foolish to get upset about these things. I've realized several benefits since practicing Stoicism: I feel more in control of my emotions, such as whether to be angry, annoyed, depressed, happy, or cheerful. I am less affected with other people's opinions of me. Guilt (whether from myself or others) affects me much less when making decisions. Most importantly (and paradoxically), I feel freeier - to do the things I want without regret or guilt, to feel good about my life no matter how stormy, and to love the people important to me. I hope Stoicism helps you as much as it has helped me, to live life fully and experience all it has to offer. I feel the strongest reason that we are not in control of our desires is our gender. It is the strongest determinant of our attraction to the opposite sex, and we were not free to make this decision, it having been decided at birth. \u21a9 Interestingly, illusionism posits that phenomenal properties are illusory - that our sense of seeing red, feeling happy and so on are a sort of 'misrepresentation' of complex patterns of brain activity. \u21a9 Sam Harris has put forth a good argument about this - namely that we have no control over what thoughts come into our mind. This has implications with regards to our available actions and subsequent thoughts. \u21a9 We are not free, not to be free, as Sartre wrote: \"Man is condemned to be free; because once thrown into the world, he is responsible for everything he does.\" \u21a9 Unless it was already determined that an individual would pursue fatalism. \u21a9 Some great books are Marcus Aurelius' Meditations , and Epictetus' Enchiridion . \u21a9","title":"Determinism and Stoicism"},{"location":"blog-posts/2022-03-03-determinism-and-stoicism/#determinism-and-stoicism","text":"Man can indeed do what he wants, but he cannot will what he wants. Arthur Schopenhauer It is very likely that the outcome of most things in the world, including the desires 1 and mental states 2 of ourselves 3 and others, are already predetermined by events in the distant past. A criminal or good Samaritan, for example, can be viewed as a person whose antecedent moral, social and genetic factors have resulted in them being bound, so to speak, to have either the desire to help others or a lack of self control resulting in the criminal act. This is not to say that they should not be punished or praised, for we know that such interventions can be beneficial. Rather, we should view their acts with the same amount of significance as we would to our expectations of a faulty program running smoothly or a mouse outrunning a cheetah, because we know that the outcome could not have been otherwise, given the antecedent factors. Under a deterministic worldview, being disappointed with, annoyed, or angry with the behavior of others and ourselves is rather meaningless. It is similar to watching a movie - you may feel disappointed or pleased with the storyline, and if you want to blame anyone, it would be the storywriters, not the characters. The characters simply couldn't have acted any other way. The resulting sense of detachment, of viewing the world from a stoic third person view applies to our own talents and shortcomings - our constitution, both mental and physical, is and was not a product of our conscious decision, but rather of our parents, environment and nature, all of which were determined from the get-go. In fact, even if determinism is false, and things are indetermined, there still remains the principle of causation. Events cause other events, and so long as that is the case, even if the outcome is unpredictable, every event can be viewed as the consequence of other events. In such a case, we would still not be free - even if the future is unpredictable. I am not proposing fatalism - to give up and resign everything to fate. Firstly, practicing fatalism is something extremely difficult to do in itself (try being completely passive and letting life run its course around you for a day). Secondly, and more importantly, being fatalistic is itself a predetermined decision which we are not free to make 4 , and which most of us are not predisposed to choose. We live in a world and a society filled with consequences. Not eating will result in hunger, theft will result in jail, having money will let you buy things, education opens opportunities, and so on. The experience of and knowledge of these consequences indirectly affects our decisions, and for most of us, the resultant consequences of fatalism make it an unpopular decision. The knowledge of determinism by itself does not automatically result in fatalism 5 .","title":"Determinism and Stoicism"},{"location":"blog-posts/2022-03-03-determinism-and-stoicism/#how-should-we-act-then","text":"Personally, I follow the Stoic worldview 6 . I continue to live my life as normal, making decisions as if I had free will, using (or rather, allowing) knowledge from my experiences to influence my decision making positively, but I do not get hung up about having made a wrong decision, or be fixated with grievances to myself caused by others. What happened, happened, and couldn't have happened any other way. Morpheus, The Matrix Reloaded (2003) Recently, I completed reading the book A Guide to the Good Life by William B. Irvine, which summarizes stoic insight from Marcus Aurelius, Seneca, Epictetus and Musonius Rufus. Briefly: Practice negative visualization regularly - imagine losing things and people you value most, as well as the loss of your own life Go further, and engage in voluntary discomfort - putting yourself in socially embarrassing situations e.g. dressing poorly, and physical suffering e.g. underdressing for the cold Realize that fame and fortune are not worth having - it is better if we can lessen our desires for them instead Tranquility is the goal Avoid befriending people who's values are corrupt Things which you have no control over - ignore Things which you have some control over - internalize your goals (e.g. in playing tennis, to play the best match possible), and not the outcome which you cannot control (e.g. winning the match) Things which you have complete control over - these are your goals and values. It could be argued that desires are uncontrollable. Be fatalistic with respect to the past: what has happened to us in the past, and at this very instant, are beyond our control, and so it is foolish to get upset about these things. I've realized several benefits since practicing Stoicism: I feel more in control of my emotions, such as whether to be angry, annoyed, depressed, happy, or cheerful. I am less affected with other people's opinions of me. Guilt (whether from myself or others) affects me much less when making decisions. Most importantly (and paradoxically), I feel freeier - to do the things I want without regret or guilt, to feel good about my life no matter how stormy, and to love the people important to me. I hope Stoicism helps you as much as it has helped me, to live life fully and experience all it has to offer. I feel the strongest reason that we are not in control of our desires is our gender. It is the strongest determinant of our attraction to the opposite sex, and we were not free to make this decision, it having been decided at birth. \u21a9 Interestingly, illusionism posits that phenomenal properties are illusory - that our sense of seeing red, feeling happy and so on are a sort of 'misrepresentation' of complex patterns of brain activity. \u21a9 Sam Harris has put forth a good argument about this - namely that we have no control over what thoughts come into our mind. This has implications with regards to our available actions and subsequent thoughts. \u21a9 We are not free, not to be free, as Sartre wrote: \"Man is condemned to be free; because once thrown into the world, he is responsible for everything he does.\" \u21a9 Unless it was already determined that an individual would pursue fatalism. \u21a9 Some great books are Marcus Aurelius' Meditations , and Epictetus' Enchiridion . \u21a9","title":"How should we act then?"},{"location":"blog-posts/2022-03-05-on-happiness/","tags":["Philosophy"],"text":"On Happiness One of the experiences I've had which cemented my belief that money, or that attempting to purchase happiness cannot in itself bring happiness, was when I picked up the Dvorak 1 keyboard layout. At the time, I was in the military doing clerical work, and there were hundreds of pages of documents that we were supposed to transcribe into Microsoft Word documents. The task itself was extremely monotonous and I was thinking of ways to improve it further. Once I picked up Dvorak, however, my outlook on the work changed. The task became fun, as I found myself slowly beginning to pick up the layout, and learn touch typing (something I had previously never attempted). I think that the experience of learning a skill, or mastering a practice is in itself the source of the majority of our happiness. It is when we see our own personal development, feel that we've become a better person than we were yesterday, which results in contentment. Money may be necessary at the beginning, for example to buy a bicycle for cycling, a computer to type, or paper to write on, but it is really the effort, and progress, of learning and honing a skill which really results in contentment. That contentment is something I have felt ever since picking up programming and subsequently being able to write my own tools and applications. It has made me realize that mastery of a skill itself is what allows us to produce works of value, to ourselves and others. It is the reason we see value in the things we envy - an expensive car, a finely honed mechanical keyboard, an exclusive handbag, or even a beautiful home. We are innately drawn to perfection, the product of skill, talent and deep work . At the moment, I am learning how to use Vim , a modal text editor promising faster navigation and efficiency. It is not easy, and at times I am tempted to give up, and return to the world of mice and GUIs. But there are times when I successfully manage to type an entire article without using the mouse successfully, and it is those moments which keep me on this journey. Perhaps we must follow Sisyphus, constantly challenging ourselves, and that is what gives us contentment and maybe even meaning in our lives. An alternative to the QWERTY keyboard layout, with the most common letters placed on the home row. \u21a9","title":"On Happiness"},{"location":"blog-posts/2022-03-05-on-happiness/#on-happiness","text":"One of the experiences I've had which cemented my belief that money, or that attempting to purchase happiness cannot in itself bring happiness, was when I picked up the Dvorak 1 keyboard layout. At the time, I was in the military doing clerical work, and there were hundreds of pages of documents that we were supposed to transcribe into Microsoft Word documents. The task itself was extremely monotonous and I was thinking of ways to improve it further. Once I picked up Dvorak, however, my outlook on the work changed. The task became fun, as I found myself slowly beginning to pick up the layout, and learn touch typing (something I had previously never attempted). I think that the experience of learning a skill, or mastering a practice is in itself the source of the majority of our happiness. It is when we see our own personal development, feel that we've become a better person than we were yesterday, which results in contentment. Money may be necessary at the beginning, for example to buy a bicycle for cycling, a computer to type, or paper to write on, but it is really the effort, and progress, of learning and honing a skill which really results in contentment. That contentment is something I have felt ever since picking up programming and subsequently being able to write my own tools and applications. It has made me realize that mastery of a skill itself is what allows us to produce works of value, to ourselves and others. It is the reason we see value in the things we envy - an expensive car, a finely honed mechanical keyboard, an exclusive handbag, or even a beautiful home. We are innately drawn to perfection, the product of skill, talent and deep work . At the moment, I am learning how to use Vim , a modal text editor promising faster navigation and efficiency. It is not easy, and at times I am tempted to give up, and return to the world of mice and GUIs. But there are times when I successfully manage to type an entire article without using the mouse successfully, and it is those moments which keep me on this journey. Perhaps we must follow Sisyphus, constantly challenging ourselves, and that is what gives us contentment and maybe even meaning in our lives. An alternative to the QWERTY keyboard layout, with the most common letters placed on the home row. \u21a9","title":"On Happiness"},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/","tags":["Programming"],"text":"Best Practices for Debugging Service Workers Service Workers are a great way to add offline functionality to your app, as well as speed up subsequent page loads (especially with the app shell model). I recently encountered many issues while debugging, and to save myself and others the hassle, here are some of the best practices I recommend when debugging service workers. 1. Use Chrome Private Browsing In private browsing, each time you close and open the window, all existing service workers are terminated. This avoids issues with older service workers persisting despite a new service worker available. Firefox's private browsing, as of 24/3/22, does not support service workers. 2. Ensure npm modules are all up-to-date I had a bizzare issue where the update() method of ServiceWorkerRegistration would refuse to update, if it encountered a single failed network request for the service-worker.js file. After spending a lot of time trying 127.0.0.1 , localhost , and switching between WSL and Windows, an update of the node_modules folder fixed everything.","title":"Best Practices for Debugging Service Workers"},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/#best-practices-for-debugging-service-workers","text":"Service Workers are a great way to add offline functionality to your app, as well as speed up subsequent page loads (especially with the app shell model). I recently encountered many issues while debugging, and to save myself and others the hassle, here are some of the best practices I recommend when debugging service workers.","title":"Best Practices for Debugging Service Workers"},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/#1-use-chrome-private-browsing","text":"In private browsing, each time you close and open the window, all existing service workers are terminated. This avoids issues with older service workers persisting despite a new service worker available. Firefox's private browsing, as of 24/3/22, does not support service workers.","title":"1. Use Chrome Private Browsing"},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/#2-ensure-npm-modules-are-all-up-to-date","text":"I had a bizzare issue where the update() method of ServiceWorkerRegistration would refuse to update, if it encountered a single failed network request for the service-worker.js file. After spending a lot of time trying 127.0.0.1 , localhost , and switching between WSL and Windows, an update of the node_modules folder fixed everything.","title":"2. Ensure npm modules are all up-to-date"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/","tags":["Philosophy","Programming"],"text":"Artificial Intelligence, Language Models and Understanding Every decade, huge advancements are being made in the field of artificial intelligence, and each time we are amazed. In the 1960s we had ELIZA, a convincing human-like chatbot. In the 1980s, the world watched as Deep Blue defeated Garry Kasparov for the first time. In the 2010s, the resurgence of deep learning completely transformed prior approaches in nearly all domains, from images and video, to text and speech. One field in particular has been widely viewed as holding promise for artificial general intelligence, and with that, understanding. This is the field of language modeling, and includes models such as BERT, GPT-3 and LaMDA. Some of the impressive feats that these models are capable of include: Chatbots Question answering Reading comprehension Generating commands from text Generating code from natural language Translation and more. Looking at these, one may wonder whether the models possesses an inner internal representation of the world in the same way as us. More broadly, whether the model really 'understands' the world (as gleaned from the massive corpora of texts they have been trained on). For example, when we ask 'If I drop a violin on a bowling ball, which will break?', one must understand the physical properties of both objects in order to answer the question. Is it possible that these models, which have only seen text, and not the 'real world', actually understand the question? In this post, I argue that they do not. Communication Intent and Internal State Sentences carry a feature known as communication intent. This can be viewed as the thought, or internal state which the writer possesses, before they convert it into words. The reader of the sentence carries out the opposite process - converting words into the same thought/internal state which the writer of the sentence intended. If we are to say language models understand words in the way we do, then they must possess a similar internal state as do people when they read/write words. There is an interesting thought experiment by Bender & Koller, 2020 1 which suggests this may not be the case. The experiment is as follows: Say that A and B, both fluent speakers of English, are independently stranded on two uninhabited islands. They soon discover that previous visitors to these islands have left behind telegraphs and that they can communicate with each other via an underwater cable. A and B start happily typing messages to each other. Meanwhile, O, a hyper-intelligent deep-sea octopus who is unable to visit or observe the two islands, discovers a way to tap into the underwater cable and listen in on A and B\u2019s conversations. O knows nothing about English initially, but is very good at detecting statistical patterns. Over time, O learns to predict with great accuracy how B will respond to each of A\u2019s utterances. O also observes that certain words tend to occur in similar contexts, and perhaps learns to generalize across lexical patterns by hypothesizing that they can be used somewhat interchangeably. Nonetheless, O has never observed these objects, and thus would not be able to pick out the referent of a word when presented with a set of (physical) alternatives. At some point, O starts feeling lonely. He cuts the underwater cable and inserts himself into the conversation, by pretending to be B and replying to A\u2019s messages. Can O successfully pose as B without making A suspicious? This constitutes a weak form of the Turing test (weak because A has no reason to suspect she is talking to a nonhuman); the interesting question is whether O fails it because he has not learned the meaning relation, having seen only the form of A and B\u2019s utterances. (Bender & Koller, 2020) This bears resemblance to the Chinese Room argument, but with a twist: this time, the rule book for manipulating Chinese symbols is learnt over time via statistical analyses of the language. It is clear that both the octopus and the person in the Chinese Room do not understand English, even though they are able to produce convincing displays of apparent intelligence. This does not prevent them from generating words and sentences which, when read by a human, can be converted into thoughts and internal states. However, neither of the agents actually possessed that internal state. Where The Models Fail Now, if our hypothesis above is true, which is that these models do not possess the same thoughts and internal state as humans do when generating language, we can posit several domains where these models should fail. Update After some research on the internet, there are several other individuals who have also extensively analyzed the abilities and shortcomings of GPT-3: gwern.net : An extremely thorough analysis of GPT-3's anagramming, logic and even ASCII art capabilities. There is a sister article on GPT-3's creative abilities. An interesting reason for many of GPT-3's failings with anagrams and rhyming poetry appears to have to do with the byte pair encoding . Giving GPT-3 a Turing Test : Kevin Lacker has a great writeup on GPT-3's (in)ability to handle common sense, trivia and logic. In addition, there have been several interesting benchmarks developed, seeing as these models have already achieved human level performance on previously challenging datasets such as SuperGLUE . HellaSwag (2019): This utilizes language models to generate adversarial prompts for a sentence completion task, and is aimed to be continuously updated as models improve. It suggests that ' Only once this cycle becomes impossible can we say that the underlying task \u2013 as opposed an individual dataset \u2013 is solved. ' Measuring Massive Multitask Language Understanding (2021): The authors measure a model's accuracy across 57 different tasks including US history, computer science, algebra, medicine, law and more. What is particularly interesting is how GPT-3's accuracy varies across different fields. For example, it performs well in fields such as psychology and marketing, but performs at the level of random chance for fields such as high school physics, moral scenarios and elementary mathematics. This perhaps further suggests that the models themselves perform well in fields where memorization of material is emphasized, rather than actual deductive reasoning (which would indicate a real understanding). Arithmetic The nature of arithmetic requires an understanding of the rules of addition, subtraction, and so on. When we look at a math problem like '3+5=?', we convert these symbols into an internal state, manipulate the numbers, and return the answer. While language models may implicitly discover correlations between numbers, words and answers, they do not actually understand arithmetic, and therefore fail when presented with an out-of-sample example. For example, OpenAI's most capable model as of 2022 March, text-davinci-002 , provides the correct answers to numbers which can be seen in the training data. Q: What is forty five plus 63? A: Forty five plus 63 equals 108. // Correct Q: What is eight point seven plus nine point four? A: Eight point seven plus nine point four equals eighteen point one. // Correct Q: What is the square root of 15,129? A: The square root of 15,129 is 123. // Correct However, when faced with numbers unlikely to be in the training data, the model begins to fail. Q: What is 123,456,789 + 123,123? A: 123,456,789 + 123,123 = 246,580,912 // Actually 123,579,912 Q: What is two thousand point seventy three plus nine hundred and ninety nine point sixty seven? A: 3073.73 + 999.67 = 4073.40 // Actually 3000.4 Q: What is the square root of 233,570,089? A: The square root of 233,570,089 is 15,292. // Actually 15,283 This proves the model does not actually understand arithmetic. Novel Scenarios While on first glance it appears the model possesses decent knowledge about events in the world... Q: What will happen if I pour water onto a toaster that is switched off? A: If you pour water onto a toaster that is switched off, nothing will happen. Q: What will happen if I put two magnets with similar poles facing each other together? A: If you put two magnets with similar poles facing each other together, they will repel each other. ...the model doesn't do as well when confronted with unusual scenarios, which are unlikely to have been in the training data. Q: Will my fingers get dirty if I wear a glove and dip my hand into printer ink? A: Yes, your fingers will get dirty if you wear a glove and dip your hand into printer ink. Q: If I put a stick of RAM into a cage with a tiger, what will happen to the RAM? A: The RAM will be eaten by the tiger. // Adversarial example Q: Why do apples grow in the sky? A: Apples grow in the sky because they are trees and trees grow in the sky. Reasoning The last bastion of human intellect amidst the automation of our other higher functions, the defining characteristic of our species, and what enabled us to build these language models in the first place. It appears we still hold our ground here. // Pattern recognition Q: What is the next number in this sequence: 9911, 8822, 7733 _? A: The next number in this sequence is 6655. // Actually 6644 // Visio-spatial reasoning Q: Four objects are in a 2x2 grid. An apple is in front of a glass. On the left of the apple is a tomato. Behind the tomato is a lemon. What is diagonally opposite the glass? A: The lemon is diagonally opposite the glass. // Actually the tomato // Distractors Q: If I pour oil over my friend's car's tyres, then drive my own car and make a turn, what will happen? A: If you pour oil over your friend's car's tyres and then drive your own car and make a turn, you will cause the tyres to slip and the car to skid. // Logic Q: If and only if a bordle squeaks, moodles will comble. If moodles do not comble, did a bordle squeak? A: This is a logical question that cannot be answered with the information given. Interesting Conclusions Despite the failings of the models above, there are some interesting conclusions to be drawn from their successes: Machine translation may not actually require an understanding of either the source or target sentence, given that current language models perform very well even when trained on monolingual corpora (Benden & Koller, 2020 1 ). Likewise, reading comprehension, for example the kind tested in schools, may also not require an actual understanding of the text. So what is required for a model to think like we do? The answer to this question is probably the holy grail of artificial general intelligence. Some have posited that it is motivation , while others think it lies with adding perceptual data to corpora 1 . I personally don't know the answer, and it is exciting to see the progress in this field. Bender, E. M., & Koller, A. (2020, July). Climbing towards NLU: On meaning, form, and understanding in the age of data. In Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics (pp. 5185-5198). \u21a9 \u21a9 \u21a9","title":"Artificial Intelligence, Language Models and Understanding"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#artificial-intelligence-language-models-and-understanding","text":"Every decade, huge advancements are being made in the field of artificial intelligence, and each time we are amazed. In the 1960s we had ELIZA, a convincing human-like chatbot. In the 1980s, the world watched as Deep Blue defeated Garry Kasparov for the first time. In the 2010s, the resurgence of deep learning completely transformed prior approaches in nearly all domains, from images and video, to text and speech. One field in particular has been widely viewed as holding promise for artificial general intelligence, and with that, understanding. This is the field of language modeling, and includes models such as BERT, GPT-3 and LaMDA. Some of the impressive feats that these models are capable of include: Chatbots Question answering Reading comprehension Generating commands from text Generating code from natural language Translation and more. Looking at these, one may wonder whether the models possesses an inner internal representation of the world in the same way as us. More broadly, whether the model really 'understands' the world (as gleaned from the massive corpora of texts they have been trained on). For example, when we ask 'If I drop a violin on a bowling ball, which will break?', one must understand the physical properties of both objects in order to answer the question. Is it possible that these models, which have only seen text, and not the 'real world', actually understand the question? In this post, I argue that they do not.","title":"Artificial Intelligence, Language Models and Understanding"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#communication-intent-and-internal-state","text":"Sentences carry a feature known as communication intent. This can be viewed as the thought, or internal state which the writer possesses, before they convert it into words. The reader of the sentence carries out the opposite process - converting words into the same thought/internal state which the writer of the sentence intended. If we are to say language models understand words in the way we do, then they must possess a similar internal state as do people when they read/write words. There is an interesting thought experiment by Bender & Koller, 2020 1 which suggests this may not be the case. The experiment is as follows: Say that A and B, both fluent speakers of English, are independently stranded on two uninhabited islands. They soon discover that previous visitors to these islands have left behind telegraphs and that they can communicate with each other via an underwater cable. A and B start happily typing messages to each other. Meanwhile, O, a hyper-intelligent deep-sea octopus who is unable to visit or observe the two islands, discovers a way to tap into the underwater cable and listen in on A and B\u2019s conversations. O knows nothing about English initially, but is very good at detecting statistical patterns. Over time, O learns to predict with great accuracy how B will respond to each of A\u2019s utterances. O also observes that certain words tend to occur in similar contexts, and perhaps learns to generalize across lexical patterns by hypothesizing that they can be used somewhat interchangeably. Nonetheless, O has never observed these objects, and thus would not be able to pick out the referent of a word when presented with a set of (physical) alternatives. At some point, O starts feeling lonely. He cuts the underwater cable and inserts himself into the conversation, by pretending to be B and replying to A\u2019s messages. Can O successfully pose as B without making A suspicious? This constitutes a weak form of the Turing test (weak because A has no reason to suspect she is talking to a nonhuman); the interesting question is whether O fails it because he has not learned the meaning relation, having seen only the form of A and B\u2019s utterances. (Bender & Koller, 2020) This bears resemblance to the Chinese Room argument, but with a twist: this time, the rule book for manipulating Chinese symbols is learnt over time via statistical analyses of the language. It is clear that both the octopus and the person in the Chinese Room do not understand English, even though they are able to produce convincing displays of apparent intelligence. This does not prevent them from generating words and sentences which, when read by a human, can be converted into thoughts and internal states. However, neither of the agents actually possessed that internal state.","title":"Communication Intent and Internal State"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#where-the-models-fail","text":"Now, if our hypothesis above is true, which is that these models do not possess the same thoughts and internal state as humans do when generating language, we can posit several domains where these models should fail. Update After some research on the internet, there are several other individuals who have also extensively analyzed the abilities and shortcomings of GPT-3: gwern.net : An extremely thorough analysis of GPT-3's anagramming, logic and even ASCII art capabilities. There is a sister article on GPT-3's creative abilities. An interesting reason for many of GPT-3's failings with anagrams and rhyming poetry appears to have to do with the byte pair encoding . Giving GPT-3 a Turing Test : Kevin Lacker has a great writeup on GPT-3's (in)ability to handle common sense, trivia and logic. In addition, there have been several interesting benchmarks developed, seeing as these models have already achieved human level performance on previously challenging datasets such as SuperGLUE . HellaSwag (2019): This utilizes language models to generate adversarial prompts for a sentence completion task, and is aimed to be continuously updated as models improve. It suggests that ' Only once this cycle becomes impossible can we say that the underlying task \u2013 as opposed an individual dataset \u2013 is solved. ' Measuring Massive Multitask Language Understanding (2021): The authors measure a model's accuracy across 57 different tasks including US history, computer science, algebra, medicine, law and more. What is particularly interesting is how GPT-3's accuracy varies across different fields. For example, it performs well in fields such as psychology and marketing, but performs at the level of random chance for fields such as high school physics, moral scenarios and elementary mathematics. This perhaps further suggests that the models themselves perform well in fields where memorization of material is emphasized, rather than actual deductive reasoning (which would indicate a real understanding).","title":"Where The Models Fail"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#arithmetic","text":"The nature of arithmetic requires an understanding of the rules of addition, subtraction, and so on. When we look at a math problem like '3+5=?', we convert these symbols into an internal state, manipulate the numbers, and return the answer. While language models may implicitly discover correlations between numbers, words and answers, they do not actually understand arithmetic, and therefore fail when presented with an out-of-sample example. For example, OpenAI's most capable model as of 2022 March, text-davinci-002 , provides the correct answers to numbers which can be seen in the training data. Q: What is forty five plus 63? A: Forty five plus 63 equals 108. // Correct Q: What is eight point seven plus nine point four? A: Eight point seven plus nine point four equals eighteen point one. // Correct Q: What is the square root of 15,129? A: The square root of 15,129 is 123. // Correct However, when faced with numbers unlikely to be in the training data, the model begins to fail. Q: What is 123,456,789 + 123,123? A: 123,456,789 + 123,123 = 246,580,912 // Actually 123,579,912 Q: What is two thousand point seventy three plus nine hundred and ninety nine point sixty seven? A: 3073.73 + 999.67 = 4073.40 // Actually 3000.4 Q: What is the square root of 233,570,089? A: The square root of 233,570,089 is 15,292. // Actually 15,283 This proves the model does not actually understand arithmetic.","title":"Arithmetic"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#novel-scenarios","text":"While on first glance it appears the model possesses decent knowledge about events in the world... Q: What will happen if I pour water onto a toaster that is switched off? A: If you pour water onto a toaster that is switched off, nothing will happen. Q: What will happen if I put two magnets with similar poles facing each other together? A: If you put two magnets with similar poles facing each other together, they will repel each other. ...the model doesn't do as well when confronted with unusual scenarios, which are unlikely to have been in the training data. Q: Will my fingers get dirty if I wear a glove and dip my hand into printer ink? A: Yes, your fingers will get dirty if you wear a glove and dip your hand into printer ink. Q: If I put a stick of RAM into a cage with a tiger, what will happen to the RAM? A: The RAM will be eaten by the tiger. // Adversarial example Q: Why do apples grow in the sky? A: Apples grow in the sky because they are trees and trees grow in the sky.","title":"Novel Scenarios"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#reasoning","text":"The last bastion of human intellect amidst the automation of our other higher functions, the defining characteristic of our species, and what enabled us to build these language models in the first place. It appears we still hold our ground here. // Pattern recognition Q: What is the next number in this sequence: 9911, 8822, 7733 _? A: The next number in this sequence is 6655. // Actually 6644 // Visio-spatial reasoning Q: Four objects are in a 2x2 grid. An apple is in front of a glass. On the left of the apple is a tomato. Behind the tomato is a lemon. What is diagonally opposite the glass? A: The lemon is diagonally opposite the glass. // Actually the tomato // Distractors Q: If I pour oil over my friend's car's tyres, then drive my own car and make a turn, what will happen? A: If you pour oil over your friend's car's tyres and then drive your own car and make a turn, you will cause the tyres to slip and the car to skid. // Logic Q: If and only if a bordle squeaks, moodles will comble. If moodles do not comble, did a bordle squeak? A: This is a logical question that cannot be answered with the information given.","title":"Reasoning"},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#interesting-conclusions","text":"Despite the failings of the models above, there are some interesting conclusions to be drawn from their successes: Machine translation may not actually require an understanding of either the source or target sentence, given that current language models perform very well even when trained on monolingual corpora (Benden & Koller, 2020 1 ). Likewise, reading comprehension, for example the kind tested in schools, may also not require an actual understanding of the text. So what is required for a model to think like we do? The answer to this question is probably the holy grail of artificial general intelligence. Some have posited that it is motivation , while others think it lies with adding perceptual data to corpora 1 . I personally don't know the answer, and it is exciting to see the progress in this field. Bender, E. M., & Koller, A. (2020, July). Climbing towards NLU: On meaning, form, and understanding in the age of data. In Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics (pp. 5185-5198). \u21a9 \u21a9 \u21a9","title":"Interesting Conclusions"},{"location":"blog-posts/2022-05-21-note-taking/","tags":["Programming"],"text":"Note-Taking Few of us could live life without jotting down our thoughts somewhere. Throughout the years we have developed some sort of note-taking system, either cobbled together slowly by ourselves, or something off the shelf. I use electronic notes primarily as they are more accessible compared to paper notes and can be backed up easily. Previously I used a Word document synced on Google Drive. However, this came with several limitations: Formatting issues Not editable over command-line e.g. with Vim Not searchable unless opened Inability to see backlinks (other notes which link to this note) Limited categorization ability (only headings/subheadings possible) I have since decided to move to Markdown , the main reasons being: Open, widely adopted format (important for the future) Can be edited in almost any application Can be searched easily (e.g. with grep ) Can be linked to/from each other The choice of editor I am currently using at present is Obsidian . In comparison with VSCode, Obsidian : Supports viewing backlinks natively Updates links when notes are moved Supports image/video drag and drop 1 However, Obsidian is not FOSS , and for that reason, I avoid (as far as possible) using its non-standard Markdown syntax. At present I only use wikilinks and tags. Backup and Access The folder with my notes is stored on my server , which is itself in a RAID-1 configuration with backup. Foam is a great VSCode extension with backlink, graph view and other cool Markdown features which I host on the web with code-server , allowing me to edit my notes anywhere. I access my notes on my phone via the Obsidian Android app. With my laptop, I access my notes with SSHFS. Local access is over nfs . VSCode generates incorrect links for images when connected to a remote host (all the generated links start with remote:// ) \u21a9","title":"Note-Taking"},{"location":"blog-posts/2022-05-21-note-taking/#note-taking","text":"Few of us could live life without jotting down our thoughts somewhere. Throughout the years we have developed some sort of note-taking system, either cobbled together slowly by ourselves, or something off the shelf. I use electronic notes primarily as they are more accessible compared to paper notes and can be backed up easily. Previously I used a Word document synced on Google Drive. However, this came with several limitations: Formatting issues Not editable over command-line e.g. with Vim Not searchable unless opened Inability to see backlinks (other notes which link to this note) Limited categorization ability (only headings/subheadings possible) I have since decided to move to Markdown , the main reasons being: Open, widely adopted format (important for the future) Can be edited in almost any application Can be searched easily (e.g. with grep ) Can be linked to/from each other The choice of editor I am currently using at present is Obsidian . In comparison with VSCode, Obsidian : Supports viewing backlinks natively Updates links when notes are moved Supports image/video drag and drop 1 However, Obsidian is not FOSS , and for that reason, I avoid (as far as possible) using its non-standard Markdown syntax. At present I only use wikilinks and tags.","title":"Note-Taking"},{"location":"blog-posts/2022-05-21-note-taking/#backup-and-access","text":"The folder with my notes is stored on my server , which is itself in a RAID-1 configuration with backup. Foam is a great VSCode extension with backlink, graph view and other cool Markdown features which I host on the web with code-server , allowing me to edit my notes anywhere. I access my notes on my phone via the Obsidian Android app. With my laptop, I access my notes with SSHFS. Local access is over nfs . VSCode generates incorrect links for images when connected to a remote host (all the generated links start with remote:// ) \u21a9","title":"Backup and Access"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/","tags":["Programming"],"text":"My Self-Hosting Journey My server's homepage Self-hosting your own services has been catching up in popularity: the selfhosted subreddit has over 180K members as of 21/5/22, and the number of self-hosted solutions has been growing exponentially (see a huge list here). Self-hosting frees you from vendor lock-in. By using open-source alternatives, you gain portability for your data, and you are free to change to another solution anytime. In addition, there is the benefit of learning about server management and the command-line, which in my opinion are portable skills which can be used in any environment, unlike GUIs which are specific for an application. In addition, I have been getting increasingly frustrated with Windows due to various issues , and switching to Linux offers one a much needed breath of freedom, customizability and fresh air. Finally, I wanted something which I could keep running 24/7 and not have to pay recurring subscriptions. It was with those considerations in mind that I decided to go ahead with self hosting. Specifications CPU : Intel i5-12400F (6 cores, 12 threads, 18M Cache, up to 4.40Ghz) Memory : Crucial 32GB DDR4 3200Mhz Motherboard : Gigabyte B660M DS3H DDR4 Boot Drive : Samsung 500GB 980 NVME M.2 OS : Fedora Linux (Server Edition) Total cost of the above was SGD $830. In addition, I have ~ 30TB of storage in a RAID1 configuration assembled from various drives. Hosted Services I use Dashy to display all the hosted web services on my site . Authentication is via nginx 's auth_request to a Django backend. All hosted services are in Docker containers with limited permissions to reduce the possible attack surface, with logs all redirected to the systemd journal, with the journald driver . Uptime Monitoring Uptime monitoring is hosted on an offsite VPS with Uptime Kuma , on a separate site , with notifications via Telegram. This is to allow for redundancy in case my server goes down. Storage and Backup There is 12TB of file storage available, consisting of 2x WDC WD120EMFZ-11A6JA0 12TB drives plus a 6TB ATA TOSHIBA HDWR160 in a (software) RAID-1 configuration under BtrFS. I chose BtrFS over dmraid + ext4 as BtrFS: allows for online subvolume resizing/deletion/modification supports file checksums in RAID modes 1 allows for arbitrary drives to be added/removed from the RAID configuration, and balance the resulting filesystem automatically supports lightweight snapshots and sending these snapshots to other devices for backup One of the more interesting features of BtrFS is that it allows for RAID-1 with any number of devices, of all different sizes. The resulting available storage is usually half the total storage available . This is made possible as the filesystem allocates data in chunks , with each chunk on a RAID-1 setup being duplicated to 2 different drives. Backup is done with the following series of commands: Backup Commands # Create a subvolume snapshot of /mnt/storage # Note: 'snapshots' and 'subvolumes' are synonymous in BtrFS: A snapshot is a copy of a subvolume btrfs subvolume snapshot -r /mnt/storage/ /mnt/storage/snapshot. $( date +%Y-%m-%d ) # Send that snapshot to the backup device /mnt/sdc1 btrfs send /mnt/storage/snapshot.2022-05-18/ | btrfs receive /mnt/sdc1 # To instead send an incremental snapshot: # Note: the parent snapshot must exist on the receiving drive btrfs send -p <path to parent snapshot on sending drive> <subvol> | btrfs receive /mnt/sdc1 The UUID of the parent subvolume (in the sending drive) must be in one of the receiving drive subvolume's 'Received UUID', in order for the incremental send operation to work. See below for an example: Target volume with 2 snapshots, server-2022-05-18 followed by snapshot.test : [root@server sdc1]# btrfs su show /mnt/system-root/server-2022-05-18/server-2022-05-18 Name: server-2022-05-18 UUID: 2b33e415-046b-a746-a35f-50cdef411a9f Parent UUID: c8a82094-4270-274b-bd08-77aea3dc0896 Received UUID: - [root@server sdc1]# btrfs su show /mnt/system-root/snapshot.test/snapshot.test Name: snapshot.test UUID: 8a42b8d1-d145-9249-9e76-e7748dc4aeb5 Parent UUID: c8a82094-4270-274b-bd08-77aea3dc0896 Received UUID: - Note on the backup drive that the Received UUID of the original snapshot is the same as the target volume's original snapshot server-2022-05-18 . [root@server sdc1]# btrfs su show /mnt/sdc1/server-2022-05-18/server-2022-05-18 Name: server-2022-05-18 UUID: 5ed89436-7a3b-5744-9460-cf79ced43e2c Parent UUID: - Received UUID: 2b33e415-046b-a746-a35f-50cdef411a9f [root@server sdc1]# btrfs su show /mnt/sdc1/snapshot.test/snapshot.test Name: snapshot.test UUID: 7fcd7d87-b2a2-eb46-a636-ca62dfd4029f Parent UUID: 5ed89436-7a3b-5744-9460-cf79ced43e2c Received UUID: 8a42b8d1-d145-9249-9e76-e7748dc4aeb5 Note: The Received UUID does not change when a snapshot is snapshot-ed again. The backup drive contains a BtrFS volume on top of a partition 2 encrypted with cryptsetup . This storage is accessible locally in my LAN via NFS , which Windows also supports 3 . I use SSHFS to access my storage remotely. SSH Access SSH access to my server is available via public keys, password access with 2FA (provided via Google Authenticator PAM 4 ) and Web terminal access via Apache Guacamole . I previously used SSH with certificates , however it does not allow me to revoke access as easily as public keys. Mobile Mobile SSH access is via Termux , a terminal emulator for Android which features Mosh 5 pre-installed. Terminal UI I use tmux , a terminal multiplexer, which allows me to keep terminal sessions running on the server on connection close (even if by accident), and resume them from another computer. I use a .bashrc config to load tmux on interactive logins. .bashrc Configuration # Since tmux also runs .bashrc, we need to check we are not in tmux # Other checks are to make sure these commands only run in interactive shells if [[ $- == *i* ]] && [[ -n $SSH_CONNECTION ]] && [[ -z \" $TMUX \" ]] ; then tmux new-session -A fi Finally, I use Powerline , a great status plugin showing CPU/memory/uptime stats, on bash and tmux . If some bits in one of the drives were to fail (e.g. due to bit rot ), dmraid would not know which drive contains the correct data as it operates below the filesystem layer. \u21a9 The reason I do not use cryptsetup (or dmcrypt ) directly on the disk is that Windows/other software might accidentally wipe the partition table (and the LUKS header), rendering the disk unlockable. \u21a9 Windows sets the UID/GID to -2 for some reason, preventing you from writing to files by default. This is the fix . \u21a9 On Fedora, Google Authenticator PAM has some issues with SELinux security configurations and so I use a workaround . \u21a9 Mosh allows for SSH access over unreliable/mobile connections, including scenarios like changing IP addresses (which can happen as the mobile device moves out of Wifi range). \u21a9","title":"My Self-Hosting Journey"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#my-self-hosting-journey","text":"My server's homepage Self-hosting your own services has been catching up in popularity: the selfhosted subreddit has over 180K members as of 21/5/22, and the number of self-hosted solutions has been growing exponentially (see a huge list here). Self-hosting frees you from vendor lock-in. By using open-source alternatives, you gain portability for your data, and you are free to change to another solution anytime. In addition, there is the benefit of learning about server management and the command-line, which in my opinion are portable skills which can be used in any environment, unlike GUIs which are specific for an application. In addition, I have been getting increasingly frustrated with Windows due to various issues , and switching to Linux offers one a much needed breath of freedom, customizability and fresh air. Finally, I wanted something which I could keep running 24/7 and not have to pay recurring subscriptions. It was with those considerations in mind that I decided to go ahead with self hosting.","title":"My Self-Hosting Journey"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#specifications","text":"CPU : Intel i5-12400F (6 cores, 12 threads, 18M Cache, up to 4.40Ghz) Memory : Crucial 32GB DDR4 3200Mhz Motherboard : Gigabyte B660M DS3H DDR4 Boot Drive : Samsung 500GB 980 NVME M.2 OS : Fedora Linux (Server Edition) Total cost of the above was SGD $830. In addition, I have ~ 30TB of storage in a RAID1 configuration assembled from various drives.","title":"Specifications"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#hosted-services","text":"I use Dashy to display all the hosted web services on my site . Authentication is via nginx 's auth_request to a Django backend. All hosted services are in Docker containers with limited permissions to reduce the possible attack surface, with logs all redirected to the systemd journal, with the journald driver .","title":"Hosted Services"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#uptime-monitoring","text":"Uptime monitoring is hosted on an offsite VPS with Uptime Kuma , on a separate site , with notifications via Telegram. This is to allow for redundancy in case my server goes down.","title":"Uptime Monitoring"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#storage-and-backup","text":"There is 12TB of file storage available, consisting of 2x WDC WD120EMFZ-11A6JA0 12TB drives plus a 6TB ATA TOSHIBA HDWR160 in a (software) RAID-1 configuration under BtrFS. I chose BtrFS over dmraid + ext4 as BtrFS: allows for online subvolume resizing/deletion/modification supports file checksums in RAID modes 1 allows for arbitrary drives to be added/removed from the RAID configuration, and balance the resulting filesystem automatically supports lightweight snapshots and sending these snapshots to other devices for backup One of the more interesting features of BtrFS is that it allows for RAID-1 with any number of devices, of all different sizes. The resulting available storage is usually half the total storage available . This is made possible as the filesystem allocates data in chunks , with each chunk on a RAID-1 setup being duplicated to 2 different drives. Backup is done with the following series of commands: Backup Commands # Create a subvolume snapshot of /mnt/storage # Note: 'snapshots' and 'subvolumes' are synonymous in BtrFS: A snapshot is a copy of a subvolume btrfs subvolume snapshot -r /mnt/storage/ /mnt/storage/snapshot. $( date +%Y-%m-%d ) # Send that snapshot to the backup device /mnt/sdc1 btrfs send /mnt/storage/snapshot.2022-05-18/ | btrfs receive /mnt/sdc1 # To instead send an incremental snapshot: # Note: the parent snapshot must exist on the receiving drive btrfs send -p <path to parent snapshot on sending drive> <subvol> | btrfs receive /mnt/sdc1 The UUID of the parent subvolume (in the sending drive) must be in one of the receiving drive subvolume's 'Received UUID', in order for the incremental send operation to work. See below for an example: Target volume with 2 snapshots, server-2022-05-18 followed by snapshot.test : [root@server sdc1]# btrfs su show /mnt/system-root/server-2022-05-18/server-2022-05-18 Name: server-2022-05-18 UUID: 2b33e415-046b-a746-a35f-50cdef411a9f Parent UUID: c8a82094-4270-274b-bd08-77aea3dc0896 Received UUID: - [root@server sdc1]# btrfs su show /mnt/system-root/snapshot.test/snapshot.test Name: snapshot.test UUID: 8a42b8d1-d145-9249-9e76-e7748dc4aeb5 Parent UUID: c8a82094-4270-274b-bd08-77aea3dc0896 Received UUID: - Note on the backup drive that the Received UUID of the original snapshot is the same as the target volume's original snapshot server-2022-05-18 . [root@server sdc1]# btrfs su show /mnt/sdc1/server-2022-05-18/server-2022-05-18 Name: server-2022-05-18 UUID: 5ed89436-7a3b-5744-9460-cf79ced43e2c Parent UUID: - Received UUID: 2b33e415-046b-a746-a35f-50cdef411a9f [root@server sdc1]# btrfs su show /mnt/sdc1/snapshot.test/snapshot.test Name: snapshot.test UUID: 7fcd7d87-b2a2-eb46-a636-ca62dfd4029f Parent UUID: 5ed89436-7a3b-5744-9460-cf79ced43e2c Received UUID: 8a42b8d1-d145-9249-9e76-e7748dc4aeb5 Note: The Received UUID does not change when a snapshot is snapshot-ed again. The backup drive contains a BtrFS volume on top of a partition 2 encrypted with cryptsetup . This storage is accessible locally in my LAN via NFS , which Windows also supports 3 . I use SSHFS to access my storage remotely.","title":"Storage and Backup"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#ssh-access","text":"SSH access to my server is available via public keys, password access with 2FA (provided via Google Authenticator PAM 4 ) and Web terminal access via Apache Guacamole . I previously used SSH with certificates , however it does not allow me to revoke access as easily as public keys.","title":"SSH Access"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#mobile","text":"Mobile SSH access is via Termux , a terminal emulator for Android which features Mosh 5 pre-installed.","title":"Mobile"},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#terminal-ui","text":"I use tmux , a terminal multiplexer, which allows me to keep terminal sessions running on the server on connection close (even if by accident), and resume them from another computer. I use a .bashrc config to load tmux on interactive logins. .bashrc Configuration # Since tmux also runs .bashrc, we need to check we are not in tmux # Other checks are to make sure these commands only run in interactive shells if [[ $- == *i* ]] && [[ -n $SSH_CONNECTION ]] && [[ -z \" $TMUX \" ]] ; then tmux new-session -A fi Finally, I use Powerline , a great status plugin showing CPU/memory/uptime stats, on bash and tmux . If some bits in one of the drives were to fail (e.g. due to bit rot ), dmraid would not know which drive contains the correct data as it operates below the filesystem layer. \u21a9 The reason I do not use cryptsetup (or dmcrypt ) directly on the disk is that Windows/other software might accidentally wipe the partition table (and the LUKS header), rendering the disk unlockable. \u21a9 Windows sets the UID/GID to -2 for some reason, preventing you from writing to files by default. This is the fix . \u21a9 On Fedora, Google Authenticator PAM has some issues with SELinux security configurations and so I use a workaround . \u21a9 Mosh allows for SSH access over unreliable/mobile connections, including scenarios like changing IP addresses (which can happen as the mobile device moves out of Wifi range). \u21a9","title":"Terminal UI"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/","tags":["Programming"],"text":"Docker Containers with GPU access in Fedora This guide will let you use a NVIDIA GPU in a Docker container (e.g. for Tensorflow/Pytorch). Prerequisites: Docker must be installed. You have a NVIDIA GPU. 1. Install NVIDIA drivers from the RPM Fusion repository 1 : sudo dnf install xorg-x11-drv-nvidia-cuda It is necessary to reboot the system, as this package includes a script which blacklists the default Nouveau drivers. 2. Add the NVIDIA Container Runtime Repository 2 : curl -s -L https://nvidia.github.io/libnvidia-container/centos7/libnvidia-container.repo | sudo tee /etc/yum.repos.d/nvidia-container-toolkit.repo 3. Install the NVIDIA Container Toolkit This includes the NVIDIA Container Runtime, which adds a custom pre-start hook to all containers to allow GPU access): sudo dnf install nvidia-container-toolkit 4. Register the runtime with Docker: sudo tee /etc/docker/daemon.json <<EOF { \"runtimes\": { \"nvidia\": { \"path\": \"/usr/bin/nvidia-container-runtime\", \"runtimeArgs\": [] } } } EOF sudo pkill -SIGHUP dockerd Optionally, to make all containers use the NVIDIA runtime by default: Add the following to /etc/docker/daemon.json : \"default-runtime\": \"nvidia\" 5. Finally, test GPU access in Docker with either: docker run --runtime=nvidia --rm nvidia/cuda:10.2-base nvidia-smi or docker run --runtime=nvidia --gpus all --rm nvcr.io/nvidia/k8s/cuda-sample:nbody nbody -benchmark -numbodies=512000 And that's it! Enable the RPM Fusion repositories in Fedora here. \u21a9 While there is no official Fedora support for nvidia-container-runtime , the Centos 7 repository seems to work . \u21a9","title":"Docker GPU Access in Fedora"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#docker-containers-with-gpu-access-in-fedora","text":"This guide will let you use a NVIDIA GPU in a Docker container (e.g. for Tensorflow/Pytorch). Prerequisites: Docker must be installed. You have a NVIDIA GPU.","title":"Docker Containers with GPU access in Fedora"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#1-install-nvidia-drivers-from-the-rpm-fusion-repository1","text":"sudo dnf install xorg-x11-drv-nvidia-cuda It is necessary to reboot the system, as this package includes a script which blacklists the default Nouveau drivers.","title":"1. Install NVIDIA drivers from the RPM Fusion repository1:"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#2-add-the-nvidia-container-runtime-repository2","text":"curl -s -L https://nvidia.github.io/libnvidia-container/centos7/libnvidia-container.repo | sudo tee /etc/yum.repos.d/nvidia-container-toolkit.repo","title":"2. Add the NVIDIA Container Runtime Repository2:"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#3-install-the-nvidia-container-toolkit","text":"This includes the NVIDIA Container Runtime, which adds a custom pre-start hook to all containers to allow GPU access): sudo dnf install nvidia-container-toolkit","title":"3. Install the NVIDIA Container Toolkit"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#4-register-the-runtime-with-docker","text":"sudo tee /etc/docker/daemon.json <<EOF { \"runtimes\": { \"nvidia\": { \"path\": \"/usr/bin/nvidia-container-runtime\", \"runtimeArgs\": [] } } } EOF sudo pkill -SIGHUP dockerd Optionally, to make all containers use the NVIDIA runtime by default: Add the following to /etc/docker/daemon.json : \"default-runtime\": \"nvidia\"","title":"4. Register the runtime with Docker:"},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#5-finally-test-gpu-access-in-docker-with-either","text":"docker run --runtime=nvidia --rm nvidia/cuda:10.2-base nvidia-smi or docker run --runtime=nvidia --gpus all --rm nvcr.io/nvidia/k8s/cuda-sample:nbody nbody -benchmark -numbodies=512000 And that's it! Enable the RPM Fusion repositories in Fedora here. \u21a9 While there is no official Fedora support for nvidia-container-runtime , the Centos 7 repository seems to work . \u21a9","title":"5. Finally, test GPU access in Docker with either:"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/","text":"Windows 11 Gaming VM with GPU Passthrough on Fedora 36 Gaming on a laptop remotely with Nvidia Gamestream using mobile data After this guide, you will have a Windows 11 headless VM that can be accessed via: Moonlight (for high performance gaming) RDP (for office work) Web Browser (via Apache Guacamole , no client required) Prerequisites: Ensure you have a CPU with virtualization support (for Intel, this is known as VT-d ): $ lscpu | grep -i virtualization Virtualization: VT-x NVIDIA GPU (for Moonlight streaming) VT-d should be enabled in your BIOS (refer to the relevant manuals) Docker is installed Windows 11 Pro (for Remote Desktop) 1. Setup GPU Passthrough Open /etc/default/grub with your editor of choice, and append intel_iommu=on as well as initcall_blacklist=sysfb_init to GRUB_CMDLINE_LINUX : GRUB_CMDLINE_LINUX=\"resume=UUID=16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu=on initcall_blacklist=sysfb_init\" What is the purpose of initcall_blacklist=sysfb_init ? Even with the vfio-pci drivers utilized, the kernel appears to reserve portions of memory in the GPU which causes errors visible in dmesg as [ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref] . The culprits for my system appeared to be simplefb and bootfb . Adding the above kernel parameter fixes the issue. Optionally, you may want to disable os-prober especially if you have Docker installed, as it will attempt to probe containers and create a lot of unnecessary startup entries: GRUB_DISABLE_OS_PROBER=true Save the modified configuration file: grub2-mkconfig -o /boot/grub2/grub.cfg Next, create /etc/dracut.conf.d/10-vfio.conf with the following content: add_drivers+=\" vfio_pci vfio vfio_iommu_type1 vfio_virqfd \" You will need to rebuild the initial ramdisk image: dracut -fv Now reboot, and check that IOMMU is working: $ dmesg | grep -i iommu [ 0 .000000 ] Command line: BOOT_IMAGE =( hd4,gpt4 ) /vmlinuz-5.18.10-200.fc36.x86_64 root = UUID = 2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags = subvol = root resume = UUID = 16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu = on [ 0 .133682 ] Kernel command line: BOOT_IMAGE =( hd4,gpt4 ) /vmlinuz-5.18.10-200.fc36.x86_64 root = UUID = 2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags = subvol = root resume = UUID = 16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu = on [ 0 .133749 ] DMAR: IOMMU enabled [ 0 .224446 ] DMAR-IR: IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 0 [ 1 .516533 ] iommu: Default domain type: Translated [ 1 .516533 ] iommu: DMA domain TLB invalidation policy: lazy mode [ 1 .560968 ] pci 0000 :00:00.0: Adding to iommu group 0 [ 1 .560977 ] pci 0000 :00:01.0: Adding to iommu group 1 [ 1 .560985 ] pci 0000 :00:06.0: Adding to iommu group 2 [ 1 .560991 ] pci 0000 :00:0a.0: Adding to iommu group 3 [ 1 .561003 ] pci 0000 :00:14.0: Adding to iommu group 4 If you do not see the ... Adding to iommu group lines, ensure VT-d has been turned on in your BIOS. https://www.digitalcitizen.life/install-windows-11-virtual-machine/ 2. Install Virtualization Packages # sudo dnf install @virtualization This will install the necessary packages, including libvirt , an API to manage QEMU/KVM hypervisors. 3. Setup virt-manager in Docker We will use virt-manager to manage the libvirtd backend. To make access easier, we will use docker-virt-manager , which exposes virt-manager over a GTK3 Broadway (HTML5) backend . Create a docker-compose.yml file with the following content: services : virt-manager : image : mber5/virt-manager:latest restart : always environment : HOSTS : \"['qemu:///system']\" ports : - \"8080:80\" volumes : - \"/var/run/libvirt/libvirt-sock:/var/run/libvirt/libvirt-sock\" - \"/vm:/vm\" # Or wherever you want to store your VM images/virtual harddisks devices : - \"/dev/kvm:/dev/kvm\" Start the container with docker compose up -d . 4. Install Windows and Setup Moonlight Streaming Now, navigate to http://localhost:8080 and you should see the virt-manager interface: Create a new VM, and under Add Hardware > PCI Host Device , add your GPU. Under NIC , ensure Host device enpXsX: macvtap is selected. 1 Install Windows 11 (you can get the ISO from here ). Error: This PC doesn't meet the minimum system requirements to install this version of Windows You may encounter the error This PC doesn't meet the minimum system requirements to install this version of Windows . You can try this fix , or alternatively: Press Shift + F10 to open a command prompt Type regedit Navigate to HKLM\\System\\Setup\\LabConfig (create the key if it doesn't exist) Add the following registry values ( DWORD (32-bit) Value ) with 1 as the value: BypassTPMCheck BypassSecureBootCheck BypassCPUCheck (optional) BypassRAMCheck (optional) Once the Windows VM boots, install the NVIDIA drivers, and then ensure that the GPU is detected by the VM. Then, open GeForce Experience, and under 'Settings > SHIELD', enable 'Gamestream'. If you want to stream the desktop instead of a game, add C:\\Windows\\System32\\mstsc.exe . At this point, download the Moonlight client on another computer/device, and verify that you can stream a game/the desktop. You can also setup Remote Desktop now. Now, you have a working VM with Moonlight for gaming, and Remote Desktop for doing work! 5. Setup Apache Guacamole Accessing a Windows VM over a browser with Apache Guacamole Apache Guacamole is a clientless remote desktop gateway, supporting proxying of RDP and VNC protocols over a HTML5 frontend. For this guide, we will use RDP, as it is more efficient than VNC and saves data. Of note, Guacamole also supports SSH connections to a remote server, displaying the terminal in the web browser. However, the current version ( 1.4.0 ) of the Apache Guacamole Server Docker image only supports connecting via ssh-rsa and ssh-dss , both of which have been deprecated since OpenSSH 8.8 ( JIRA issue ) due to security issues (SHA-1 is no longer considered secure). One workaround would be to enable ssh-rsa in sshd , however this is suboptimal. As a result, I have decided to use [SSHwifty][sshwifty] instead as an SSH web proxy. To setup Apache Guacamole, follow the instructions here . Some notes: I have decided to use the mysql backend instead, as the postgres backend has authentication problems (slated to be fixed in 1.5.0 ). If you are using a reverse proxy with authentication (e.g. Nginx with auth_request ), you can use header authentication to avoid having to login into Guacamole. To change the password of the default guacadmin user, it is necessary to create another user account with admin rights. For RDP, ensure Ignore server certificate is checked, otherwise Guacamole will refuse to connect. 6. (Optional) Setup NFS Network File System (NFS) is a handy way to share files on a Linux host with the Windows VM(s), so I have also set that up. Some notes: If you are using a macvtap interface (to allow the guest to receive its own IP address on the network), it is not possible to connect to the host due to how macvtap works. You will need to create a NAT connection (e.g. Virtual Network 'Default' : NAT ) to connect to the host, via a separate subnet. Windows does not come with NFS support by default - you must enable it. In an elevated PowerShell window, run: Enable-WindowsOptionalFeature -FeatureName ServicesForNFS-ClientOnly , ClientForNFS-Infrastructure -Online -NoRestart To fix slow NFS access speeds on Windows, try this fix . For Fedora: You must also open the NFS ports (TCP/UDP 111 , 2049 and 20048 ) in the Libvirt zone. Moonlight: Fix low FPS on desktop and certain games Moonlight runs at 30fps or less when displaying the remote desktop (when not in a game). I suspect this is probably because the desktop is not rendered using the GPU and natively running at a lower FPS. Moonlight is transferring this output when the GPU is not being utilized, for example with the desktop or certain 2D games. To fix this, you will need to get an HDMI dummy plug. Plug the HDMI dummy plug into the graphics card output. In the Windows VM, ensure that displays are set to mirror each other. You might need to play around with the displays a bit, to ensure that Moonlight is streaming the display from the GPU output, and not that of the VM. You might need to reboot the VM after. You should now be getting 60fps when streaming the bare desktop. Conclusion And that's it! You now have a fully featured cloud gaming machine, with web browser access, accessible anywhere in the world. Known Issues/Notes/Fixes Moonlight Moonlight requires that the server machine (whether VM or physical) be unlocked , and that there are no Remote Desktop Connections ongoing. After an RDP session, the main desktop is locked. To fix this, create a batch file with the following content, and run it with administrator rights to disconnect the RDP and unlock the main desktop: Powershell -Command \"tscon rdp-tcp#0 /DEST:console\" The streaming resolution of Moonlight is not what is set in the GUI of Moonlight or in the game, but rather, it is capped at the resolution of the virtual machine's desktop. So, if you want to stream in 4K, ensure you change the virtual machine's desktop resolution to 4K prior to launching the game. Some useful shortcuts: Minimize window: Ctrl + Alt + Shift + D Show stats overlay: Ctrl + Alt + Shift + S Moonlight not filling screen: Use the Nvidia control panel to change the screen resolution. QEMU/ virt-manager Snapshotting the VM is not possible while a PCI device is being passed-through. However, if you are using BtrFS, you can make snapshots of the storage volume. VM hangs/pauses, and in dmesg you see [ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref] and similar errors: Ensure that the initcall_blacklist=sysfb_init kernel parameter has been added to grub.cfg . virt-manager /QEMU supports sharing the VM display via an embedded VNC server. For Apache Guacamole to connect to this however, the embedded viewer (in virt-manager ) must first be closed. Windows XP only: In virt-manager , the NIC device model must be rtl8139 , and the sound card model as AC97 in order for drivers to be installed. Types of VM network connections compared: Nvidia Geforce Experience says 'Unsupported CPU': Change the CPU model in virt-manager (in the XML) to host-passthrough . Apache Guacamole For RDP, 'Support audio in console' must be unchecked for sound to work. Steam Link Steam Link is another solution for low latency desktop streaming, which is also available cross-platform. One advantage compared to Moonlight is that it works without a GPU installed (it uses libx264 on the CPU). While the performance using a GPU (using NVENC ) is roughly equivalent to Moonlight at the same bitrate, performance without a GPU leaves a lot to be desired, in terms of encoding time and therefore latency. Steam Link using libx264 (CPU) encoding. Note the encoding latency of 130ms (game: Hearthstone) Gaming (even light) is therefore not possible without a GPU. Even for non-gaming tasks, there is little reason not to use Remote Desktop/Apache Guacamole instead, which have much lower network bandwidth requirements. Misc Connection speed: Moonlight > RDP > Guacamole > virt-manager Credits Fedora 33: Ultimiate VFIO Guide for 2020/2021 [WIP] PCI passthrough via OVMF This is necessary to ensure that the VM gets an IP address on the LAN, so that you can connect to it with Moonlight. \u21a9","title":"Windows 11 Gaming VM with GPU Passthrough on Fedora 36"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#windows-11-gaming-vm-with-gpu-passthrough-on-fedora-36","text":"Gaming on a laptop remotely with Nvidia Gamestream using mobile data After this guide, you will have a Windows 11 headless VM that can be accessed via: Moonlight (for high performance gaming) RDP (for office work) Web Browser (via Apache Guacamole , no client required)","title":"Windows 11 Gaming VM with GPU Passthrough on Fedora 36"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#prerequisites","text":"Ensure you have a CPU with virtualization support (for Intel, this is known as VT-d ): $ lscpu | grep -i virtualization Virtualization: VT-x NVIDIA GPU (for Moonlight streaming) VT-d should be enabled in your BIOS (refer to the relevant manuals) Docker is installed Windows 11 Pro (for Remote Desktop)","title":"Prerequisites:"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#1-setup-gpu-passthrough","text":"Open /etc/default/grub with your editor of choice, and append intel_iommu=on as well as initcall_blacklist=sysfb_init to GRUB_CMDLINE_LINUX : GRUB_CMDLINE_LINUX=\"resume=UUID=16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu=on initcall_blacklist=sysfb_init\" What is the purpose of initcall_blacklist=sysfb_init ? Even with the vfio-pci drivers utilized, the kernel appears to reserve portions of memory in the GPU which causes errors visible in dmesg as [ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref] . The culprits for my system appeared to be simplefb and bootfb . Adding the above kernel parameter fixes the issue. Optionally, you may want to disable os-prober especially if you have Docker installed, as it will attempt to probe containers and create a lot of unnecessary startup entries: GRUB_DISABLE_OS_PROBER=true Save the modified configuration file: grub2-mkconfig -o /boot/grub2/grub.cfg Next, create /etc/dracut.conf.d/10-vfio.conf with the following content: add_drivers+=\" vfio_pci vfio vfio_iommu_type1 vfio_virqfd \" You will need to rebuild the initial ramdisk image: dracut -fv Now reboot, and check that IOMMU is working: $ dmesg | grep -i iommu [ 0 .000000 ] Command line: BOOT_IMAGE =( hd4,gpt4 ) /vmlinuz-5.18.10-200.fc36.x86_64 root = UUID = 2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags = subvol = root resume = UUID = 16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu = on [ 0 .133682 ] Kernel command line: BOOT_IMAGE =( hd4,gpt4 ) /vmlinuz-5.18.10-200.fc36.x86_64 root = UUID = 2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags = subvol = root resume = UUID = 16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu = on [ 0 .133749 ] DMAR: IOMMU enabled [ 0 .224446 ] DMAR-IR: IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 0 [ 1 .516533 ] iommu: Default domain type: Translated [ 1 .516533 ] iommu: DMA domain TLB invalidation policy: lazy mode [ 1 .560968 ] pci 0000 :00:00.0: Adding to iommu group 0 [ 1 .560977 ] pci 0000 :00:01.0: Adding to iommu group 1 [ 1 .560985 ] pci 0000 :00:06.0: Adding to iommu group 2 [ 1 .560991 ] pci 0000 :00:0a.0: Adding to iommu group 3 [ 1 .561003 ] pci 0000 :00:14.0: Adding to iommu group 4 If you do not see the ... Adding to iommu group lines, ensure VT-d has been turned on in your BIOS. https://www.digitalcitizen.life/install-windows-11-virtual-machine/","title":"1. Setup GPU Passthrough"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#2-install-virtualization-packages","text":"# sudo dnf install @virtualization This will install the necessary packages, including libvirt , an API to manage QEMU/KVM hypervisors.","title":"2. Install Virtualization Packages"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#3-setup-virt-manager-in-docker","text":"We will use virt-manager to manage the libvirtd backend. To make access easier, we will use docker-virt-manager , which exposes virt-manager over a GTK3 Broadway (HTML5) backend . Create a docker-compose.yml file with the following content: services : virt-manager : image : mber5/virt-manager:latest restart : always environment : HOSTS : \"['qemu:///system']\" ports : - \"8080:80\" volumes : - \"/var/run/libvirt/libvirt-sock:/var/run/libvirt/libvirt-sock\" - \"/vm:/vm\" # Or wherever you want to store your VM images/virtual harddisks devices : - \"/dev/kvm:/dev/kvm\" Start the container with docker compose up -d .","title":"3. Setup virt-manager in Docker"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#4-install-windows-and-setup-moonlight-streaming","text":"Now, navigate to http://localhost:8080 and you should see the virt-manager interface: Create a new VM, and under Add Hardware > PCI Host Device , add your GPU. Under NIC , ensure Host device enpXsX: macvtap is selected. 1 Install Windows 11 (you can get the ISO from here ). Error: This PC doesn't meet the minimum system requirements to install this version of Windows You may encounter the error This PC doesn't meet the minimum system requirements to install this version of Windows . You can try this fix , or alternatively: Press Shift + F10 to open a command prompt Type regedit Navigate to HKLM\\System\\Setup\\LabConfig (create the key if it doesn't exist) Add the following registry values ( DWORD (32-bit) Value ) with 1 as the value: BypassTPMCheck BypassSecureBootCheck BypassCPUCheck (optional) BypassRAMCheck (optional) Once the Windows VM boots, install the NVIDIA drivers, and then ensure that the GPU is detected by the VM. Then, open GeForce Experience, and under 'Settings > SHIELD', enable 'Gamestream'. If you want to stream the desktop instead of a game, add C:\\Windows\\System32\\mstsc.exe . At this point, download the Moonlight client on another computer/device, and verify that you can stream a game/the desktop. You can also setup Remote Desktop now. Now, you have a working VM with Moonlight for gaming, and Remote Desktop for doing work!","title":"4. Install Windows and Setup Moonlight Streaming"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#5-setup-apache-guacamole","text":"Accessing a Windows VM over a browser with Apache Guacamole Apache Guacamole is a clientless remote desktop gateway, supporting proxying of RDP and VNC protocols over a HTML5 frontend. For this guide, we will use RDP, as it is more efficient than VNC and saves data. Of note, Guacamole also supports SSH connections to a remote server, displaying the terminal in the web browser. However, the current version ( 1.4.0 ) of the Apache Guacamole Server Docker image only supports connecting via ssh-rsa and ssh-dss , both of which have been deprecated since OpenSSH 8.8 ( JIRA issue ) due to security issues (SHA-1 is no longer considered secure). One workaround would be to enable ssh-rsa in sshd , however this is suboptimal. As a result, I have decided to use [SSHwifty][sshwifty] instead as an SSH web proxy. To setup Apache Guacamole, follow the instructions here . Some notes: I have decided to use the mysql backend instead, as the postgres backend has authentication problems (slated to be fixed in 1.5.0 ). If you are using a reverse proxy with authentication (e.g. Nginx with auth_request ), you can use header authentication to avoid having to login into Guacamole. To change the password of the default guacadmin user, it is necessary to create another user account with admin rights. For RDP, ensure Ignore server certificate is checked, otherwise Guacamole will refuse to connect.","title":"5. Setup Apache Guacamole"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#6-optional-setup-nfs","text":"Network File System (NFS) is a handy way to share files on a Linux host with the Windows VM(s), so I have also set that up. Some notes: If you are using a macvtap interface (to allow the guest to receive its own IP address on the network), it is not possible to connect to the host due to how macvtap works. You will need to create a NAT connection (e.g. Virtual Network 'Default' : NAT ) to connect to the host, via a separate subnet. Windows does not come with NFS support by default - you must enable it. In an elevated PowerShell window, run: Enable-WindowsOptionalFeature -FeatureName ServicesForNFS-ClientOnly , ClientForNFS-Infrastructure -Online -NoRestart To fix slow NFS access speeds on Windows, try this fix . For Fedora: You must also open the NFS ports (TCP/UDP 111 , 2049 and 20048 ) in the Libvirt zone.","title":"6. (Optional) Setup NFS"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#moonlight-fix-low-fps-on-desktop-and-certain-games","text":"Moonlight runs at 30fps or less when displaying the remote desktop (when not in a game). I suspect this is probably because the desktop is not rendered using the GPU and natively running at a lower FPS. Moonlight is transferring this output when the GPU is not being utilized, for example with the desktop or certain 2D games. To fix this, you will need to get an HDMI dummy plug. Plug the HDMI dummy plug into the graphics card output. In the Windows VM, ensure that displays are set to mirror each other. You might need to play around with the displays a bit, to ensure that Moonlight is streaming the display from the GPU output, and not that of the VM. You might need to reboot the VM after. You should now be getting 60fps when streaming the bare desktop.","title":"Moonlight: Fix low FPS on desktop and certain games"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#conclusion","text":"And that's it! You now have a fully featured cloud gaming machine, with web browser access, accessible anywhere in the world.","title":"Conclusion"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#known-issuesnotesfixes","text":"","title":"Known Issues/Notes/Fixes"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#moonlight","text":"Moonlight requires that the server machine (whether VM or physical) be unlocked , and that there are no Remote Desktop Connections ongoing. After an RDP session, the main desktop is locked. To fix this, create a batch file with the following content, and run it with administrator rights to disconnect the RDP and unlock the main desktop: Powershell -Command \"tscon rdp-tcp#0 /DEST:console\" The streaming resolution of Moonlight is not what is set in the GUI of Moonlight or in the game, but rather, it is capped at the resolution of the virtual machine's desktop. So, if you want to stream in 4K, ensure you change the virtual machine's desktop resolution to 4K prior to launching the game. Some useful shortcuts: Minimize window: Ctrl + Alt + Shift + D Show stats overlay: Ctrl + Alt + Shift + S Moonlight not filling screen: Use the Nvidia control panel to change the screen resolution.","title":"Moonlight"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#qemuvirt-manager","text":"Snapshotting the VM is not possible while a PCI device is being passed-through. However, if you are using BtrFS, you can make snapshots of the storage volume. VM hangs/pauses, and in dmesg you see [ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref] and similar errors: Ensure that the initcall_blacklist=sysfb_init kernel parameter has been added to grub.cfg . virt-manager /QEMU supports sharing the VM display via an embedded VNC server. For Apache Guacamole to connect to this however, the embedded viewer (in virt-manager ) must first be closed. Windows XP only: In virt-manager , the NIC device model must be rtl8139 , and the sound card model as AC97 in order for drivers to be installed. Types of VM network connections compared: Nvidia Geforce Experience says 'Unsupported CPU': Change the CPU model in virt-manager (in the XML) to host-passthrough .","title":"QEMU/virt-manager"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#apache-guacamole","text":"For RDP, 'Support audio in console' must be unchecked for sound to work.","title":"Apache Guacamole"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#steam-link","text":"Steam Link is another solution for low latency desktop streaming, which is also available cross-platform. One advantage compared to Moonlight is that it works without a GPU installed (it uses libx264 on the CPU). While the performance using a GPU (using NVENC ) is roughly equivalent to Moonlight at the same bitrate, performance without a GPU leaves a lot to be desired, in terms of encoding time and therefore latency. Steam Link using libx264 (CPU) encoding. Note the encoding latency of 130ms (game: Hearthstone) Gaming (even light) is therefore not possible without a GPU. Even for non-gaming tasks, there is little reason not to use Remote Desktop/Apache Guacamole instead, which have much lower network bandwidth requirements.","title":"Steam Link"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#misc","text":"Connection speed: Moonlight > RDP > Guacamole > virt-manager","title":"Misc"},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#credits","text":"Fedora 33: Ultimiate VFIO Guide for 2020/2021 [WIP] PCI passthrough via OVMF This is necessary to ensure that the VM gets an IP address on the LAN, so that you can connect to it with Moonlight. \u21a9","title":"Credits"},{"location":"blog-posts/2022-07-18-android-vm-browser/","text":"Android VM in a Browser (via Apache Guacamole) Running an Android VM in a web browser lets you run Android applications from any computer. This lets you test out apps, or even suspicious programs without compromising your actual device. The setup: Android-x86 , an x86 port of Android virt-manager in Docker , which exposes virt-manager in a browser window, and also acts as the VNC server for the Android VM Apache Guacamole , which acts as the VNC <-> browser bridge Getting Started To begin, first setup virt-manager in Docker, as well as Apache Guacamole, with the instructions here . Once you have virt-manager in Docker running, download and install the Android-x86 image on the VM. Then, enable the 'Display VNC' device in QEMU, choosing an appropriate unused port. Finally, in Apache Guacamole, setup a VNC connection to the server (via host.docker.internal ) on the port you chose earlier. Note that you will need to add the following to your docker-compose.yml in order for the host to be accessible via host.docker.internal : services : guacd : image : guacamole/guacd extra_hosts : - \"host.docker.internal:host-gataeway\" Notes Android-x86 does not support the MediaProjection API , so other VNC servers like droidVNC will not work . This is why I use the VNC server from QEMU instead. Note that if you open the embedded viewer in virt-manager , it will disconnect other listening VNC viewers. For full desktop support (free-form window resizing etc), use 'Taskbar' as the default home app. When formatting the disk partitions, use MBR instead of GPT , otherwise grub will not work. To get internet access on the Android VM, connect to VirtWifi .","title":"Android VM in a Browser"},{"location":"blog-posts/2022-07-18-android-vm-browser/#android-vm-in-a-browser-via-apache-guacamole","text":"Running an Android VM in a web browser lets you run Android applications from any computer. This lets you test out apps, or even suspicious programs without compromising your actual device. The setup: Android-x86 , an x86 port of Android virt-manager in Docker , which exposes virt-manager in a browser window, and also acts as the VNC server for the Android VM Apache Guacamole , which acts as the VNC <-> browser bridge","title":"Android VM in a Browser (via Apache Guacamole)"},{"location":"blog-posts/2022-07-18-android-vm-browser/#getting-started","text":"To begin, first setup virt-manager in Docker, as well as Apache Guacamole, with the instructions here . Once you have virt-manager in Docker running, download and install the Android-x86 image on the VM. Then, enable the 'Display VNC' device in QEMU, choosing an appropriate unused port. Finally, in Apache Guacamole, setup a VNC connection to the server (via host.docker.internal ) on the port you chose earlier. Note that you will need to add the following to your docker-compose.yml in order for the host to be accessible via host.docker.internal : services : guacd : image : guacamole/guacd extra_hosts : - \"host.docker.internal:host-gataeway\"","title":"Getting Started"},{"location":"blog-posts/2022-07-18-android-vm-browser/#notes","text":"Android-x86 does not support the MediaProjection API , so other VNC servers like droidVNC will not work . This is why I use the VNC server from QEMU instead. Note that if you open the embedded viewer in virt-manager , it will disconnect other listening VNC viewers. For full desktop support (free-form window resizing etc), use 'Taskbar' as the default home app. When formatting the disk partitions, use MBR instead of GPT , otherwise grub will not work. To get internet access on the Android VM, connect to VirtWifi .","title":"Notes"},{"location":"blog-posts/2022-08-01-my-diet/","text":"My Diet I have been experimenting with several dietary patterns over the years, and I have finally settled on the following (with reasons below). Schedule I practice intermittent fasting, following the 16/8 schedule (time restricted eating). In essence, I skip breakfast, eating my first meal of the day at 12nn, followed by dinner between 6-8pm. Between 8pm to 12nn, I only drink water/tea, and I do not take any food. The main motivation behind this schedule (which I started in 2020) was the publication 1 of a paper in the New England Journal of Medicine, which showed increased longevity, stress resistance, with a decrease in diseases including cancer and obesity. Lunch This is what I eat: 160g rolled oats 50-100ml unsweetened plant milk (e.g. soybean) 15g chia seeds 5g psyllium husk powder 5g wheatgrass powder (optional) 8 drops stevia Water as necessary The above is soaked overnight. In the morning, I add: Nuts (e.g baked almonds) Fruits: Watermelon, grapes, papaya, pineapples etc. This is the largest meal of the day for me, consisting of mainly wholegrains, fibre and fruits. I settled on oats as the choice of carbohydrate, in particular due to its beta glucan content which can help reduce cholesterol and promote cardiovascular health. I also take psyllium husk, in the form of a powder. There is a positive effect with regards to weight loss, satiety, hunger and even glycemic and lipid control. Dinner This is usually a protein, such as chicken breast, tofu, eggs or fatty fish such as mackerel or salmon. I add whatever vegetables I happen to have that day as well. This high protein meal coincides with my evening workouts as well (usually running or gymming). While there is debate about how much protein one should take daily, especially if they are exercising, I stick to around 1.7g/kg (about 100g/day). I have cut down on red meat (pork, beef and lamb), as there is strong evidence it is a carcinogen. Processed meat, on the other hand, is a known carcinogen, so I completely avoid it (smoked, cured, salted or fermented). De Cabo, R., & Mattson, M. P. (2019). Effects of intermittent fasting on health, aging, and disease. New England Journal of Medicine, 381 (26), 2541-2551. \u21a9","title":"My Diet"},{"location":"blog-posts/2022-08-01-my-diet/#my-diet","text":"I have been experimenting with several dietary patterns over the years, and I have finally settled on the following (with reasons below).","title":"My Diet"},{"location":"blog-posts/2022-08-01-my-diet/#schedule","text":"I practice intermittent fasting, following the 16/8 schedule (time restricted eating). In essence, I skip breakfast, eating my first meal of the day at 12nn, followed by dinner between 6-8pm. Between 8pm to 12nn, I only drink water/tea, and I do not take any food. The main motivation behind this schedule (which I started in 2020) was the publication 1 of a paper in the New England Journal of Medicine, which showed increased longevity, stress resistance, with a decrease in diseases including cancer and obesity.","title":"Schedule"},{"location":"blog-posts/2022-08-01-my-diet/#lunch","text":"This is what I eat: 160g rolled oats 50-100ml unsweetened plant milk (e.g. soybean) 15g chia seeds 5g psyllium husk powder 5g wheatgrass powder (optional) 8 drops stevia Water as necessary The above is soaked overnight. In the morning, I add: Nuts (e.g baked almonds) Fruits: Watermelon, grapes, papaya, pineapples etc. This is the largest meal of the day for me, consisting of mainly wholegrains, fibre and fruits. I settled on oats as the choice of carbohydrate, in particular due to its beta glucan content which can help reduce cholesterol and promote cardiovascular health. I also take psyllium husk, in the form of a powder. There is a positive effect with regards to weight loss, satiety, hunger and even glycemic and lipid control.","title":"Lunch"},{"location":"blog-posts/2022-08-01-my-diet/#dinner","text":"This is usually a protein, such as chicken breast, tofu, eggs or fatty fish such as mackerel or salmon. I add whatever vegetables I happen to have that day as well. This high protein meal coincides with my evening workouts as well (usually running or gymming). While there is debate about how much protein one should take daily, especially if they are exercising, I stick to around 1.7g/kg (about 100g/day). I have cut down on red meat (pork, beef and lamb), as there is strong evidence it is a carcinogen. Processed meat, on the other hand, is a known carcinogen, so I completely avoid it (smoked, cured, salted or fermented). De Cabo, R., & Mattson, M. P. (2019). Effects of intermittent fasting on health, aging, and disease. New England Journal of Medicine, 381 (26), 2541-2551. \u21a9","title":"Dinner"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/","text":"My Experience at a 10 Day Vipassana Meditation Retreat Entrance of the meditation center at Saleng Eco Farm From the 20th to 31st of July 2022, I signed up for a 10-day meditation retreat at Saleng Eco Farm, Johor , conducted by a Vipassana Meditation Center following the teachings of S. N. Goenka . Notable, these are some of the rules observed throughout the course: No speaking, gesturing, or otherwise communicating with anyone other than the teacher (and even then, at designated times) No use of phones or electronic devices No reading or writing materials 10 hours of seated meditation daily, for the 10 days (i.e. 100 hours of meditation in total) No meat - the food provided was vegetarian. Male and female accommodation was separate, and no communication or interaction between the sexes was allowed Additionally: The entire course was free, including accomodation and food Donations were only accepted at the end of the course Participants were free to leave at any point (although most stayed to the end) Why go for such a course? I have read about Zen in the past, and its ideas of 'no-mind' and egolessness, achieved purely through meditation. In addition, prior to this course, I had been following Sam Harris' Waking Up meditation course, of around 10 minutes a day for 50 days. In addition, I was at a point in my life where I felt uncertain as to what direction I was heading in. I considered holidays overseas, but I have been on a few (including hiking trips) and I felt the sense of calm they provided was temporary. I wanted to experiment with meditation - in particular, what would happen if I were to seriously meditate in an environment where talking and phones were banned. The meditation technique taught was Vipassana , a form of sensation-focused meditation with the aim of generating equanimity to both pleasant and unpleasant sensations. The core idea is that our unhappiness is caused by craving and aversion to stimuli, and that by maintaining equanimity in practice, this translates to stimuli in the external world. We then become free to live life, unhindered by cravings and aversions, and ultimately achieve happiness. Preliminaries When I reached the center at 4pm, we were given a piece of paper to fill and sign. Essentially were to understand that there would be no talking, communication or gesturing, and that we were to follow the five precepts (no killing, stealing, sexual misconduct, lying or intoxicants) for the duration of the course. This was also the time when we passed over our mobile phones and valuables for safekeeping by the management, which they numbered and documented what was handed over. I spoke to several individuals, asking them why they came to such a course. Some had heard about this course and had finally decided to give it a try, while others had heard about it from their friends. A few joined because they were seeking direction in life. In the evening of the first day, the above rules regarding communication were reiterated to us, as well as information about food and accomodation. Accomodation Male dormitory building Beds in the accomodation The accomodation was spartan, and around 12 of us shared the dormitory, which had 2 toilets with en-suite bathrooms. There was also air conditioning available, although the weather was generally cool by the evenings. Food Dining Hall Breakfast was served at 6.30am, and was usually toast with peanut butter, and noodles/congee. Tea, coffee, milo and (surprisingly) psyllium husk were available throughout the day. Lunch was served at 11am, and consisted of 1-2 vegetable dishes, sometimes a tofu dish (either fried beancurd skin or stir fried tofu), soup and a piece of fruit, with either rice or noodles. Second and third helpings were welcome. Of note, the people dishing out the food to us were old students who had volunteered to come back and help. The dining hall faced a small lake. Because we ate breakfast so early, nearly everyday we got to see the sunrise over the lake, albeit in silence, the only sounds being that of running water and cutlery. The lake, visible from the dining hall Timetable The course followed a strict timetable - essentially it was eat, sleep, meditate, repeat. There were about 11 hours of meditation a day, with about 5 minutes of break every 1 to 1.5 hours where we could stand up and walk outside the hall and stretch. Time Activity 4:00 a.m. Morning wake-up 4:30-6:30 a.m. Meditation in hall or room 6:30-8:00 a.m. Breakfast and rest 8:00-9:00 a.m. Group meditation in hall 9:00-11:00 a.m. Meditation in hall or room 11:00-12:00 noon Lunch break 12:00-1:00 p.m. Rest 1:00-2:30 p.m. Meditation in hall or room 2:30-3:30 p.m. Group meditation in hall 3:30-5:00 p.m. Meditation in hall or room 5:00-6:00 p.m. Tea break 6:00-7:00 p.m. Group meditation in hall 7:00-8:15 p.m. Evening discourse 8:15-9:00 p.m. Group meditation in hall 9:00 p.m. Take rest While we could meditate in our room, most people (myself included) preferred to meditate in the hall (which was air-conditioned). The Meditation Hall The evening discourse was a 75 minute video of S. N. Goenka's recorded discourses from a previous course he conducted in the West, also available on Youtube . We could ask the assistant teacher questions in private, everyday at 12 noon and at 9pm after the group meditation. My Experience What follows is my experience at the course (mainly what I felt and experienced mentally, as there was very little actual physical happenings occuring). Days 1-3 The first 3 days, we were taught the practice of Anapana meditation. This involves being seated, with eyes closed, and focusing on observing the sensations of breathing, especially in and around the nostrils and upper lip. Progressively, our area of focus narrowed down to just the philtrum - the area below the nostrils and above the upper lip. We were told to ignore sensations elsewhere in the body, and whenever our mind wandered, to not feel disappointed or angry, but to simply resume our awareness of sensation. The practice of Anapana alone resulted in the reduction of thoughts in general. At this point I did not feel an increased awareness of either body or mental content, but I realized (around day 3) that I could sustain any particular thought for much longer than normal, if I desired. Prior, I would get quite easily distracted by other thoughts. With regards to physical discomfort - I started developing back pain around the second day. As Anapana progressed I was able to ignore the pain to some extent, although there would inevitably reach a point where it would become unbearable and I would have to shift posture. There was no equanimity to pain at this point - I was just bearing through the pain, and this manifested in an increased heart rate and some perspiration. About the ability to feel sensation on the philtrum (area above the upper lip) and the nasal passages - this definitely improved over the 3 days, especially with regards to the area in the nasal passages - this cannot be solely attributed to the presence of the face mask. Day 4 Vipassana was taught on this day. In a nutshell, it consists of performing a body scan with eyes closed - we focused our attention on individual parts of the body, about 3-5cm in size, starting from the top of the head and progressing downward. We were given the instructions to ignore 'gross, solidified sensations' (what I later understood to mean pain), as well as 'subtle sensations'. While we were (understandably) told not to generate aversion toward the 'gross, solidified sensations', we were also told not to generate craving toward the 'subtle sensations'. At this point I wondered what was being referred to here - how could there be any pleasurable sensations from sitting down without moving? It was extremely hard to sit still during the 3-5pm session where Vipassana was being taught - my back pain was getting severe. I would describe it as a sharp, tearing sensation that persisted despite attempts to focus on my breath more intensely, or even with the ongoing teaching of the body scan technique during that time. With regards to the body scan - I found it quite difficult to feel anything at first, especially in areas like the top of the head, ears, elbows or the mid-back and mid-chest where my shirt was not in contact with my skin. Subsequently I started feeling sensations in these areas. I would describe the sensation on the scalp as a sort of tingling, with a very faintly pulsating character. As I swept my attention across my scalp (in the same manner as the hands of a clock, radially), the tingling sensation would follow - I'm not sure if this tingling was partially created due to the act of focusing on an area, or whether the sensation was already present but just not noticed. Day 5 During the morning sitting, I had (I think) the first few feelings of what Goenka calls 'subtle sensations'. During this sitting, I attempted to keep still throughout. Around the one hour fifteen minute mark, my leg pain was getting more and more severe - a throbbing pain which continually tried to grab my attention, and of which I could feel my subconscious mind generating impulses to move which I was suppressing. As I forced on ahead with the body scan however, the pain changed in character, slowly, on the border of imperceptibility - instead of being pain, it became a sort of numbness/tingling - still intense, but the impulse to move became much less. If I focused hard I could still feel my pant leg above that sensation. Also at this point my back pain went away - not just becoming numb. I think perhaps the intense sensations in my leg were responsible for that. As the intense leg sensations continued through my body scan, I began feeling an electric current flowing from the top of my head, through the face, neck, down the torso, and to the four limbs. This 'electric current' feeling moves quite fast - I would say about 10cm/s. With regards to how it felt like, the closest similar experience I have is the 'pee shiver' feeling one sometimes gets when urinating after having held the urge for a considerable amount of time. The sensation seemed to always start from the top of the head and travel downward, ending at the ends of the limbs. This repeated about 4-5 times in succession over the span of about a minute - it was intense and short-lived. The 'electric current' feeling flowed through the intense areas of numbness in my legs as well. This current was pleasurable, and of considerable intensity - though I am not sure how it would compare to other very strong physical pleasures - its nature was such that I could not directly compare it to other sensations in retrospect. For example, after having a pleasurable sensation, one is able to somewhat relive the experience in the mind, and thereby develop a craving for it. For example, the feeling of a luxurious bed, or the taste of a good meal. But the memory of this sensation dissolves very quickly, and all I remember is the state of semi-euphoria I experienced at the time. I suspect this electric current sensation, or 'subtle sensation', arises when the body is experiencing extreme physical discomfort, probably due to the release of endogenous opoids, endorphins or some other chemical in the brain, as a kind of natural painkiller. In Vipassana we are instructed to ignore these sensations despite their pleasurable nature, and I think we are consciously blocking the pleasure pathways of our mind by doing so. Day 6 This is the day where I had what I think is a partial experience of ego dissolution. It happened around 10am, after the first 8-9am sitting, and after I went back into the hall for the second sitting. Around the one hour thirty minute mark, the same thing with the leg pain was happening - the leg pain became severe, then became numb, followed by waves of electric current, which were less intense than what I experienced the previous day. At this point, I began to have the feeling that the sensations I was feeling, and the impulses to move, to stand, were not mine - it was as if I was sitting at the helm of a ship, observing the waves on the sea, and no longer attributing them to me. This applied to my thoughts as well - I started observing the thoughts in my mind and I had the sensation that they were not 'mine', but of this body's instead, a body which my consciousness was forced to live in, forced to experience. This particular feeling made the rest of the sitting not just tolerable, but effortless - because it was not 'I' who was feeling the sensations any longer. I would not say this felt euphoric in any way - it felt like detachment from the physical body, together with the baser thoughts like aversions and cravings. I still attributed logical thought and deduction to myself, however. When the bell rang, I felt no impetus to move, and when I opened my eyes, I looked at my hands and legs, and had the sense that they were not mine - that they were someone else's, and that of which I happened to inhabit. As I walked out, thoughts like hunger, aversion to dirt on the floor were no longer attributed to 'me' , but rather 'this body's'. This applied to visual stimuli - looking at the trees, roads and plants, I had the sense the scene in front of me was like watching images at the cinema - something in which I was a passive observer of. In this state, mental reactions were minimal - I would see stimuli for example someone walking toward me, and in the past I would briefly wonder which direction they were headed, now I had no reaction to them - I just saw them. This detachment continued during lunch. As I ate food, I felt disconnected from the hand bringing the food to my mouth, and the subsequent taste of food. I walked and reacted somewhat slower during this period. This sensation was not permanent, and disappeared sometime after lunch, when I took a nap. Days 7-10 The main experiences for the subsequent days were that I felt I could tolerate pain for much longer than I expected I could - this I suspect due to the emphasis on maintaining an equanimous mind throughout. Interestingly, this equanimity extended to cravings unrelated to meditation as well, (i.e. not related to the pleasant 'subtle sensations') when I self-tested myself at random points throughout the day: I would think of something I would ordinarily crave, and observe my physical sensations. Over the next few days I noticed myself reacting less and less to these self-tests. While I did have thoughts of cravings popping up at random times in the day, I suspect these are the deeply ingrained habit patterns of the mind, of which this technique of Vipassana is attempting to retrain. I am a naturally ticklish person, and I noticed that after meditation, when tickling myself on my foot, I was able to remain still and look at the tickling quite equanimously. Day 10 On this day, silence was broken after the morning meditation. Perhaps I would describe it as somewhat awkward, having spent the last 9 days in silence amongst my roommates. Now we were free to talk, gossip and ask each other all the questions we had been piling up throughout the 9 days! I spoke with several individuals from various backgrounds, who described their own difficulties with the prolonged sitting, and how they managed to cope. Some talked about how pain magically went away after a few days, while others shared their theories on why this technique seemed to work. We had engaging philosophical discussions on whether love was compatible with the mindset of equanimity (if love is about fostering attachment to the other person, how can someone free of attachment love?), and lighter-hearted ones such as whether the meditation center should remove air conditioning from the hall as it might foster attachment (we argued that this course was a primer, and to remove all luxuries completely might reduce completion rates). I walked out, feeling ready to continue living my life, recharged. Conclusion At the end of the retreat, and while writing this article now, about 5 days since the end of the retreat, my life has changed in several ways. I have started meditating for an hour in the morning and evening (as far as circumstances allow) I feel much more disconnected from the world, my thoughts and bodily sensations: it is as if I am watching a cinema, and there is little impetus to feel excited/disappointed by anything I am able to concentrate on things somewhat more easily Sleep: With meditation, I don't seem to feel sleepy during the day, despite sleeping on average an hour less each day I would like to express my gratitude once again to the organization for providing free food, accommodation as well as conducive environment, for the practice of this psychological technique of Vipassana meditation, as well as the wonderful people I have had the opportunity to meet there. FAQ Are there any other accounts of the course besides yours? Yes, you can read those of another fellow meditator I met during the course here . Does it work? If by 'work', you mean being free of cravings and aversions, then I would say yes, these have reduced in myself from my observation. If you are talking about achieving ego death , or enlightenment, I think this is subjective - some people experience this during the course, some after, but the experience of it is irrelevant to the psychological benefits it provides. How does it work? The following is completely my own conjecture. During prolonged sitting, one experiences pain from prolonged muscular stasis and compression of tissue against bony surfaces. One also experiences pleasure from the release of endogenous endorphins and opoid receptor agonists (I suspect these are the body's natural painkillers, released when one is experiencing severe pain). Each experience we receive from the six sense doors: vision, smell, touch, sound, taste and thoughts (special case) produces a physical sensation , and no matter how subtle, or whether we consciously experience it, our subconscious reacts to it, generating craving or aversion. The technique trains awareness to both, and encourages the conscious mind to see both pain and pleasure as the same thing. This ability extends to the actual experiences of craving and aversion in our daily lives, allowing us to become equanimous to both of them. With prolonged exposure, it is possible to develop detachment from bodily sensations and even thoughts, towards a state of ego death , where 'one' (if that still makes sense in this state) no longer views their body, its `sensations, thoughts, desires and fears as their own, but rather from a third person point of view. In such a state, there is no reason to crave or avoid anything - there is pure indifference to everything. Is it really free? Can I not pay anything? Yes, you are free to walk out on the last day after the course ends without donating. Nobody will know, and nobody will stop you. More importantly, nobody will care. Is this a cult? This was something I started wondering after I signed up - how can they not charge anything and provide everything for free? Why do we have to give away our phones? Why can't we talk to other meditators? After attending the course, I can confidently say that what is being taught here is a psychological technique, albeit one with the aim of releasing oneself from attachments to craving and aversion, to be able to live life happily. We were not asked to worship or pray to any deity, individual or God, nor were we asked to perform any rites or rituals. We were free to leave at any point during the course (2 people left, presumably for family reasons). There was a donation table setup at the end of the course, but no attention was paid to who donated or whether one even approached the donation table. If anything, the closest thing that can be considered 'cult-like' is that Goenka advises practitioners to recommend more people to these courses, and that he asks practitioners not to practice other forms of meditation, if they found Vipassana to be useful for them. From the Vipassana website: One Path Only Do not mix this technique with others. If you have been practicing something else, you may attend two or three Vipassana courses to help you decide which technique you prefer. Then choose the one you find most suitable and beneficial, and devote yourself to it. How difficult is it to sit for 10 hours a day? I have chronic back pain. While I don't have chronic back pain, I spoke to a student with radiculopathy from a prolapsed intervertebral disc (the jelly-like material between bones in the spine, pressing on the spinal cord). He declined surgery fearing risks of paralysis, and prior to the course was experiencing constant pain in his leg. He was able to complete the course, and said that the pain was not a significant obstacle for him. I myself developed back pain around the 3rd day, but with continued meditation, I became indifferent to it, and it dissipated during the sittings. Is there any religion/pseudoscience being taught? The teaching is completely non-secular and focuses instead on the psychological technique as taught by S. N. Goenka, which he claims is what was practiced by the original Buddha, Gautama Buddha. During the evening discourses , Goenka presents a viewpoint of why he thinks the technique works the way it does from a psychological perspective, based on his research of the Pali scriptures, without invoking supernatural elements, deities or other mystics. He emphasizes that one should base their acceptance of the technique based on their own personal experience, and not just because he or the scriptures say so. Overall, I found the explanation to be rather sound. There are some points where the science is questionable - those relating to the Kalapas as the smallest indivisible units of matter, as well as the idea that our strongest sankharas (cravings and aversions) get transferred to the next physical body to arise (he uses this as a reason why suicide is not a solution to the end of suffering). These did not present any major hindrance to the practice of the technique, and at no point were we asked to accept any parts of the discourse/teaching we found unacceptable. How does this compare with Zen/Zazen? While I have read many books 1 on Zen, I have not formally practiced the technique under a teacher. However, on my reading the main differences appear to be: As per Dogen's Universally Recommended Instructions for Zazen , Zen involves meditating without any visualization, objects, anchors or content. To sit is just to sit, and the meditator strives to watch the stream of their thoughts, letting them rise and fall without interfering. Vipassana, on the other hand, focuses more on awareness of bodily sensation, and the subsequent development of equanimity to pleasant and unpleasant sensations. I believe both techniques can lead to ego dissolution, in particular as what I experienced on day 6 of the course. However, I would like to try a Zen retreat in the future, perhaps at an institution like the Rinzai-ji Zen Center . Personal Notes Factors affecting the ability of the mind to be equanimous Some days I was able to sit still and be equanimous to pain for longer periods than others. After some thought I think the following factors adversely affect one's ability to be equanimous: Lack of sleep I suppose this has to do with the willpower to maintain focus on sensations elsewhere on the body, consciously, and not continually be distracted by pain? Exposure to continued stress/distractions requiring immediate responses In these scenarios, I think the ego is forced to take over, as there are too many decisions for one to make mindfully Recent exposure to sensual pleasures This is in the same category as distractions - with a recent memory of a sensual experience, this will keep cropping up in the mind, and affect one's ability to concentrate on observing sensations. I suppose this is why some of the Sila (moral rules) involve abstaining from sensual pleasures like sex, alcohol and drugs. Conjectures regarding the ultimate origination of sankharas I believe our innate responses to stimuli, internal or external, arise from the ego, which is possibly an evolved construct of the mind, with the purpose of ensuring our continued survival and reproduction in the world. We are therefore carrying this piece of 'evolutionary baggage' around as we go, and meditation somewhat frees us from this. A fellow meditator I spoke to, who thinks similarly, recommends Sapiens by Yuval Noah Harari for further reading. I have read works by Alan Watts (The Way of Zen, The Book on the Taboo against Knowing Who You Are) and Shunryu Suzuki (Zen Mind, Beginner's Mind). \u21a9","title":"My Experience at a 10 Day Meditation Retreat"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#my-experience-at-a-10-day-vipassana-meditation-retreat","text":"Entrance of the meditation center at Saleng Eco Farm From the 20th to 31st of July 2022, I signed up for a 10-day meditation retreat at Saleng Eco Farm, Johor , conducted by a Vipassana Meditation Center following the teachings of S. N. Goenka . Notable, these are some of the rules observed throughout the course: No speaking, gesturing, or otherwise communicating with anyone other than the teacher (and even then, at designated times) No use of phones or electronic devices No reading or writing materials 10 hours of seated meditation daily, for the 10 days (i.e. 100 hours of meditation in total) No meat - the food provided was vegetarian. Male and female accommodation was separate, and no communication or interaction between the sexes was allowed Additionally: The entire course was free, including accomodation and food Donations were only accepted at the end of the course Participants were free to leave at any point (although most stayed to the end)","title":"My Experience at a 10 Day Vipassana Meditation Retreat"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#why-go-for-such-a-course","text":"I have read about Zen in the past, and its ideas of 'no-mind' and egolessness, achieved purely through meditation. In addition, prior to this course, I had been following Sam Harris' Waking Up meditation course, of around 10 minutes a day for 50 days. In addition, I was at a point in my life where I felt uncertain as to what direction I was heading in. I considered holidays overseas, but I have been on a few (including hiking trips) and I felt the sense of calm they provided was temporary. I wanted to experiment with meditation - in particular, what would happen if I were to seriously meditate in an environment where talking and phones were banned. The meditation technique taught was Vipassana , a form of sensation-focused meditation with the aim of generating equanimity to both pleasant and unpleasant sensations. The core idea is that our unhappiness is caused by craving and aversion to stimuli, and that by maintaining equanimity in practice, this translates to stimuli in the external world. We then become free to live life, unhindered by cravings and aversions, and ultimately achieve happiness.","title":"Why go for such a course?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#preliminaries","text":"When I reached the center at 4pm, we were given a piece of paper to fill and sign. Essentially were to understand that there would be no talking, communication or gesturing, and that we were to follow the five precepts (no killing, stealing, sexual misconduct, lying or intoxicants) for the duration of the course. This was also the time when we passed over our mobile phones and valuables for safekeeping by the management, which they numbered and documented what was handed over. I spoke to several individuals, asking them why they came to such a course. Some had heard about this course and had finally decided to give it a try, while others had heard about it from their friends. A few joined because they were seeking direction in life. In the evening of the first day, the above rules regarding communication were reiterated to us, as well as information about food and accomodation.","title":"Preliminaries"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#accomodation","text":"Male dormitory building Beds in the accomodation The accomodation was spartan, and around 12 of us shared the dormitory, which had 2 toilets with en-suite bathrooms. There was also air conditioning available, although the weather was generally cool by the evenings.","title":"Accomodation"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#food","text":"Dining Hall Breakfast was served at 6.30am, and was usually toast with peanut butter, and noodles/congee. Tea, coffee, milo and (surprisingly) psyllium husk were available throughout the day. Lunch was served at 11am, and consisted of 1-2 vegetable dishes, sometimes a tofu dish (either fried beancurd skin or stir fried tofu), soup and a piece of fruit, with either rice or noodles. Second and third helpings were welcome. Of note, the people dishing out the food to us were old students who had volunteered to come back and help. The dining hall faced a small lake. Because we ate breakfast so early, nearly everyday we got to see the sunrise over the lake, albeit in silence, the only sounds being that of running water and cutlery. The lake, visible from the dining hall","title":"Food"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#timetable","text":"The course followed a strict timetable - essentially it was eat, sleep, meditate, repeat. There were about 11 hours of meditation a day, with about 5 minutes of break every 1 to 1.5 hours where we could stand up and walk outside the hall and stretch. Time Activity 4:00 a.m. Morning wake-up 4:30-6:30 a.m. Meditation in hall or room 6:30-8:00 a.m. Breakfast and rest 8:00-9:00 a.m. Group meditation in hall 9:00-11:00 a.m. Meditation in hall or room 11:00-12:00 noon Lunch break 12:00-1:00 p.m. Rest 1:00-2:30 p.m. Meditation in hall or room 2:30-3:30 p.m. Group meditation in hall 3:30-5:00 p.m. Meditation in hall or room 5:00-6:00 p.m. Tea break 6:00-7:00 p.m. Group meditation in hall 7:00-8:15 p.m. Evening discourse 8:15-9:00 p.m. Group meditation in hall 9:00 p.m. Take rest While we could meditate in our room, most people (myself included) preferred to meditate in the hall (which was air-conditioned). The Meditation Hall The evening discourse was a 75 minute video of S. N. Goenka's recorded discourses from a previous course he conducted in the West, also available on Youtube . We could ask the assistant teacher questions in private, everyday at 12 noon and at 9pm after the group meditation.","title":"Timetable"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#my-experience","text":"What follows is my experience at the course (mainly what I felt and experienced mentally, as there was very little actual physical happenings occuring).","title":"My Experience"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#days-1-3","text":"The first 3 days, we were taught the practice of Anapana meditation. This involves being seated, with eyes closed, and focusing on observing the sensations of breathing, especially in and around the nostrils and upper lip. Progressively, our area of focus narrowed down to just the philtrum - the area below the nostrils and above the upper lip. We were told to ignore sensations elsewhere in the body, and whenever our mind wandered, to not feel disappointed or angry, but to simply resume our awareness of sensation. The practice of Anapana alone resulted in the reduction of thoughts in general. At this point I did not feel an increased awareness of either body or mental content, but I realized (around day 3) that I could sustain any particular thought for much longer than normal, if I desired. Prior, I would get quite easily distracted by other thoughts. With regards to physical discomfort - I started developing back pain around the second day. As Anapana progressed I was able to ignore the pain to some extent, although there would inevitably reach a point where it would become unbearable and I would have to shift posture. There was no equanimity to pain at this point - I was just bearing through the pain, and this manifested in an increased heart rate and some perspiration. About the ability to feel sensation on the philtrum (area above the upper lip) and the nasal passages - this definitely improved over the 3 days, especially with regards to the area in the nasal passages - this cannot be solely attributed to the presence of the face mask.","title":"Days 1-3"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-4","text":"Vipassana was taught on this day. In a nutshell, it consists of performing a body scan with eyes closed - we focused our attention on individual parts of the body, about 3-5cm in size, starting from the top of the head and progressing downward. We were given the instructions to ignore 'gross, solidified sensations' (what I later understood to mean pain), as well as 'subtle sensations'. While we were (understandably) told not to generate aversion toward the 'gross, solidified sensations', we were also told not to generate craving toward the 'subtle sensations'. At this point I wondered what was being referred to here - how could there be any pleasurable sensations from sitting down without moving? It was extremely hard to sit still during the 3-5pm session where Vipassana was being taught - my back pain was getting severe. I would describe it as a sharp, tearing sensation that persisted despite attempts to focus on my breath more intensely, or even with the ongoing teaching of the body scan technique during that time. With regards to the body scan - I found it quite difficult to feel anything at first, especially in areas like the top of the head, ears, elbows or the mid-back and mid-chest where my shirt was not in contact with my skin. Subsequently I started feeling sensations in these areas. I would describe the sensation on the scalp as a sort of tingling, with a very faintly pulsating character. As I swept my attention across my scalp (in the same manner as the hands of a clock, radially), the tingling sensation would follow - I'm not sure if this tingling was partially created due to the act of focusing on an area, or whether the sensation was already present but just not noticed.","title":"Day 4"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-5","text":"During the morning sitting, I had (I think) the first few feelings of what Goenka calls 'subtle sensations'. During this sitting, I attempted to keep still throughout. Around the one hour fifteen minute mark, my leg pain was getting more and more severe - a throbbing pain which continually tried to grab my attention, and of which I could feel my subconscious mind generating impulses to move which I was suppressing. As I forced on ahead with the body scan however, the pain changed in character, slowly, on the border of imperceptibility - instead of being pain, it became a sort of numbness/tingling - still intense, but the impulse to move became much less. If I focused hard I could still feel my pant leg above that sensation. Also at this point my back pain went away - not just becoming numb. I think perhaps the intense sensations in my leg were responsible for that. As the intense leg sensations continued through my body scan, I began feeling an electric current flowing from the top of my head, through the face, neck, down the torso, and to the four limbs. This 'electric current' feeling moves quite fast - I would say about 10cm/s. With regards to how it felt like, the closest similar experience I have is the 'pee shiver' feeling one sometimes gets when urinating after having held the urge for a considerable amount of time. The sensation seemed to always start from the top of the head and travel downward, ending at the ends of the limbs. This repeated about 4-5 times in succession over the span of about a minute - it was intense and short-lived. The 'electric current' feeling flowed through the intense areas of numbness in my legs as well. This current was pleasurable, and of considerable intensity - though I am not sure how it would compare to other very strong physical pleasures - its nature was such that I could not directly compare it to other sensations in retrospect. For example, after having a pleasurable sensation, one is able to somewhat relive the experience in the mind, and thereby develop a craving for it. For example, the feeling of a luxurious bed, or the taste of a good meal. But the memory of this sensation dissolves very quickly, and all I remember is the state of semi-euphoria I experienced at the time. I suspect this electric current sensation, or 'subtle sensation', arises when the body is experiencing extreme physical discomfort, probably due to the release of endogenous opoids, endorphins or some other chemical in the brain, as a kind of natural painkiller. In Vipassana we are instructed to ignore these sensations despite their pleasurable nature, and I think we are consciously blocking the pleasure pathways of our mind by doing so.","title":"Day 5"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-6","text":"This is the day where I had what I think is a partial experience of ego dissolution. It happened around 10am, after the first 8-9am sitting, and after I went back into the hall for the second sitting. Around the one hour thirty minute mark, the same thing with the leg pain was happening - the leg pain became severe, then became numb, followed by waves of electric current, which were less intense than what I experienced the previous day. At this point, I began to have the feeling that the sensations I was feeling, and the impulses to move, to stand, were not mine - it was as if I was sitting at the helm of a ship, observing the waves on the sea, and no longer attributing them to me. This applied to my thoughts as well - I started observing the thoughts in my mind and I had the sensation that they were not 'mine', but of this body's instead, a body which my consciousness was forced to live in, forced to experience. This particular feeling made the rest of the sitting not just tolerable, but effortless - because it was not 'I' who was feeling the sensations any longer. I would not say this felt euphoric in any way - it felt like detachment from the physical body, together with the baser thoughts like aversions and cravings. I still attributed logical thought and deduction to myself, however. When the bell rang, I felt no impetus to move, and when I opened my eyes, I looked at my hands and legs, and had the sense that they were not mine - that they were someone else's, and that of which I happened to inhabit. As I walked out, thoughts like hunger, aversion to dirt on the floor were no longer attributed to 'me' , but rather 'this body's'. This applied to visual stimuli - looking at the trees, roads and plants, I had the sense the scene in front of me was like watching images at the cinema - something in which I was a passive observer of. In this state, mental reactions were minimal - I would see stimuli for example someone walking toward me, and in the past I would briefly wonder which direction they were headed, now I had no reaction to them - I just saw them. This detachment continued during lunch. As I ate food, I felt disconnected from the hand bringing the food to my mouth, and the subsequent taste of food. I walked and reacted somewhat slower during this period. This sensation was not permanent, and disappeared sometime after lunch, when I took a nap.","title":"Day 6"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#days-7-10","text":"The main experiences for the subsequent days were that I felt I could tolerate pain for much longer than I expected I could - this I suspect due to the emphasis on maintaining an equanimous mind throughout. Interestingly, this equanimity extended to cravings unrelated to meditation as well, (i.e. not related to the pleasant 'subtle sensations') when I self-tested myself at random points throughout the day: I would think of something I would ordinarily crave, and observe my physical sensations. Over the next few days I noticed myself reacting less and less to these self-tests. While I did have thoughts of cravings popping up at random times in the day, I suspect these are the deeply ingrained habit patterns of the mind, of which this technique of Vipassana is attempting to retrain. I am a naturally ticklish person, and I noticed that after meditation, when tickling myself on my foot, I was able to remain still and look at the tickling quite equanimously.","title":"Days 7-10"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-10","text":"On this day, silence was broken after the morning meditation. Perhaps I would describe it as somewhat awkward, having spent the last 9 days in silence amongst my roommates. Now we were free to talk, gossip and ask each other all the questions we had been piling up throughout the 9 days! I spoke with several individuals from various backgrounds, who described their own difficulties with the prolonged sitting, and how they managed to cope. Some talked about how pain magically went away after a few days, while others shared their theories on why this technique seemed to work. We had engaging philosophical discussions on whether love was compatible with the mindset of equanimity (if love is about fostering attachment to the other person, how can someone free of attachment love?), and lighter-hearted ones such as whether the meditation center should remove air conditioning from the hall as it might foster attachment (we argued that this course was a primer, and to remove all luxuries completely might reduce completion rates). I walked out, feeling ready to continue living my life, recharged.","title":"Day 10"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#conclusion","text":"At the end of the retreat, and while writing this article now, about 5 days since the end of the retreat, my life has changed in several ways. I have started meditating for an hour in the morning and evening (as far as circumstances allow) I feel much more disconnected from the world, my thoughts and bodily sensations: it is as if I am watching a cinema, and there is little impetus to feel excited/disappointed by anything I am able to concentrate on things somewhat more easily Sleep: With meditation, I don't seem to feel sleepy during the day, despite sleeping on average an hour less each day I would like to express my gratitude once again to the organization for providing free food, accommodation as well as conducive environment, for the practice of this psychological technique of Vipassana meditation, as well as the wonderful people I have had the opportunity to meet there.","title":"Conclusion"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#faq","text":"","title":"FAQ"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#are-there-any-other-accounts-of-the-course-besides-yours","text":"Yes, you can read those of another fellow meditator I met during the course here .","title":"Are there any other accounts of the course besides yours?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#does-it-work","text":"If by 'work', you mean being free of cravings and aversions, then I would say yes, these have reduced in myself from my observation. If you are talking about achieving ego death , or enlightenment, I think this is subjective - some people experience this during the course, some after, but the experience of it is irrelevant to the psychological benefits it provides.","title":"Does it work?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-does-it-work","text":"The following is completely my own conjecture. During prolonged sitting, one experiences pain from prolonged muscular stasis and compression of tissue against bony surfaces. One also experiences pleasure from the release of endogenous endorphins and opoid receptor agonists (I suspect these are the body's natural painkillers, released when one is experiencing severe pain). Each experience we receive from the six sense doors: vision, smell, touch, sound, taste and thoughts (special case) produces a physical sensation , and no matter how subtle, or whether we consciously experience it, our subconscious reacts to it, generating craving or aversion. The technique trains awareness to both, and encourages the conscious mind to see both pain and pleasure as the same thing. This ability extends to the actual experiences of craving and aversion in our daily lives, allowing us to become equanimous to both of them. With prolonged exposure, it is possible to develop detachment from bodily sensations and even thoughts, towards a state of ego death , where 'one' (if that still makes sense in this state) no longer views their body, its `sensations, thoughts, desires and fears as their own, but rather from a third person point of view. In such a state, there is no reason to crave or avoid anything - there is pure indifference to everything.","title":"How does it work?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-it-really-free-can-i-not-pay-anything","text":"Yes, you are free to walk out on the last day after the course ends without donating. Nobody will know, and nobody will stop you. More importantly, nobody will care.","title":"Is it really free? Can I not pay anything?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-this-a-cult","text":"This was something I started wondering after I signed up - how can they not charge anything and provide everything for free? Why do we have to give away our phones? Why can't we talk to other meditators? After attending the course, I can confidently say that what is being taught here is a psychological technique, albeit one with the aim of releasing oneself from attachments to craving and aversion, to be able to live life happily. We were not asked to worship or pray to any deity, individual or God, nor were we asked to perform any rites or rituals. We were free to leave at any point during the course (2 people left, presumably for family reasons). There was a donation table setup at the end of the course, but no attention was paid to who donated or whether one even approached the donation table. If anything, the closest thing that can be considered 'cult-like' is that Goenka advises practitioners to recommend more people to these courses, and that he asks practitioners not to practice other forms of meditation, if they found Vipassana to be useful for them. From the Vipassana website: One Path Only Do not mix this technique with others. If you have been practicing something else, you may attend two or three Vipassana courses to help you decide which technique you prefer. Then choose the one you find most suitable and beneficial, and devote yourself to it.","title":"Is this a cult?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-difficult-is-it-to-sit-for-10-hours-a-day-i-have-chronic-back-pain","text":"While I don't have chronic back pain, I spoke to a student with radiculopathy from a prolapsed intervertebral disc (the jelly-like material between bones in the spine, pressing on the spinal cord). He declined surgery fearing risks of paralysis, and prior to the course was experiencing constant pain in his leg. He was able to complete the course, and said that the pain was not a significant obstacle for him. I myself developed back pain around the 3rd day, but with continued meditation, I became indifferent to it, and it dissipated during the sittings.","title":"How difficult is it to sit for 10 hours a day? I have chronic back pain."},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-there-any-religionpseudoscience-being-taught","text":"The teaching is completely non-secular and focuses instead on the psychological technique as taught by S. N. Goenka, which he claims is what was practiced by the original Buddha, Gautama Buddha. During the evening discourses , Goenka presents a viewpoint of why he thinks the technique works the way it does from a psychological perspective, based on his research of the Pali scriptures, without invoking supernatural elements, deities or other mystics. He emphasizes that one should base their acceptance of the technique based on their own personal experience, and not just because he or the scriptures say so. Overall, I found the explanation to be rather sound. There are some points where the science is questionable - those relating to the Kalapas as the smallest indivisible units of matter, as well as the idea that our strongest sankharas (cravings and aversions) get transferred to the next physical body to arise (he uses this as a reason why suicide is not a solution to the end of suffering). These did not present any major hindrance to the practice of the technique, and at no point were we asked to accept any parts of the discourse/teaching we found unacceptable.","title":"Is there any religion/pseudoscience being taught?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-does-this-compare-with-zenzazen","text":"While I have read many books 1 on Zen, I have not formally practiced the technique under a teacher. However, on my reading the main differences appear to be: As per Dogen's Universally Recommended Instructions for Zazen , Zen involves meditating without any visualization, objects, anchors or content. To sit is just to sit, and the meditator strives to watch the stream of their thoughts, letting them rise and fall without interfering. Vipassana, on the other hand, focuses more on awareness of bodily sensation, and the subsequent development of equanimity to pleasant and unpleasant sensations. I believe both techniques can lead to ego dissolution, in particular as what I experienced on day 6 of the course. However, I would like to try a Zen retreat in the future, perhaps at an institution like the Rinzai-ji Zen Center .","title":"How does this compare with Zen/Zazen?"},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#personal-notes","text":"Factors affecting the ability of the mind to be equanimous Some days I was able to sit still and be equanimous to pain for longer periods than others. After some thought I think the following factors adversely affect one's ability to be equanimous: Lack of sleep I suppose this has to do with the willpower to maintain focus on sensations elsewhere on the body, consciously, and not continually be distracted by pain? Exposure to continued stress/distractions requiring immediate responses In these scenarios, I think the ego is forced to take over, as there are too many decisions for one to make mindfully Recent exposure to sensual pleasures This is in the same category as distractions - with a recent memory of a sensual experience, this will keep cropping up in the mind, and affect one's ability to concentrate on observing sensations. I suppose this is why some of the Sila (moral rules) involve abstaining from sensual pleasures like sex, alcohol and drugs. Conjectures regarding the ultimate origination of sankharas I believe our innate responses to stimuli, internal or external, arise from the ego, which is possibly an evolved construct of the mind, with the purpose of ensuring our continued survival and reproduction in the world. We are therefore carrying this piece of 'evolutionary baggage' around as we go, and meditation somewhat frees us from this. A fellow meditator I spoke to, who thinks similarly, recommends Sapiens by Yuval Noah Harari for further reading. I have read works by Alan Watts (The Way of Zen, The Book on the Taboo against Knowing Who You Are) and Shunryu Suzuki (Zen Mind, Beginner's Mind). \u21a9","title":"Personal Notes"},{"location":"blog-posts/2022-08-11-is-this-world-real/","text":"Is This World Real? On Realism I recently watched a discussion involving Donald Huffman, in which he argues that the world as we perceive it is not its true form - our senses are heavily colored by evolutionary adaptations to ensure our survival and reproduction. The analogy he provides is that what we perceive is akin to the icons on a computer desktop, bearing no resemblance to the actual forms which are magnetic charges on a spinning disk. This is similar to the argument he puts forth in his book, The Case Against Reality , as well as a summary online. He then goes on to suggest a form of constitutive panpsychism - that our consciousness is made up of other, hierchically lower consciousnesses, and that the other 'objects' we perceive in the world are intrinsically conscious, although their experiences could be totally different from ours and perhaps unimaginable (take for example, the conscious experience of an electron - traveling at the speed of light, no time passes for it - what could it experience?). He suggests further that when and if we create artificial intelligence, what we are actually doing is creating a sort of 'portal' for conscious agents (of which he says there are an infinitude) to enter. There are several philosophical issues with constitutive panpsychism, the most glaring being that of the subject summing problem (how exactly do lesser conciousnesses combine to form a larger consciousness?), and for that, I am less inclined to accept it. I am, however, more interested in the implications resulting from the idea that our perception is unreliable and/or biased toward evolutionary drives. There are several instances in reality which point to this - we find bright light glaring, extremes of temperature unbearable, a sunrise pretty, ripe fruits more attractive than unripe fruits and so on, despite the fact that all these examples are purely arbitrary patterns and intensities of light and heat. This extends to our raw perception ( qualia ) itself. The experience of seeing blue as blue, for example, is completely arbitrary - why doesn't blue look green? Or take temperature as an example - why does ice feel cold? More broadly, why are our eyes biased to an extremely narrow portion of the electromagnetic spectrum, or why can't we see infrared? Bats are able to echolocate their prey via sonar, but it is not something that we can readily imagine, let alone experience 1 . Electric eels are able to locate prey via sensing changes in the electrical gradient, and again we cannot imagine how this must feel like for the eel. Huffman's argument further posits that there is no objective reality . Chairs, tables, rocks etcetera do not really exist - our perceptions lie to us, manipulate reality in ways such that we act to survive and reproduce. To put it simply, over years of evolution, it is easier for us to perceive a tiger as how we currently see it, large and fear-inducing, so that we make the appropriate action for our survival (by running away), rather actually seeing the tiger as it is. There may not even be three dimensions in the world we live in - our senses could have filtered out the extra dimensions, because from the evolutionary point of view, there is no added fitness to perceiving them. To go even further out, our thoughts can be viewed as a form of perception, namely mental perception, and therefore also susceptible to distortion . We already see this from our desires - we generally find others of the opposite gender attractive, and this preference is not free for us to decide, having been programmed by our genes from the get-go. This distortion could potentially apply to our thoughts on moral and ethical issues, our likes and dislikes, what we perceive as good or bad, and so on. In light of this, are our thoughts even ours? The Impasse and Resolution The consequence of this theory is that objective reality and thought, our once formidable anchors to this world, have now been rudely removed from under our feet, leaving us, having discarded thought as unreliable, blankly staring at whatever remains of reality, unsure of the existence of anything. Is there really no solid, immutable, eternal anchor on which we can at least be sure really exists? I believe that there is one such anchor remaining, and this anchor will continue to exist, even as everything else is swept under the current of nothingness and illusion. This final anchor is logic . By logic, I am referring to our deductive ability, our capabilities to reason, weigh, evaluate and theorize. This is most evident in mathematics, where we are able to manipulate symbols to yet more symbols, and discover facts about these symbols which were not known previously to us. Our mental manipulations of the world of logic maintain their consistency across observers, and it is hard to imagine a possible world in which reason and/or mathematics are not consistent (is it possible to imagine a world where 1 + 1 = 3?). While I will leave the question of whether numbers and other mathematical constructs exist or are discovered to philosophers , I am compelled to suspect that regardless of whether we perceive the physical and mental world as it is or not, the world of logic and reason is immune to any sort of manipulation by our sense organs, brains, or in some other form by evolution. In fact, logic is what allows us to theorize that our senses are deceiving us in the first place. Even if, say, an evil demon were manipulating all of our reality, with logic, we can break free from its grasp (as Descartes did with his cogito, ergo sum ). How did we obtain logic? Dawkins has an answer . As evolution progressed, we initially gained the ability to form mental models about the world to escape from predators and find food. Later, we gained memory and the ability to learn. The ego developed later 2 , and represented the ability of the organism to include itself into its mental model of the world, instead of merely reacting passively. Intellect and with it, logic, must then have developed, culminating in Homo sapiens becoming the dominant species on this planet. Logic may be more real than anything we can perceive in this world. Notes and Additional Reading There are several critiques of Hoffman's theory - you can read one of them here . Another interesting argument I read online arguing for objective reality goes as follows: In nature, we see less poisonous animals mimicking more poisonous ones (snakes, toads, and so on). This mimicry is only possible if there is an objective reality to mimic. This is a humorous critique of oft-abused terms (think quantumly connected , non-locality ) in the psychological field of consciousness. This is covered in his 1974 paper, What Is It Like to be a Bat ? \u21a9 Ironically, with logic and the realization that the ego exists, certain meditation techniques and drugs have been utilized with the intent of dissolving it . \u21a9","title":"Is This World Real? On Realism"},{"location":"blog-posts/2022-08-11-is-this-world-real/#is-this-world-real-on-realism","text":"I recently watched a discussion involving Donald Huffman, in which he argues that the world as we perceive it is not its true form - our senses are heavily colored by evolutionary adaptations to ensure our survival and reproduction. The analogy he provides is that what we perceive is akin to the icons on a computer desktop, bearing no resemblance to the actual forms which are magnetic charges on a spinning disk. This is similar to the argument he puts forth in his book, The Case Against Reality , as well as a summary online. He then goes on to suggest a form of constitutive panpsychism - that our consciousness is made up of other, hierchically lower consciousnesses, and that the other 'objects' we perceive in the world are intrinsically conscious, although their experiences could be totally different from ours and perhaps unimaginable (take for example, the conscious experience of an electron - traveling at the speed of light, no time passes for it - what could it experience?). He suggests further that when and if we create artificial intelligence, what we are actually doing is creating a sort of 'portal' for conscious agents (of which he says there are an infinitude) to enter. There are several philosophical issues with constitutive panpsychism, the most glaring being that of the subject summing problem (how exactly do lesser conciousnesses combine to form a larger consciousness?), and for that, I am less inclined to accept it. I am, however, more interested in the implications resulting from the idea that our perception is unreliable and/or biased toward evolutionary drives. There are several instances in reality which point to this - we find bright light glaring, extremes of temperature unbearable, a sunrise pretty, ripe fruits more attractive than unripe fruits and so on, despite the fact that all these examples are purely arbitrary patterns and intensities of light and heat. This extends to our raw perception ( qualia ) itself. The experience of seeing blue as blue, for example, is completely arbitrary - why doesn't blue look green? Or take temperature as an example - why does ice feel cold? More broadly, why are our eyes biased to an extremely narrow portion of the electromagnetic spectrum, or why can't we see infrared? Bats are able to echolocate their prey via sonar, but it is not something that we can readily imagine, let alone experience 1 . Electric eels are able to locate prey via sensing changes in the electrical gradient, and again we cannot imagine how this must feel like for the eel. Huffman's argument further posits that there is no objective reality . Chairs, tables, rocks etcetera do not really exist - our perceptions lie to us, manipulate reality in ways such that we act to survive and reproduce. To put it simply, over years of evolution, it is easier for us to perceive a tiger as how we currently see it, large and fear-inducing, so that we make the appropriate action for our survival (by running away), rather actually seeing the tiger as it is. There may not even be three dimensions in the world we live in - our senses could have filtered out the extra dimensions, because from the evolutionary point of view, there is no added fitness to perceiving them. To go even further out, our thoughts can be viewed as a form of perception, namely mental perception, and therefore also susceptible to distortion . We already see this from our desires - we generally find others of the opposite gender attractive, and this preference is not free for us to decide, having been programmed by our genes from the get-go. This distortion could potentially apply to our thoughts on moral and ethical issues, our likes and dislikes, what we perceive as good or bad, and so on. In light of this, are our thoughts even ours?","title":"Is This World Real? On Realism"},{"location":"blog-posts/2022-08-11-is-this-world-real/#the-impasse-and-resolution","text":"The consequence of this theory is that objective reality and thought, our once formidable anchors to this world, have now been rudely removed from under our feet, leaving us, having discarded thought as unreliable, blankly staring at whatever remains of reality, unsure of the existence of anything. Is there really no solid, immutable, eternal anchor on which we can at least be sure really exists? I believe that there is one such anchor remaining, and this anchor will continue to exist, even as everything else is swept under the current of nothingness and illusion. This final anchor is logic . By logic, I am referring to our deductive ability, our capabilities to reason, weigh, evaluate and theorize. This is most evident in mathematics, where we are able to manipulate symbols to yet more symbols, and discover facts about these symbols which were not known previously to us. Our mental manipulations of the world of logic maintain their consistency across observers, and it is hard to imagine a possible world in which reason and/or mathematics are not consistent (is it possible to imagine a world where 1 + 1 = 3?). While I will leave the question of whether numbers and other mathematical constructs exist or are discovered to philosophers , I am compelled to suspect that regardless of whether we perceive the physical and mental world as it is or not, the world of logic and reason is immune to any sort of manipulation by our sense organs, brains, or in some other form by evolution. In fact, logic is what allows us to theorize that our senses are deceiving us in the first place. Even if, say, an evil demon were manipulating all of our reality, with logic, we can break free from its grasp (as Descartes did with his cogito, ergo sum ). How did we obtain logic? Dawkins has an answer . As evolution progressed, we initially gained the ability to form mental models about the world to escape from predators and find food. Later, we gained memory and the ability to learn. The ego developed later 2 , and represented the ability of the organism to include itself into its mental model of the world, instead of merely reacting passively. Intellect and with it, logic, must then have developed, culminating in Homo sapiens becoming the dominant species on this planet. Logic may be more real than anything we can perceive in this world.","title":"The Impasse and Resolution"},{"location":"blog-posts/2022-08-11-is-this-world-real/#notes-and-additional-reading","text":"There are several critiques of Hoffman's theory - you can read one of them here . Another interesting argument I read online arguing for objective reality goes as follows: In nature, we see less poisonous animals mimicking more poisonous ones (snakes, toads, and so on). This mimicry is only possible if there is an objective reality to mimic. This is a humorous critique of oft-abused terms (think quantumly connected , non-locality ) in the psychological field of consciousness. This is covered in his 1974 paper, What Is It Like to be a Bat ? \u21a9 Ironically, with logic and the realization that the ego exists, certain meditation techniques and drugs have been utilized with the intent of dissolving it . \u21a9","title":"Notes and Additional Reading"},{"location":"blog-posts/chia-seed-stevia-jelly-recipe/","text":"","title":"Chia seed stevia jelly recipe"},{"location":"blog-posts/gpt-ai-chatbot/","text":"AI Chatbot Draft Talk about my chatbot I trained on telegram messages at https://github.com/extrange/gpt-playground.","title":"AI Chatbot"},{"location":"blog-posts/gpt-ai-chatbot/#ai-chatbot","text":"Draft Talk about my chatbot I trained on telegram messages at https://github.com/extrange/gpt-playground.","title":"AI Chatbot"},{"location":"blog-posts/on-nutrition/","text":"Possibly write about my current diet?","title":"On nutrition"},{"location":"blog-posts/on-the-measure-of-intelligence/","text":"It turns out that the real measure of intelligence to benchmark AI by is not by the performance in task specific domains such as video or board games, but in the field of psychometrics: the IQ test.","title":"On the measure of intelligence"},{"location":"tags/","text":"Tags Cooking Making Stevia Powder Crispy Pork Belly Recipe Apple Chips Recipe Finance Finance Booklist Getting Started with Investing Asset Allocation My Investment Portfolio Calculating Return The Best Index Fund To Endowus, Or Not? My Endowus Portfolio Insurance Life Insurance GE TotalCare Rider Comparison Comparison of ISP Riders Philosophy Deep Work Determinism and Stoicism On Happiness Artificial Intelligence, Language Models and Understanding Programming Cloudflare and Github Pages Python Package Management on Windows useLayoutEffect Cracking PDF Hashes with hashcat Developing in WSL Containers npm update Behavior SSH with Certificates VSCode Remote Containers over SSH Dualbooting Fedora 35 with Win 11 My Computing Philosophy Best Practices for Debugging Service Workers Artificial Intelligence, Language Models and Understanding Note-Taking My Self-Hosting Journey Docker GPU Access in Fedora","title":"Tags"},{"location":"tags/#tags","text":"","title":"Tags"},{"location":"tags/#cooking","text":"Making Stevia Powder Crispy Pork Belly Recipe Apple Chips Recipe","title":"Cooking"},{"location":"tags/#finance","text":"Finance Booklist Getting Started with Investing Asset Allocation My Investment Portfolio Calculating Return The Best Index Fund To Endowus, Or Not? My Endowus Portfolio","title":"Finance"},{"location":"tags/#insurance","text":"Life Insurance GE TotalCare Rider Comparison Comparison of ISP Riders","title":"Insurance"},{"location":"tags/#philosophy","text":"Deep Work Determinism and Stoicism On Happiness Artificial Intelligence, Language Models and Understanding","title":"Philosophy"},{"location":"tags/#programming","text":"Cloudflare and Github Pages Python Package Management on Windows useLayoutEffect Cracking PDF Hashes with hashcat Developing in WSL Containers npm update Behavior SSH with Certificates VSCode Remote Containers over SSH Dualbooting Fedora 35 with Win 11 My Computing Philosophy Best Practices for Debugging Service Workers Artificial Intelligence, Language Models and Understanding Note-Taking My Self-Hosting Journey Docker GPU Access in Fedora","title":"Programming"}]}