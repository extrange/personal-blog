{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>My personal blog.</p> <ul> <li>Badminton </li> <li>Cooking and Nutrition </li> <li>Finance </li> <li>Lucid dreaming</li> <li>Meditation and Zen<sup>1</sup> </li> <li>Mountaineering </li> <li>Photography </li> <li>Philosophy </li> <li>Piano </li> <li>Programming </li> <li>Skiing </li> </ul> <p>Read more about me here.</p> <ul> <li> Email </li> <li> Github</li> </ul>"},{"location":"#programming-languages","title":"Programming Languages","text":""},{"location":"#libraries","title":"Libraries","text":""},{"location":"#software","title":"Software","text":"<p>It is impossible to live without failing at something, unless you live so cautiously that you might as well not have lived at all - in which case, you fail by default.  J. K. Rowling</p> <ol> <li> <p>I'm a big fan of Alan Watts, an American who was deeply involved in the promotion of Japanese Zen to the world. His videos and writings are frank, witty and hint at the beauty of his thought.\u00a0\u21a9</p> </li> </ol>"},{"location":"about/","title":"About Myself","text":"Credits: Alex of Ithaca, NY (CC BY 2.0) <p>My interests include computing, nutrition, spirituality and sports.</p>"},{"location":"about/#computing","title":"Computing","text":"<p>Projects and My Setup</p> <p>I enjoy programming as well as tinkering with computer hardware and servers. I run a server in my home, on which I self-host services such as virtual machines, file storage/sharing, torrents, an administrative interface and more.</p> <p>I primarily work on full stack applications, mainly in React with Javascript/Typescript, with Django as the backend. I am also exploring algorithmic trading.</p> <p>I run Fedora on both my server and personal computers.</p> <p>The field of Natural Language Processing and in particular, the latest developments in transformer models continue to fascinate me, in part because research in this field seems to be gaining almost human-like abilities and intelligence. I have written some of my thoughts on whether these models possess intelligence, as well as other interesting conclusions.</p> <p>I type in the Dvorak keyboard layout, and use Vim or its keybindings, mainly for ergonomicity.</p> <p>The Joys of Coding</p> <p>On some days, the rain and thunder might be pouring outside, while I fix and commit code, taking care to write each subroutine and function as elegantly as possible, with no unnecessary load on the computer. This strive towards perfection annoyed even myself initially, as I often got stuck on a particular feature for days. However, it soon began to feel sort of like a meditative process, almost Zen-like, where the goal was not in the resolution of the issue, but rather in the journey itself, and the numerous libraries I picked up along the way.</p> <p>To me, coding is about building and fixing structures. Unlike in the real world, however, one can build anything imaginable in code. Any form of control or automation so desired is attainable, limited only by the laws of logic.</p> <p>The collaborative process in coding is unique to the field. We write programs to automate menial tasks. Later on, we release them to the public domain, where other people build larger programs on top of them, and in turn release them. This eventually culminates in large but polished libraries such as React and Django, or refinements to the languages themselves such as ES6. When you <code>import React from 'react'</code>, destructure a variable with <code>...</code> or <code>debounce</code> a function, you are calling upon the work of thousands of people who have developed these facilities, sometimes to solve the very same problem you are facing, and almost instantaneously. It is almost as if you are coding with the world at large.</p> <p>My Computing Journey</p> <p>I started out by reading books about computer hacking. Long ago, I borrowed a book on computer security (it was a thick book with a picture of a chessboard). I read about NMAP, TCP/IP, exploits on the IIS server (CodeRed), Windows LANMAN...though I didn't understand much then, I knew I really wanted to learn more about computers.</p> <p>\"The programmer, like the poet, works only slightly removed from pure thought-stuff. He builds his castles in the air, from air, creating by exertion of the imagination. Few media of creation are so flexible, so easy to polish and rework, so readily capable of realizing grand conceptual structures.\" - Frederic P. Brooks</p> <p>I was interested in computers and IT since I was in primary school. The web was in its infancy then; I still remember using 56kbps dialup.  Ironically, most of my interest came about when my parents locked my computer and I had to figure out ways of circumvention (booting Linux, keyloggers...). I learnt about networking from trying to configure the routers in my house mostly by trial and error - those IT people my parents called charged something north of $50 just for tweaking settings like DHCP or DNS and security. The 1999 movie 'The Matrix' was also a big inspiration to me.</p> <p>I read The Art of Computer Virus Research and Defence sometime in the 2000s. It read like a novel, detailing the different methods virus writers would use, and the catch up game antivirus vendors would play. Some of the methods (like polymorphic encryption, virtual machines) used by the virus writers were incredibly complicated, but yet, amazingly, the authors of the book were able to provide a detection heuristic for them.</p> <p>Later on, my portable hard drive, filled with most of my personal data collected over many years, crashed. My diaries, personal notes, photos were gone. That was when I began reading on filesystems ($MFT, streams, MBR/GPT) and data recovery (I couldn't buy EnCase so I made do with dd and a hex editor). Although I wasn't successful in recovering my data, I finally understood how filesystems and their fault tolerance mechanisms worked.</p> This screenshot (20kB) is larger than the program (4kB) <p>I briefly read about x86 assembly and reverse engineering. I was inspired by the crackers of the day (Razor 1911, FAiRLiGHT, DEViANCE) and the demoscene. People could do crazy things with pure machine code - rgba made an entire mountain simulation with music in 4kB! I tried briefly reverse engineering some small programs. I found it rather complicated, and although I did succeed with some (patching with NOPs), I never really continued programming with assembly.</p> <p>In high school I played mostly with the Windows OS and its internals. I had fun with bruteforcing Windows passwords with tools like L0phtCrack/Cain and Abel. It was also my introduction to the world of cryptography, spurred further by allegations that the US government was decrypting internet communications and had the capability to decrypt 128-bit AES.</p> <p>I've written a program to search for image duplicates via convolutional neural networks and cosine similarity in Keras. I've also reversed engineered my house DVR using Wireshark and the sockets library in Python.</p>"},{"location":"about/#nutrition","title":"Nutrition","text":"<p>In recent years I have become much more conscious of what I eat, in part due to my medical background as well as from discussions with my colleagues. I believe a healthy diet not only affects the body, but the mind and its clarity as well.</p> <p>My diet has been varying over the years, but it is mainly a combination of complex carbohydrates, protein sources, fibre and healthy fat.</p> <p>For variation, I maintain some interesting recipes I have tried over the years.</p>"},{"location":"about/#spirituality","title":"Spirituality","text":"<p>My worldview aligns most closely with Stoicism, and I am exploring Vipassana and Zen.</p> <p>I attended a 10 day meditation retreat in July 2022.</p>"},{"location":"about/#sports","title":"Sports","text":"<p>I primarily gym and run, and play badminton. I strive to go mountaineering or hiking overseas once a year - the experience of raw nature at her best and worst is unforgettable.</p> <p>Recently, I have found skiing to be quite enjoyable.</p>"},{"location":"dead-mans-switch/","title":"Dead Man's Switch","text":"<p>This is the file, in 7z archive format. If you are reading this, you have the password.</p> <p>Well, here at last, dear friends, on the shores of the Sea comes the end of our fellowship in Middle-earth. Go in peace! I will not say: do not weep; for not all tears are an evil.  Gandalf, The Return of the King, by J.R.R. Tolkien</p>"},{"location":"mountaineering/","title":"Mountaineering","text":"<p>The entire process of mountaineering is itself a meditative experience; technological isolation fosters introspection, strenous but measured physical exertion gives focus to thought, and the sublime beauty of the landscape frees the imagination.</p> <p>The desolate vastness of the terrain, the harsh cold of the snow, the pale starlight trillions of kilometers away, the disconnection from society - altogether, they culminate in the realization that one's worldy concerns stand for naught in this court of the Universe.</p> Climbed Mountain Height 2013 Dec Yala Peak, Nepal 5550m 2014 May Island Peak, Nepal (video) 6189m 2014 Jun Mt Semeru, Indonesia 3676m 2014 Aug Mt Kinabalu, Sabah 4095m 2014 Dec Poon Hill, Nepal 3210m 2015 Apr Mt Rinjani, Indonesia 3726m 2015 Dec Mt Kilimanjaro, Tanzania 5895m Mera Peak, Nepal 6476m Aconcagua, Argentina 6962m Ama Dablam, Nepal 6812m The Stratosphere, Low Earth Orbit 36,600m <p>It is not the mountain we conquer, but ourselves.  Sir Edmund Hillary</p>"},{"location":"photography/","title":"Photography","text":"<p>Most of these are taken on my Canon 700D with the Tokina f/2.8 11-16mm lens. Post-processing is done in Lightroom and Photoshop.</p> Phuket, 2022 Qingjing Farm, Taiwan, 2019 Qingjing Farm, Taiwan, 2019 Egypt, 2018 Mt Gokohara, Nagasaki, 2017 Nagasaki, Japan, 2017 Tromso, Norway, 2017 Tromso, Norway, 2017 Shiretoko Harbor, Hokkaido, 2016 Tanzania, Africa, 2015 Karanga Camp, Kilimanjaro, Africa, 2015 Lauterbrunnen, Switzerland, 2015 Poon Hill, Nepal, 2014 <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"piano/","title":"Piano","text":"<p>A collection of my recordings.</p> <ul> <li>My Name is Lincoln (arr. Patrik Pietschmann) (2021)</li> </ul> <ul> <li>Pokemon RBY Battle Theme (2016)</li> </ul> <ul> <li>Beethoven's Pathetique Sonata 2nd Movement (2011)</li> </ul> <p>In theory, there is no difference between theory and practice. But in practice, there is.  Benjamin Brewster</p>"},{"location":"resume/","title":"Resume","text":"<p>Drop me a mail at me@nicholaslyz.com!</p> <p>I knew that I was more than the something which had been looking out all that day upon the visible earth and thinking and speaking and tasting friendship. Somewhere \u2014 close at hand in that rosy thicket or far off beyond the ribs of sunset \u2014 I was gathered up with an immortal company, where I and poet and lover and flower and cloud and star were equals, as all the little leaves were equal ruffling before the gusts, or sleeping and carved out of the silentness. And in that company I learned that I am something which no fortune can touch, whether I be soon to die or long years away. Things will happen which will trample and pierce, but I shall go on, something that is here and there like the wind, something unconquerable, something not to be separated from the dark earth and the light sky, a strong citizen of infinity and eternity. The confidence and ease had become a deep joy; I knew that I could not do without the Infinite, nor the Infinite without me.  Edward Thomas, The Stile</p>"},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#cooking","title":"Cooking","text":"<ul> <li>Making Stevia Powder</li> <li>Crispy Pork Belly Recipe</li> <li>Apple Chips Recipe</li> <li>My Diet</li> <li>Nutrition and Health</li> </ul>"},{"location":"tags/#finance","title":"Finance","text":"<ul> <li>Finance Booklist</li> <li>Getting Started with Investing</li> <li>Asset Allocation</li> <li>My Investment Portfolio</li> <li>Calculating Return</li> <li>The Best Index Fund</li> <li>To Endowus, Or Not?</li> <li>My Endowus Portfolio</li> </ul>"},{"location":"tags/#insurance","title":"Insurance","text":"<ul> <li>Life Insurance</li> <li>GE TotalCare Rider Comparison</li> <li>Comparison of ISP Riders</li> </ul>"},{"location":"tags/#philosophy","title":"Philosophy","text":"<ul> <li>Deep Work</li> <li>Determinism and Stoicism</li> <li>On Happiness</li> <li>Artificial Intelligence, Language Models and Understanding</li> <li>My Experience at a 10 Day Meditation Retreat</li> <li>Is This World Real? On Realism</li> <li>On The Measure of Intelligence</li> </ul>"},{"location":"tags/#programming","title":"Programming","text":"<ul> <li>Cloudflare and Github Pages</li> <li>Python Package Management on Windows</li> <li>useLayoutEffect</li> <li>Cracking PDF Hashes with hashcat</li> <li>Developing in WSL Containers</li> <li>npm update Behavior</li> <li>SSH with Certificates</li> <li>VSCode Remote Containers over SSH</li> <li>Dualbooting Fedora 35 with Win 11</li> <li>My Computing Philosophy</li> <li>Best Practices for Debugging Service Workers</li> <li>Artificial Intelligence, Language Models and Understanding</li> <li>Note-Taking</li> <li>My Self-Hosting Journey</li> <li>Docker GPU Access in Fedora</li> <li>Windows 11 Gaming VM with GPU Passthrough on Fedora 36</li> <li>Android VM in a Browser</li> <li>PhotoPrism: A Google Photos Replacement</li> <li>Self Hosted VPN with Tailscale</li> <li>Music Management with Navidrome and DSub</li> </ul>"},{"location":"blog-posts/2020-09-21-finance-book-list/","title":"Finance Booklist","text":"\"Lethargy bordering on sloth remains the best investment style. The correct holding period for the stock market is forever.\" - Burton G. Malkiel <p>Last updated 21/9/20</p>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#general-introduction","title":"General Introduction","text":"<p>A basic primer into investing strategies, the investible universe, how much and where to invest. Both books below provide a broad overview of the history of markets and strategies in general. Choose one.</p> <ul> <li>The Bogleheads' Guide to Investing by Taylor Larimore, Mel Lindauer, Michael LeBoeuf</li> <li>A Random Walk Down Wall Street by Burton G. Malkiel</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#asset-allocation","title":"Asset Allocation","text":"<p>A more mathematically inclined view on how asset allocation affects portfolio return and risk.</p> <ul> <li>Private Wealth Management by G. Victor Hallmann and Jerry S. Rosenbloom</li> <li>Asset Allocation by Roger Gibson</li> <li>The Four Pillars of Investing by William J. Bernstein</li> <li>The Intelligent Asset Allocator by William J. Bernstein</li> <li>Quantitative Equity Portfolio Management by Ludwig B Chincarini, Daehwan Kim</li> <li>Portfolio Selection by Harry Markowitz (Paper)</li> <li>Asset Rotation by Matthew P. Erickson</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#technical-analysis","title":"Technical Analysis","text":"<p>Learn how to read charts for support and resistance, momentum, identify reversals and more. Classically a controversial field, but one that the successful trader should have in their arsenal.</p> <ul> <li>The Art and Science of Technical Analysis: Market Structure, Price Action, and Trading Strategies by Adam H. Grimes</li> <li>Trading Price Action Trends: Technical Analysis of Price Charts Bar by Bar for the Serious Trader by Al Brooks</li> <li>Evidence-Based Technical Analysis by David Aronson</li> </ul> <p>The following are each regarded as the bibles of technical analysis:</p> <ul> <li>Technical Analysis Explained, Fifth Edition by Martin J. Pring</li> <li>Technical Analysis of the Financial Markets by John J. Murphy</li> <li>Technical Analysis of Stock Trends by Robert D. Edwards, John Magee</li> <li>Encyclopedia of Chart Patterns by Thomas N. Bulkowski</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#derivatives","title":"Derivatives","text":"","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#futures-options-and-swaps","title":"Futures, Options and Swaps","text":"<ul> <li>The Investor's Guidebook to Derivatives by Stuart R. Veale</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#options","title":"Options","text":"<p>A product with unlimited gain and limited loss? Options have been used widely in the equity and futures markets since their introduction, both for speculation and hedging purposes.</p> Introductory Texts <ul> <li>Options As a Strategic Investment by Lawrence G. McMillan</li> <li>Option Volatility &amp; Pricing by Sheldon Natenberg</li> </ul> Advanced Texts <ul> <li>Trading Options Greeks by Dan Passarelli</li> <li>The Option Trader's Hedge Fund by Dennis A. Chen and Mark Sebastian</li> <li>Option Gamma Trading by Simon Gleadall</li> <li>Options Volatility Trading: Strategies for Profiting from Market Swings by Adam Warner</li> <li>Options, Futures, and Other Derivatives by John C. Hull</li> </ul> Specialty Texts <ul> <li>Volatility Trading by Euan Sinclair</li> <li>Options Trading: The Hidden Reality by Charles M. Cottle</li> <li>Day Trading Options: Profiting from Price Distortions in Very Brief Time Frames by Jeff Augen</li> <li>Trading Options at Expiration by Jeff Augen</li> <li>Dynamic Hedging by Nassim Nicholas Taleb</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#futures","title":"Futures","text":"<p>Index futures, commodities and more.</p> <ul> <li>A Complete Guide to the Futures Market by Jack D. Schwager</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-finance-book-list/#miscellaneous","title":"Miscellaneous","text":"<ul> <li>Flash Boys by Michael Lewis</li> <li>Reminiscences of a Stock Operator by Edwin Lef\u00e8vre</li> <li>Irrational Exuberance by Robert J. Shiller</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-09-21-iem-reviews/","title":"IEM Reviews","text":"<p>21/9/20</p>"},{"location":"blog-posts/2020-09-21-iem-reviews/#nice-hck-db3","title":"Nice HCK DB3","text":"<ul> <li>Soundstage is rather narrow</li> <li>Cheap</li> </ul>"},{"location":"blog-posts/2020-09-21-iem-reviews/#zsn-pro","title":"ZSN Pro","text":"<p>Basically a fatiguing IEM.</p> <p>Good: - cheap - Bass is not bad - clarity is present especially in 'Cratered'</p> <p>Bad: - Mids are recessed. So much so that in '1000 Words' and 'I Want It That Way' the vocals take a back seat, and the treble takes over - Treble is detail but rather harsh. Definitely not a lounging IEM.</p> <p>Edit: - Actually sounds quite tolerable with 'pop' equalizer (basically reduce treble, bring up mids)</p>"},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/","title":"DNS settings for serving Github Pages over Cloudflare","text":"<p>Written on 24/9/20</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#update-201220-cloudflare-proxying-prevents-ssl-certificate-renewal","title":"Update (20/12/20) - Cloudflare proxying prevents SSL Certificate renewal","text":"<p>When the SSL certificate (provisioned by Github automatically for the custom domain you specified, via Let's Encrypt) expired on 18/12/20, I started getting errors from Cloudflare.</p> <p>Looking deeper, I realized Github was having trouble provisioning the SSL certificate.</p> <p>The solution was to disable Cloudflare proxying. Upon doing so, I was able to get an SSL certificate provisioned for the root domain, <code>nicholaslyz.com</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#the-problem","title":"The Problem","text":"<p>Cloudflare is one of the largest CDNs, and the Free plan offers unlimited bandwidth to your site. I use it for this site. However, the configuration can be tricky...</p> I kept getting this error for ```www.nicholaslyz.com```, but not ```nicholaslyz.com``` <p>Here was my initial configuration:</p> <p></p> <p>I use Github Pages with custom domains and 'Enforce HTTPS' enabled, and Cloudflare with SSL Full (Strict).</p> <p>When a visitor visits <code>www.your-site.com</code>, Github issues a HTTPS 301 redirect from the <code>www</code> subdomain to the registered custom domain/subdomain (in this case <code>your-site.com</code>), presenting a certificate valid for <code>www.github.com, *.github.com, github.com, *.github.io, github.io, *.githubusercontent.com, githubusercontent.com</code>. This happens because Github only provisions certificates for the registered (sub)domain (in my case, <code>nicholaslyz.com</code>) and not the other subdomains.</p> Github redirects users automatically to the correct version of your page, using their Github certificate <p>With Cloudflare proxying switched off - Firefox displays 'Warning: Potential Security Risk Ahead' for the <code>www</code> version of the site, because the Github certificate is not valid for the <code>www</code> subdomain. This is the same error Cloudflare is getting. Chrome and Edge however, ignore the certificate error, so they follow the redirect and work fine.</p> <p>This configuration (without cloudflare proxying) will still result in an error when the user tries to visit the <code>www</code> subdomain:</p> If Cloudflare proxying is turned off, the error recurs <p>This is because Github is trying to redirect the user to the non-<code>www</code> version of the site while presenting the Github certificate.</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#solution","title":"Solution","text":"<p>The following DNS settings worked (changes in red):</p> <p></p> <p>I believe CF allows requests from the origin with mismatched certificates to pass through if</p> <ol> <li>The CNAME entry closest to the origin is being queried or</li> <li>The certificate issued by the origin is valid for the requested hostname, regardless of the intermediate CNAME domains.</li> </ol> <p>Here are some examples of this hypothesis.</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-1-cloudflare-on","title":"Example 1 - Cloudflare ON","text":"Type Name Content Proxy Status CNAME www.example.com example.com Proxied CNAME example.com google.com Proxied <ul> <li><code>www.example.com</code> gives the 526 error (google.com does not have a valid certificate for <code>`www.example.com</code>)</li> <li><code>example.com</code> loads <code>google.com</code> (Point 1 above)</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-2-cloudflare-off","title":"Example 2 - Cloudflare OFF","text":"Type Name Content Proxy Status CNAME www.example.com example.com DNS Only CNAME example.com google.com DNS Only <ul> <li><code>www.example.com</code> gives certificate error on browsers</li> <li><code>example.com</code> gives certificate error on browsers</li> </ul> <p>This is expected browser behavior as the certificates presented by <code>example.com</code> and <code>google.com</code> do not match <code>www.example.com</code> and <code>example.com</code> respectively.</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-3-without-cname-flattening","title":"Example 3 - Without CNAME flattening","text":"Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com google.com Proxied <ul> <li><code>www.example.com</code> gives the 526 error</li> <li><code>subdomain.example.com</code> loads google.com (Point 1 above)</li> </ul> <p>So CNAME flattening is not the cause.</p>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-4-origin-presents-valid-certificate-for-requested-hostname","title":"Example 4 - Origin presents valid certificate for requested hostname","text":"<p>Assume <code>example.github.io</code> has the certificate for ONLY <code>example.com</code> (not its subdomains)</p> Type Name Content Proxy Status CNAME example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied <ul> <li><code>example.com</code> loads properly (Point 2 above)</li> <li><code>subdomain.example.com</code> gives a Github Page not found error<ul> <li>This is because Github is receiving a request for the hostname <code>subdomain.example.com</code> which does not have a Github page setup. Cloudflare however, accepts Github's mismatched certificate just fine during the processing of this request.</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"blog-posts/2020-09-24-cloudflare-and-github-pages/#example-5-origin-presents-invalid-certificate-for-requested-hostname","title":"Example 5 - Origin presents invalid certificate for requested hostname","text":"Type Name Content Proxy Status CNAME www.example.com subdomain.example.com Proxied CNAME subdomain.example.com example.github.io Proxied <ul> <li><code>www.example.com</code>gives the 526 error (Github does not have the certificate for <code>www.example.com</code>)</li> <li><code>subdomain.example.com</code> gives a Github Page not found error (same as above)</li> </ul> <p>Many people have had this problem, in fact there is a list of pages affected by the certificate mismatch error.</p> <p>There is also a temporary hack to get Github to provision certificates for both the <code>www</code> and <code>root</code> domains.</p>","tags":["Programming"]},{"location":"blog-posts/2020-11-28-making-stevia-powder/","title":"Making Stevia Powder: From the Beginnnig","text":"<p>Last updated 28/11/20</p> <p>I'm a big fan of non-nutritive sweeteners, aka zero calorie sweeteners. Sugar has been getting a very bad rep, especially among the medical community.  It increase the risk of dying from heart disease by up to 38%, causes cancer and tooth decay (we've all been told that from young!). So when I heard about alternatives to sugar, I began researching.</p> <p>Broadly speaking, the universe of sweeteners can be divided into low- and zero-calorie sweeteners. These are:</p> <p>Low-calorie sweeteners.</p> <ul> <li>Agave syrup (marketed as low GI, but full of fructose!)</li> <li>Sugar Alcohols. These include:<ul> <li>Xylitol (100% sweetness of sucrose, and prevents dental caries)</li> <li>Sorbitol (40-70% sweetness of sucrose)</li> <li>Erythritol (60-80% sweetness of sucrose)</li> </ul> </li> </ul> <p>Zero-calorie sweeteners. These have zero nutritional value to the body.</p> <ul> <li> <p>Natural</p> <ul> <li>Stevia</li> <li>Monkfruit</li> </ul> </li> <li> <p>Artificial a.k.a. synthetic</p> <ul> <li>Sucralose</li> <li>Acesulfame-K</li> <li>Saccharin</li> </ul> </li> </ul> <p>I settled for the zero-calorie sweeteners in the end. Sugar alcohols can cause gastrointestinal distress in certain individuals. As for the zero-calorie sweeteners (both natural and artificial), there has been some research on mice suggesting that the gut microbiome might be affected. Research done on stevia however, including on humans, has generally concluded that there is little or no harm as of present. Finally, monkfruit is more expensive than stevia.</p> <p>So enough justification! Time for pictures!</p>","tags":["Cooking"]},{"location":"blog-posts/2020-11-28-making-stevia-powder/#planting","title":"Planting","text":"<p>I got the seeds from Horti at $4.80.</p> <p>I planted them in a pot, and after about 1 month I got a big, healthy green plant:</p> <p></p> <p>I didn't edit the photo - the leaves are really quite green. I ate some leaves raw and they really do taste sweet, with a slight earthy/bitter aftertaste (I mean, it's a leaf after all, not a block of sugar...)</p>","tags":["Cooking"]},{"location":"blog-posts/2020-11-28-making-stevia-powder/#drying","title":"Drying","text":"<p>Now to make the powder, the leaves have to be dried. A quick google search suggested the optimum drying temperature to be 35 degrees Celsius. After leaving the leaves for 24 hours in a food dehydrator, the end result was a crumbly, shrunken mass of leaves.</p> <p></p>","tags":["Cooking"]},{"location":"blog-posts/2020-11-28-making-stevia-powder/#grinding","title":"Grinding","text":"<p>The next step was to grind the leaves into a powder! I used a metal mortar and pestle, although research suggests that a coffee grinder is better (I don't have one). While grinding I discarded some stems away since they didn't grind well.</p> <p></p>","tags":["Cooking"]},{"location":"blog-posts/2020-11-28-making-stevia-powder/#end-result","title":"End Result","text":"<p>The final product! This is the result of about ~30 leaves from 3 separate plants in total.</p> <p> </p> <p>The taste can be described as rather sweet, with some earthy undertones. It is much less bitter compared to the raw, fresh leaf.</p> <p>There is another way to extract the stevia using alcohol, but I'll leave that to another day (or just buy it off iHerb).</p> <p>So that's it! For just $4.80 and a month of watering a pot you can get a pure, natural, non-nutritive sweetener, that you can add to coffee, tea, baking or just about anything under the sun.</p>","tags":["Cooking"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/","title":"Getting Started with Investing","text":"<p>Finance</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#getting-started-with-investing","title":"Getting Started with Investing","text":"<p>Written on 30/11/20</p> <p></p> <p>In this post, I give a brief introduction to the world of investments. Do check out my other post on asset allocation - i.e. exactly what assets to buy and why.</p> <p>Some men wrest a living from nature and with their hands; this is called work.  Some men wrest a living from those who wrest a living from nature and with their hands; this is called trade.  Some men wrest a living from those who wrest a living from those who wrest a living from nature and with their hands; this is called finance. - Old British Epigram</p> Speculators fan each other into orgiastic heights on r/wallstreetbets <p>The stock market has always been exciting, and now is no exception. At the time of writing, the hottest stocks include Tesla, Nio and Palantir. The markets have just recovered from the Coronavirus Crash, the most devastating crash since 1929, and both the S&amp;P and NASDAQ are hitting new highs.</p> <p>Should you rush in and buy? Or wait for the hype to tide over?</p> <p>\"For fools rush in where angels fear to tread.\" -Alexander Pope, 1711</p> <p>Over the last few years I've read investment books, discussed the markets with other speculators, and tried my hand at investing from vanilla stocks, to ETFs (both index and exotic), fixed income (think bonds and T-bills), derivatives including options<sup>1</sup> and futures. I studied technical analysis, from candlestick patterns to resistance/support charting and technical indicators. </p> <p>Sadly, nobody teaches you investing in school (unless you're studying finance).</p> <p>I went the long way round, both chronologically and financially, to learn investing.</p> <p>You don't have to, if you start with the right books and perspectives.</p> <p>Investors can be classified into one of 4 groups<sup>2</sup>:</p> <ol> <li>You believe you can pick winning stocks at the right time</li> <li>You believe you can pick winning stocks, but not timing the market</li> <li>You don't believe you can pick winning stocks, but you believe timing the market as a whole is possible</li> <li>You don't believe you can pick winning stocks OR time the market</li> </ol> <p>I'm strongly for 4. And this is because:</p> <ul> <li>The average investor performs worse than inflation.<sup>3</sup> </li> <li>The professionals don't fare well either. Mutual funds, run by quants on Wall Street, do no better - 7.53% vs the Russell 3000 Index (a broad market index)'s 8.42% return, compared over 20 years.<sup>4</sup></li> <li>The market is very nearly efficient. New information is reflected almost instantaneously in stock prices. If people believe a stock to be worth $100 tomorrow, it will be worth $100 today. There is very little chance you can buy or sell before the whole market beats you to it.</li> <li>Commissions and taxes. These may seem small, but for the active trader trying to beat the market it can add up.<sup>5</sup></li> <li>The invention of derivatives, a product sensitive to timing and direction, has only served to burn more dollars off investors. In fact, these products were responsible for the 2009 financial crisis.</li> </ul> The stock market has always recovered <p>In short, I believe in buying the entire market, aka broad-based, index investing. And the best time for that is, and has always been, now.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#the-investible-universe","title":"The Investible Universe","text":"<p>Now, before you even make an account, it's important to know what assets you can invest in. And it's not just stocks.</p> <p>Broadly speaking, the types of products available for investment are equities, fixed-income products, real estate, commodities and derivatives.</p> <p>I don't consider insurance products like ILPs or whole life plans as investments<sup>6</sup>.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#equities-aka-stocks","title":"Equities (aka stocks)","text":"Cumulative return of the S&amp;P 500, a US market index <p>Stocks represent assets of a company that investors can purchase. Note that in the event of liquidation, bondholders will be paid before shareholders. As a stock-owner, you are entitled to receiving dividends (i.e. when a stock goes 'ex-dividend').</p> <p>But what if you want to buy not just a few stocks, but 100? 1000? The entire US market?</p> <p>This is possible with the advent of the exchange-traded fund (ETF). It is essentially a fund which invests the shareholders' monies into a basket of securities. For example, the SPY tracks the S&amp;P 500, an index tracking the performance of 500 large companies in the US. ETFs not only track indices - you can buy ETFs specializing in pharmaceutical products or almost anything else as well. As they are listed on an exchange, ETFs are also subject to regulation<sup>7</sup>.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#fixed-income-securities-aka-bonds","title":"Fixed-Income Securities (aka bonds)","text":"Historical Federal Reserve Interest Rates <p>A bond is a loan. By buying a bond, the bearer is obligated to pay you a certain interest rate for the period of the bond (up till the 'maturity date', upon which you receive your initial capital). This is related to the risk of default. Thus, one would expect bonds from governments to pay the least, while those from companies with questionable financial statements to pay more.</p> <p>Bonds can get complicated - there are the vanilla fixed coupon bonds, discount bonds, inflation-protected securities and convertible bonds to name a few. Nontheless, certain basic principles apply.</p> <p>The key risks in buying bonds are interest rate risk<sup>8</sup> (just look at the chart above<sup>9</sup>) and credit risk. Callable bonds have their own risk - call risk<sup>10</sup>.</p> <p>Historically, during periods of market uncertainty, investors have flocked to bonds as they maintain relative stability compared to equities.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#real-estate","title":"Real Estate","text":"<p>In the past, the only way to gain exposure to the property sector was to buy physical property in your own name.</p> <p>Now, you can buy property via several property ETFs, some of which are global<sup>11</sup>. Alternatively, one can buy Real Estate Investment Trusts (REITS), which are companies that own or operate real estate. Local examples include Mapletree North Asia Commercial Trust and Ascendas Reit.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#commodities","title":"Commodities","text":"Oil prices turn negative for the first time ever on 20 Apr 2020 <p>These refer to physical goods such as corn, soybean, oil and cattle. You can buy gold and silver too - either in the form of ETFs, futures or the actual physical metal.</p> <p>Investing purely in commodities is highly speculative and leveraged, as they trade on margin. You can watch James Cordier of Optionsellers.com's famous apology as an example of what not to do with your clients' money.</p> <p>However, commodities do have a diversification effect when added to a balanced portfolio. For example, gold is known to remain stable or even rise during economic crises.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#derivatives","title":"Derivatives","text":"Payoff for a strangle on crude oil <p>Derivatives include futures and options, as well as structured products e.g. equity linked notes (ELNs). There are more exotic products such as Asian options, digital options, options on futures, interest rate swaps and swaptions. These can be combined in complicated ways, such as the strangle<sup>12</sup> shown above. Fundamentally, they derive their value from the movement of some underlying product (hence the term derivative).</p> <p>I would recommend staying very far from this category if you are a new investor. Unlike stocks or bonds, you can lose (and earn) much more than your initial investment (due to leverage).</p> <p>Now that you know what you can buy, let's see how you can buy.</p>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#your-broker","title":"Your Broker","text":"<p>A broker is the intermediary company which does the purchasing of the investments for you on an exchange. By and large, most investors do not own shares in their own name - their broker acts as their custodian. This is the only way Singaporeans can buy shares listed in the US or foreign countries. For local shares, you can buy shares in your name with a Central Depository account - which means you get voting rights, invitations to the annual general meetings etc.<sup>13</sup></p> <p>I recommend sticking with a custodian account, because</p> <ul> <li>Fees are cheaper</li> <li>You can invest in overseas markets</li> </ul> <p>Assuming you are more interested in the overseas (i.e. US) market<sup>14</sup>, here are some brokers you can consider:</p> <ul> <li>Interactive Brokers<sup>15</sup> (I use this) </li> <li>Saxobank</li> <li>TD Ameritrade</li> <li>POEMS (local)</li> <li>DBS Vickers (local)<sup>16</sup></li> </ul> <p>Some factors you may want to consider are:</p> <ul> <li>Commissions</li> <li>Custody fees<sup>17</sup></li> <li>Ease of use</li> <li>Mobile application</li> <li>Products available</li> <li>Investment restrictions<sup>18</sup></li> </ul> <p>Worried about losing your money if the broker goes bust? Fret not:</p> <ul> <li>US brokers are protected by the SIPC, up to $500,000</li> <li>Locally, bank deposits are insured for up to $75,000<sup>19</sup> by the SDIC</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-11-30-getting-started-with-investing/#epilogue","title":"Epilogue","text":"<p>Now that you have your account, it's time to trade!</p> <p>As you progress, you may want to consider reading deeper. Such topics include</p> <ul> <li>Asset allocation - how much to invest in stocks/bonds/commodities and why?</li> <li>Trade execution - What is a trailing stop loss? Why is the bid/ask spread so big? What is a liquidity crunch?</li> <li>Derivatives - although I mentioned to avoid them earlier, they make excellent tools for hedging a large equity position.<sup>20</sup></li> </ul> <p>If you haven't already, I recommend you look through some of the investment books I've marked as a general introduction. You'll find my other book recommendations there as well.</p> <p>Finally, if you spot any errors here, do let me know!</p> <ol> <li> <p>I love trading options. Iron condors, calendar spreads, ratio spreads, double diagonals, not just on stocks but on futures, heck, even on volatility itself (the VIX) - I've tried them. I mainly use options for hedging now.\u00a0\u21a9</p> </li> <li> <p>Adapted from Asset Allocation, by Roger Gibson\u00a0\u21a9</p> </li> <li> <p>JP Morgan's 1Q, 2014 Guide to the Markets\u00a0\u21a9</p> </li> <li> <p>A Random Walk Down Wall Street by Burton G. Malkiel\u00a0\u21a9</p> </li> <li> <p>'Enough' by John C. Bogle puts forth a poignant argument against the entire brokerage and ETF industry's fees and commissions.\u00a0\u21a9</p> </li> <li> <p>I don't consider them investments because insurance is for protection - you shouldn't hope to 'earn' on them. Furthermore, ILPs simply invest in the market but with much higher commissions and caps on profits. You'd be better off just buying the ETFs yourself from a broker.\u00a0\u21a9</p> </li> <li> <p>The SEC sets limits on the use of leverage and transactions. ETFs are also required to conform to specific reporting requirements as well as oversight by boards of directors. See here.\u00a0\u21a9</p> </li> <li> <p>The risk that when interest rates rise after you buy a bond. This will cause the market value of the bond to decrease. Note however, that if you hold the bond to maturity, you will still receive your initial capital plus interest back.\u00a0\u21a9</p> </li> <li> <p>This is the target interest rate set by the Federal Open Market Committee at which commercial banks charge each other on overnight lending. It is a large driver of other interest rates in general, such as the prime rate.\u00a0\u21a9</p> </li> <li> <p>The risk that a bond issuer may choose to buy back the bond prior to maturity, ceasing the stream of interest payments.\u00a0\u21a9</p> </li> <li> <p>E.g. iShares Developed Markets Property Yield (DPYA), which invests in real estate companies and REITS from developed countries.\u00a0\u21a9</p> </li> <li> <p>A type of option strategy where one buys an out-of-the-money call and put. Maximum profit is gained when the underlying moves significantly in one direction.\u00a0\u21a9</p> </li> <li> <p>See here for a comparison between CDP and custodian accounts.\u00a0\u21a9</p> </li> <li> <p>The Straits Times Index has lagged the S&amp;P 500 for decades. See here for other reasons.\u00a0\u21a9</p> </li> <li> <p>Commissions are miniscule and the platform allows you to buy almost any product under the sun. The interface may appear a bit intimidating initially but you'll learn to appreciate it.\u00a0\u21a9</p> </li> <li> <p>Note the commissions: $25 per trade last I checked.\u00a0\u21a9</p> </li> <li> <p>Aka yearly fees for holding your stock. Not all brokers have this.\u00a0\u21a9</p> </li> <li> <p>E.g. IB does not allow Singaporeans to buy SGX listed equities.\u00a0\u21a9</p> </li> <li> <p>It is a tad disappointing that our local banks have lower bank guarantees than the US.\u00a0\u21a9</p> </li> <li> <p>Personally, I use a 1.1 diagonal put ratio spread (1 year long, 3 months short) for hedging my equities (the beta-weighted amount). The Options Edge by Michael C. Khouw provides a great introduction to this hedging strategy.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/","title":"Asset Allocation<sup>1</sup>","text":"<p>There are approximately 41,000 listed companies around the world. This number doesn't even begin to include the even larger market of derivatives based on these companies.</p> <p>With so many choices, how do people decide what asset classes to buy, and how many % to allocate to each?</p> <p>Why not just put everything in stocks (e.g. the S&amp;P 500)?</p> <p>To answer this question, we need to understand volatility, risk and diversification.</p> <p>You may also want to read about my investment portfolio.</p>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#volatility","title":"Volatility","text":"<p>Intuitively, volatility can be thought of as how much a stock or bond moves during a period (the standard deviation). Here's a simple visualization.</p> <p></p> <p>In the chart above (the S&amp;P 500), the average volatility prior to Mar 2020 hovered around 13%<sup>2</sup>. This shot up to a high of 75% during the Coronavirus crisis.</p> <p>Note a few caveats:</p> <ul> <li>High volatility per se does not imply a high return and vice versa. A stock which is strongly trending can have a low volatility. This is represented in the first half of the chart above - the S&amp;P climbed from 3,100 to 3,400 in 3 months (a 46% return, annualized) - but volatility remained constant.</li> <li>Conversely, a stock can fluctuate wildly around its average but have high volatility. </li> </ul> <p>Exposing yourself to high volatility without corresponding high return is not a good idea.</p> <p>When comparing assets with equal returns, you should prefer the less volatile asset.</p>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#risk","title":"Risk","text":"<p>Investment always involves risk, without exception<sup>4</sup>. Such risk can be broken down as follows:</p> <ul> <li>Systemic (market) risk - e.g. COVID-19, the Asian Financial Crisis</li> <li>Sector risk - e.g. the oil industry being affected by a demand drop</li> <li>Company risk - corporate fraud, failed products</li> <li>Credit risk - risk of default</li> <li>Inflation</li> <li>Exchange rate risk</li> <li>Interest rate risk</li> </ul> <p>Investors are compensated for taking risk<sup>5</sup>. This is a fundamental principle.</p> <p>Imagine that the government is offering bonds paying 2% p.a. A small startup, XYZ Co., wants to issue bonds to investors to raise capital. Now, unlike the government, XYZ Co. has a risk of defaulting. Therefore, you would only consider buying XYZ Co.'s bonds if the interest rate was higher than 2% (or even more depending on the companies' perceived credit worthiness). This is the reason why corporate bonds pay better than government bonds.</p> <p>Fortunately, some of the risks above can be reduced with diversification.</p>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#diversification","title":"Diversification","text":"<p>Diversification means buying products from different classes and sectors to reduce exposure to any single company or risk<sup>6</sup>.</p> <p>When you do so, you can reduce certain classes of risk. Here's an example.</p> <p>If you buy stock from a single company, say Microsoft (MSFT), you are exposed to systemic, sector, company and credit risks.</p> <p>However, if you buy a technology-based ETF e.g. ARK Next Generation Internet ETF (ARKW), you are no longer exposed to the risk of a single technological company going bankrupt. You are, however, still exposed to the risk that the technological sector declines<sup>7</sup>.</p> <p>If you want to reduce sector risk, you might decide to buy the SPDR S&amp;P 500 ETF Trust (SPY), an ETF based on the largest 500 companies in the US. Now, you are left with systemic risk, which is non-diversifiable.</p> <p>Diversification also increases return and reduces volatility.</p> <p>One surprising result that I read<sup>3</sup>, was that investors can actually earn more by buying a combination of negatively or poorly correlated volatile investments, as compared to buying just either investment.</p> <p>Here's an example.</p> <p>Investments A and B are two hypothetical assets. They have a simple average return of 10% p.a., but they are both volatile, returning 40% p.a. and -20% p.a. in alternating years. They are also perfectly negatively correlated, meaning that when asset A is rising, asset B is falling and vice versa.</p> <p></p> <p>After 10 years, the total return is 76%.</p> <p>Now let's introduce investment AB, which is a portfolio consisting of 50% investment A and 50% investment B, rebalanced annually.</p> <p>What do you think the return will be?</p> <p></p> <p>After 10 years, the total return of the combined portfolio is 159%. This is higher than the constituents.</p> <p>Another thing - the volatility of the combined portfolio is lower than either investment A or B alone.</p> <p>These phenomena occur because during the years where investment A does poorly, rebalancing the portfolio results in a greater proportion of investment A. When investment A subsequently picks up, the portfolio rises as well.</p> <p>This effect is stronger the more negatively correlated the investments are<sup>8</sup>.</p> <p>This is why it isn't a good idea to put 100% of your portfolio in a single asset class (e.g. stocks).</p> <p>Diversification gets even stranger - in fact, just rebalancing a portfolio consisting of two uncorrelated assets with zero expected return can generate positive return. This is due to the process of rebalancing reducing a factor known as 'volatility drag'.</p> <p>In short - diversification increases return, and reduces volatility plus risk, all of which are desirable characteristics of a portfolio.</p>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#historical-returns","title":"Historical Returns","text":"<p>Now that we've reviewed the key concepts of volatility, risk and diversification, let's look at some data.</p> <p>Here are the historical return of various asset classes<sup>9</sup>:</p> Asset Value of $1, invested in 1925 Annualized Return since 1925 Inflation $10.98 3.0% Treasury Bills $18.40 3.7% Long-Term Government Bonds $70.85 5.5% Large Company Stocks $2,657.56 10.4% Small Company Stocks $13,706.15 12.6% <p>Visually<sup>10</sup>:</p> Cumulative real return of asset categories from 1959-2017 <p>A few observations:</p> <ul> <li>Treasury bills were a poor long-term investment, with most of the returns eaten away by inflation. This is also the reason why investing purely in bonds is not safe - you will lose to inflation.</li> <li>Equities in general outperformed the other asset classes</li> <li>Although the annualized return for small company stocks was only 2.2% higher than large company stocks, the overall return was 5.15x higher. This illustrates the power of compound interest<sup>11</sup>.</li> </ul> <p>Should we invest everything in small company stocks then?</p> <p>No! As mentioned in Diversification, it is important to review the correlations between assets.</p> <p></p> <p>In this chart<sup>12</sup>, a correlation of 1.00 indicates perfectly positive correlation (meaning that when one asset rises, so does the other and vice versa.) and -1.00 indicates perfectly negative correlation</p> <p>A value of 0 indicates no correlation.</p> <p>Remember, in diversification we want to choose as poorly correlated assets as possible, for the greatest effect.</p> <p>From this chart we can see that</p> <ul> <li>Equities and real estate are rather correlated (0.73)</li> <li>Equities were the least correlated to commodities (-0.04)</li> <li>Stocks and bonds were somewhat correlated, more with nongovernment bonds (0.52) than government bonds (0.27)</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#portfolio-creation","title":"Portfolio Creation","text":"<p>Now, we know we have to own equities, bonds, commodities and real estate for the benefits of diversification. But in what percentage?</p> <p>The full answer is mathematically involved. We shall explore it briefly.</p> <p></p> <p>The chart above<sup>13</sup> plots return against volatility for a porfolio consisting of stocks and bonds<sup>14</sup>.</p> <p>Note that as the composition of the portfolio shifts, the return and volatility change. Initially, return increases while volatility decreases, up to a certain point.</p> <p>That point represents the portfolio with the lowest possible risk - due to diversification.</p> <p>We can run computer simulations<sup>15</sup> on a basket of assets to determine the mathematically optimal allocation. However, the inputs to the computer models - namely expected return and standard deviation, are themselves unknown on a year-by-year basis.</p> <p>Fortunately, the same data has shown that diversified portfolios with different allocations have performed very similarly.</p> <p>In other words, the exact allocation is not important.</p> <p>That being said however, I wouldn't jump into a 100% stock or commodity portfolio. Some observations:</p> <ul> <li>Stocks and real estate perform similarly to each other</li> <li>Bonds tend to be the least volatile, compared with equities and commodities</li> <li>Commodities are negatively correlated to equities, but they have had the lowest compound annual return, so you wouldn't want too much in these</li> </ul> <p>You must also consider personal factors:</p> <ul> <li>Your own risk appetite - what is the maximum drawdown (aka loss at a point in time) you are willing to bear?</li> <li>Are you planning to retire?</li> <li>Your job stability</li> <li>Whether you have dependents and need a large, fixed sum in the future for school fees</li> </ul> <p>If you like rules, here are some:</p> <ul> <li>Keep your age (in percentage) in bonds, and the rest in stocks (John C. Bogle)</li> <li>Hold no more than 80% of your assets in stocks/equities</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2020-12-02-asset-allocation/#conclusion","title":"Conclusion","text":"<p>You can see my asset allocation here for ideas.</p> <p>The earlier you start, the faster the magic of compound interest can begin. The road goes ever on and on<sup>16</sup>, and so shall your journey into the world of investing. Nothing worthwhile is ever easy. </p> <p>I hope you enjoyed reading this article as much as I did writing it. Do drop me a mail if you have questions!</p> <ol> <li> <p>Much of the material here is adapted from my readings of:</p> <ul> <li>A Random Walk Down Wall Street, by Burton G. Malkiel</li> <li>The Bogleheads' Guide to Investing, by Taylor Larimore, Mel Lindauer, Michael LeBoeuf</li> <li>Asset Allocation, by Roger Gibson</li> </ul> <p>\u21a9</p> </li> <li> <p>To be exact, this is the volatility as measured by the VIX, a market index measuring the implied volatility of options on the S&amp;P 500.\u00a0\u21a9</p> </li> <li> <p>Described in Chapter 7 of Asset Allocation, by Roger Gibson\u00a0\u21a9</p> </li> <li> <p>Sadly, keeping your money under your pillow still bears the risk of misappropriation and inflation.\u00a0\u21a9</p> </li> <li> <p>The risk premium for equities can be calculated using the Capital Asset Pricing Model (of course, with assumptions). Uniquely for equities, the Fama-French Three Factor Model posits that the only risk premiums affecting return are:</p> <ul> <li>Market-risk premium (investing in stocks)</li> <li>Size premium (investing in small companies, which could go bust easily)</li> <li>Value premium (investing in companies which are 'cheap' relative to their earnings)</li> </ul> <p>\u21a9</p> </li> <li> <p>Technically speaking, one can only reduce diversifiable risk (sector, company, credit risks.) Non diversifiable risk includes systemic risk. While one cannot 'diversify away' such risks, time is your friend here - the market has, and will, rebound from all systemic crises.\u00a0\u21a9</p> </li> <li> <p>E.g. people waking up one day and realizing 'AI' ain't what it claims to be. Google Assistant cannot answer questions a 7 year old kid can, such as 'If I have 2 marbles in my left hand and 3 in my right, how many marbles do I have?'.\u00a0\u21a9</p> </li> <li> <p>In reality, no assets exist with perfectly negative correlation.\u00a0\u21a9</p> </li> <li> <p>Adapted from Asset Allocation, by Roger Gibson. This paper also compares historical return over various asset classes since 1960.\u00a0\u21a9</p> </li> <li> <p>Source. \u21a9</p> </li> <li> <p>The 8th wonder of the world. A helpful calculator is available.\u00a0\u21a9</p> </li> <li> <p>Source. \u21a9</p> </li> <li> <p>Source.\u00a0\u21a9</p> </li> <li> <p>This chart is known as the efficient frontier. Mathematically speaking, the line contains the set of all efficient portfolios, that is, these portfolios that have the minimum risk for a given level of return. Inefficient portfolios are not represented in this graph, but visually they would lie within the hyperbola. This is a consequence of Modern Portfolio Theory, formulated by Harry Markowitz, winner of the Nobel Prize in Economics for this same discovery.\u00a0\u21a9</p> </li> <li> <p>The technically minded can consider reading Efficient Asset Management, by Richard O. Michaud for a more in-depth journey and critique of mean-variance optimization.\u00a0\u21a9</p> </li> <li> <p>From Lord of the Rings.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/","title":"My Investment Portfolio","text":"<p>This is my current portfolio allocation as of 2/6/21.</p> % Product<sup>1</sup> (Ticker on LSE) 50% iShares MSCI ACWI UCITS ETF (ISAC) 30% iShares MSCI World Small Cap UCITS ETF (WSML) 10% iShares Developed Markets Property Yield UCITS ETF (DPYA) 10% iShares Core Global Aggregate Bond UCITS ETF (AGGU) <p>As I've emphasized throughout this site, I don't pick individual stocks, nor actively trade. Such activity, to me, is likely to lead to loss.</p> <p>These are the reasons for my own portfolio allocation above.</p> <ul> <li>As I am still working, the bulk return of my portfolio comes from equities. I am comfortable bearing the drawdown risk.</li> <li>For equities, I buy both an ETF investing in large and mid-cap companies globally across both emerging and developed markets (ISAC), and another in small-cap companies, also globally (WSML).</li> <li>I buy some bonds for the diversification effect. As interest rates are low now (2020), I have reduced the allocation to bond ETFs. I plan to increase this as I grow older.</li> <li>I am planning to buy a commodity ETF e.g. one tracking the GSCI.</li> <li>For the portfolio detailed at the start of this post, my risk exposures are<ul> <li>80% equities (of which 50% are large- and mid-cap companies globally, and 30% small-cap)</li> <li>10% global property (in the form of real estate investment trust ETFs)</li> <li>10% bonds (international denominated bonds)</li> </ul> </li> </ul>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#faq","title":"FAQ","text":"","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-are-all-your-etfs-dormiciled-in-ireland-what-does-ucits-mean","title":"Why are all your ETFs dormiciled in Ireland? What does UCITS mean?","text":"<p>The main reasons are to save on witholding tax on dividends (15% vs 30%), and estate duty. Bogleheads has a great explanation. Note: this only applies if you're not a US investor.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-consider-high-yield-short-duration-bonds-eg-sdha","title":"Why not consider high yield, short duration bonds e.g. SDHA?","text":"<p>High yield, short duration bonds perform remarkably similar to equities (they lack the traditional stability associated with bonds). I would rather invest more in equities than in these or junk bonds.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-isac-wsml-and-not-iwda-cspx-or-vwra","title":"Why ISAC + WSML and not IWDA + CSPX or VWRA?","text":"<p>See this post.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-isac-over-vwra","title":"Why ISAC over VWRA?","text":"<p>See this post.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-imid-this-includes-small-to-large-cap-stocks-across-developing-and-developed-markets","title":"Why not IMID? This includes small to large-cap stocks across developing AND developed markets!","text":"<p>See this post.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#how-often-to-rebalance-the-portfolio","title":"How often to rebalance the portfolio?","text":"<p>A very good, mathematically accurate answer I read<sup>2</sup> suggests that you should rebalance at most once a year. That is what I do. In terms of adding cash into the portfolio however, I add once I have a suitable amount, to make the cost of transaction fees minimal.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#how-much-can-i-withdraw-a-year-without-losing-all-of-my-principal","title":"How much can I withdraw a year, without losing all of my principal?","text":"<p>4% of the total portfolio value per annum, assuming a portfolio invested in stocks and bonds<sup>3</sup>. Withdrawing more than 4% p.a. will make the portfolio go to $0 eventually.</p> <p></p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#should-i-hedge-against-foreign-currency-risk","title":"Should I hedge against foreign currency risk?","text":"<p>This is controversial, but essentially if you are looking at the long term, currency hedging has little to no impact on your portfolio.<sup>4</sup></p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-not-put-more-into-cpf-instead-eg-sa-sa-shielding","title":"Why not put more into CPF instead? E.g. SA (SA shielding)?","text":"<p>The main idea behind using CPF as an investment vehicle (1M65 etc) is to reap the 4% p.a. guaranteed return from the SA account. I firmly believe that over the course of a long investment horizon, such as 20 years, investment into the global markets can and will yield much better results than 4% p.a. (about 10% p.a. in fact). $1000 invested at 4% p.a. is worth $2191 in 20 years. But with an interest rate of 10% p.a. compounded, you'd have $6727 instead.     - That being said, if you have a shorter investment horizon and plan to use your funds soon, investing in the SA (or the RA) could be part of your portfolio.</p>","tags":["Finance"]},{"location":"blog-posts/2021-01-16-my-investment-portfolio/#why-is-insurance-eg-whole-life-insurance-not-part-of-the-portfolio","title":"Why is insurance (e.g. whole-life insurance) not part of the portfolio?","text":"<p>Insurance is not investment.. The returns from a whole life policy are much lower than even CPF (SA account earns 4% guaranteed interest, while most whole-life plans have a floor interest rate of 2% p.a.). Rather, one buys insurance as a hedge against adverse events which may cause you to need the money earlier, such as disability or illness. For most working adults with dependents, term life insurance is sufficient.</p> <ol> <li> <p>If you're wondering why I buy so many ETFs from iShares, it's because they boast one of the lowest expense ratios (an annual fee charged by the ETF managers). Alternative ETF providers include SSGA and Vanguard.\u00a0\u21a9</p> </li> <li> <p>From 'The Intelligent Asset Allocator'. Stock returns exhibit autocorrelation (that is, future returns are affected by past returns) over short time periods (e.g. days to months). If you were to rebalance during such a period where the autocorrelation is positive, you would lose money as you would be selling the rising asset too soon.\u00a0\u21a9</p> </li> <li> <p>From 'The Intelligent Asset Allocator'. While the real, inflation-adjusted return of your portfolio may be more than 4% p.a., there are years where your portfolio may earn less than this and vice versa. Based on historical data, a withdrawal rate of more than 4% p.a. has quite a high probability of draining the entire portfolio during a string of years with poor returns. With a 4% or lower withdrawal rate, the portfolio theoretically can be sustained nearly indefinitely. Contrast this to CPF ;)\u00a0\u21a9</p> </li> <li> <p>The Intelligent Asset Allocator, pg 142.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2021-03-19-life-insurance/","title":"Life Insurance","text":"<p>I am a strong proponent of term life insurance.</p> <p>In this post, I go against the common wisdom of 'getting your money back'<sup>1</sup> and refute common arguments for whole life insurance. I propose, and defend, my recommendation to buy term life + critical illness coverage.</p> <p>Of note, a good comparison of insurance policies can be found on comparefirst.sg.</p> Finally, I can check premiums without calling 10 agents <p>Update (Apr 2021): MoneyOwl is a service which independently assesses policies across insurance companies for you, and rebates you up to 50% of the commission they receive (of what your agent would normally get).</p>","tags":["Insurance"]},{"location":"blog-posts/2021-03-19-life-insurance/#term-life-offers-the-same-protection-for-a-lower-cost","title":"Term Life offers the same protection for a lower cost","text":"<p>This is the single most important reason.</p> <p>Let's look at the premiums for a 27-year, male non-smoker, sum assured $300,000<sup>2</sup>.</p> <p>For the sake of comparison:</p> <ul> <li>there is no 'multiplier' component on the whole life (note: a 'multiplier' is essentially term insurance<sup>3</sup>)</li> <li>the premium term for the whole life is until 80, for easier comparison with the term life</li> <li>I chose the lower-mid quotes for each on comparefirst.sg</li> </ul> Type Annual Premium Premium Term Total Premium Term Life till 75 $540 48 $25,680 Whole Life $4,761 52 $247,572 <p>The term life is nearly 90% cheaper than the whole life, for the same coverage. You can invest the extra $221,892 yourself.</p> <p>Another interesting effect: With inflation, the premiums you pay later on, actually become cheaper<sup>4</sup>. The rational individual should therefore prefer to pay over a longer period of time<sup>7</sup>.</p> <p>Also, some term life policies are convertible, meaning you have the guaranteed option to switch to a whole life policy before a certain age (usually 65).</p>","tags":["Insurance"]},{"location":"blog-posts/2021-03-19-life-insurance/#common-arguments-for-whole-life","title":"Common Arguments for Whole Life","text":"<p>Q: But I will definitely get my money back for the whole life plan!</p> <p>A: Yes, but is it really worth paying 10 times more for that privilege? You could have invested in property, or paid for your children's education with the money you have saved. Don't forget - even if you get your money back, it's already worth less because of inflation<sup>4</sup>. $100 now is worth more than $100 in the future.</p> <p>Q: How about the annual bonuses that the insurance company is offering? 3.75% is a lot!</p> <p>A: Firstly, the bonuses are not guaranteed. Secondly, the bonus rates are significantly lower than what you can get from broad-based index investing - $100 compounded for 10 years at 3.75% is $144.59, while at 8% (US stock historical return) it is $215.89. You'd be better off buying a term life policy and investing the rest yourself.</p> <p>If you don't think you can invest, put it all into CPF. The SA (Special Account) interest of 4%++pa/yr beats nearly all whole life plans in the market. In fact, just by having $130K in CPF by your early 30s, you could have $1,000,000 in CPF by 65<sup>6</sup>.</p> <p>Q: The coverage for term life ends at 75! What happens if I die after that? I get nothing!</p> <p>A: This is one of the biggest misconceptions with insurance. Insurance isn't an investment. It's meant to cover you in the unlikely event a major catastrophe befalls you when you're still building up your nest egg, or when you have dependents. Think about it - if insurance were a surefire way to earn money, how would the insurance companies profit? They're not running a charity.</p> <p>I chose 75 to be the cover end date for the term policy, as that is when you should be financially independent, and no longer have any dependents or liabilities. Which brings me to...</p> <p>Q: If term insurance is so good, why not I buy it till 100? Isn't that a sure-earn? I only need to pay $200K total for $1M coverage! </p> <p>A: Again, insurance isn't an investment. While there are some people pushing it, it is important to note that unlike a traditional investment, you:</p> <ul> <li>cannot 'withdraw' money if you need it</li> <li>cannot use the sum assured for collateral (e.g. to buy property)</li> <li>have to continually pay premium, or the policy will lapse</li> </ul> <p>If you want to use it for inheritance, fine<sup>5</sup>. Otherwise, stick to a proper investment plan.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-03-19-life-insurance/#other-faq","title":"Other FAQ","text":"<p>Q: Are there really no benefits to whole life then? Surely it can't be that bad?</p> <p>A: A whole life policy can be a way for the less disciplined to set aside money each year. Additionally, if you pay over a shorter premium term e.g. 10/15 years, you do not have to pay anything after, unlike the term life. Also, as you will get the sum assured (plus bonuses) upon death, it can be a way to provide inheritance for your children.</p> <p>Of course, the same can be done with term life + an investment strategy.</p> <p>Q: How about critical illness (CI) coverage? Is it worth it?</p> <p>A: Yes. CI coverage covers against cancer, stroke, heart attack and other serious diseases<sup>8</sup> which, if they don't kill you outright, can leave you unable to work. Buying a CI rider will accelerate<sup>10</sup> the sum assured in the event of diagnosis of one of these illnesses, helping to cover you when you are unable to work.</p> <p>Note: This is NOT the same as hospitalization insurance (shield plans). Hospitalization insurance pays for the cost of treatment and surgery. After you leave the hospital, you're on your own. CI coverage is to help defray your living costs due to lack of income.</p> <p>Q: Should I buy Early Critical Illness (ECI) cover?</p> <p>A: This is a topic I am currently considering and researching myself. The additional coverage is nice to have considering the standard critical illness definitions are becoming stricter. However, unlike the standard CI definitions, ECI definitions are not standard and vary by insurance company<sup>9</sup>. Nontheless, covering a smaller sum, say $200,000 can be an option.</p> <p>Q: How much insurance should I buy?</p> <p>A: My personal ideology is to cover approximately 10 years of your income, or $1M, whichever is less. Otherwise, you can go with the traditional methods of calculating your assets and liabilities. It is better to over-buy than under-buy (within reason).</p> <p>Q: Shouldn't I wait until I have dependents before buying insurance?</p> <p>A: Premiums are cheaper overall the earlier you buy. For example, for a sum assured of $300,000, if you were to buy term insurance for 50 years (till 75) when you are 25, you would pay $28,425 total in premiums. However, if you were to buy term insurance for 35 years (till 75) when you are 40, you would pay $33,784 total in premiums.</p> <ol> <li> <p>Wasn't that the main reason you were going to buy whole life insurance? :)\u00a0\u21a9</p> </li> <li> <p>comparefirst.sg \u21a9</p> </li> <li> <p>Mathematically speaking, a multiplier component on a whole-life policy is equivalent to purchasing an additional term insurance over the same duration. For example, a $100,000 whole life policy with a 2x multiplier up to 75, is equivalent to buying the basic $100,000 whole life policy and then buying another $100,000 term insurance till 75.\u00a0\u21a9</p> </li> <li> <p>The median inflation rate for Singapore was 1.72%pa from 1961-2021 (source). At this rate, $100 now will be worth $84, 10 years in the future.\u00a0\u21a9\u21a9</p> </li> <li> <p>Do note there is a 'risk' that you will live beyond 100 and thus not get your payout - around 4%, to be exact.\u00a0\u21a9</p> </li> <li> <p>1M65 \u21a9</p> </li> <li> <p>To be exact, you could calculate the total inflation-adjusted premiums for term and whole life for a more accurate comparison.\u00a0\u21a9</p> </li> <li> <p>The standard definitions of 37 critical illnesses can be found here. The definitions have become stricter over time, e.g. a lot of early cancers are excluded, so it helps to buy your policy earlier while you can.\u00a0\u21a9</p> </li> <li> <p>For example, under early stage cancer, HSBC covers neuroendocrine tumours and bone marrow malignancies, while Prudential does not.\u00a0\u21a9</p> </li> <li> <p>The term 'accelerate' means that the sum assured is paid out earlier, based on the terms of the rider. It is in effect 'accelerated'.\u00a0\u21a9</p> </li> </ol>","tags":["Insurance"]},{"location":"blog-posts/2021-04-15-python-package-management-windows/","title":"Python Package Management on Windows","text":"","tags":["Programming"]},{"location":"blog-posts/2021-04-15-python-package-management-windows/#update-171121","title":"Update 17/11/21","text":"<p>I now use WSL2 containers in VSCode. Additionally, I use <code>requirements.txt</code> files generated with:</p> <p><code>pip list --format freeze --not-required</code></p> <p><code>--not-required</code> ensures only top-level packages are printed.</p> <p>In addition, I use <code>== X.Y.*</code> (aka compatible version specifiers) to pin the major and minor version of packages, while allowing for patch versions to be updated automatically each time the container is rebuilt. This prevents surprises during deployment (e.g. missing functionality in minor versions) while allowing bugfix versions to automatically be upgraded without hassle.</p>","tags":["Programming"]},{"location":"blog-posts/2021-04-15-python-package-management-windows/#the-state-of-python-package-management","title":"The State of Python Package Management","text":"<p>Python does not have good package management.</p> <p>Recently I was trying to update one of my Conda environments. After running <code>conda update --all</code> however, the environment crashed.</p> <p>This is not the only problem I have with Conda.</p> <ul> <li>Many python packages aren't available on Conda. For example, <code>broadlink</code></li> <li>Conda sometimes hosts outdated versions of packages vs pip, such as <code>pdfminer</code> (that was a real headache)</li> <li>Search is slow. Very slow.</li> <li><code>conda update --all</code> doesn't update pip packages...</li> </ul> <p></p> <p>That being said, Conda allows you to specify and manage Python itself as a dependency, which is great on Windows, as it prevents you from polluting the working environment.</p> <p>I started looking for alternatives. There's virtualenv, poetry, pyenv-win among others.</p> <p>I was previously using <code>pipenv</code>, but the dependency resolution wasn't perfect and I kept getting errors about unsatisfiable dependencies.</p> <p>So what's the best solution?</p>","tags":["Programming"]},{"location":"blog-posts/2021-04-15-python-package-management-windows/#poetry-chocolatey-to-the-rescue","title":"Poetry + Chocolatey to the rescue!","text":"<p>My setup:</p> <ul> <li>Chocolatey with <code>--sidebyside</code> to manage Python versions</li> <li>Poetry to manage Python packages under a specified Python version</li> </ul> <p>I decided to use Chocolatey to manage python versions, because I don't want to have to keep installing Python 3.8.9 or whatever again and again, just because PyTorch or OpenCV some library doesn't support 3.9.</p> <p>I set up a Python environment with Poetry using <code>poetry new &lt;project-name&gt;</code>.</p> <p>By default, the system python version is used (the one present in the <code>PATH</code>). However if you want to use another version, you can either do <code>poetry env use /full/path/to/python</code> or edit the <code>pyproject.toml</code> as follows, then run <code>poetry update</code> after:</p> <pre><code>[tool.poetry]\nname = \"poetry-demo\"\nversion = \"0.1.0\"\ndescription = \"\"\nauthors = [\"S\u00e9bastien Eustace &lt;sebastien@eustace.io&gt;\"]\n\n[tool.poetry.dependencies]\npython = \"3.8\"\n[tool.poetry.dev-dependencies]\npytest = \"^3.4\"\n</code></pre> <p>You can activate the poetry shell with <code>poetry shell</code>. Otherwise, some IDEs e.g. PyCharm do this for you automatically.</p> <p>You can add new packages with <code>poetry add &lt;package&gt;</code>.</p> <p>I know Chocolatey executes administrator-level code on your computer, but it works. I'll have to move to Linux one day, seeing as so many Python packages can't be built on Windows.</p>","tags":["Programming"]},{"location":"blog-posts/2021-04-15-python-package-management-windows/#automatic-dependency-generation","title":"Automatic Dependency Generation","text":"<p>Sometimes you might have a Python project with another dependency management framework, e.g. Conda or Pip.</p> <p>One day, you realize you need to distribute your project to your friend, but you don't have a list of dependencies.</p> <p>You could do <code>pip freeze</code>, but it's usually full of packages your project doesn't even use.</p> <p>Here's where automatic dependency generation comes in. Packages like <code>pipreqs</code> and <code>pigar</code> are able to analyze the source code of your project, and produce a <code>requirements.txt</code> automatically.</p> <p>As to which is the best, <code>pipreqs</code> or <code>pigar</code>, I've tried both, and <code>pipreqs</code> is better than <code>pigar</code> for automatically generating the requirements for your project.</p>","tags":["Programming"]},{"location":"blog-posts/2021-04-22-calculating-return/","title":"Calculating Return (work in progress)","text":"<p>Returns. The quintessential word we hear when evaluating a fund, looking at our CPF, or even when buying insurance (ill-advised).</p> <p>How do we actually calculate the return of our portfolio, when we add/withdraw funds from it over the course of time? Let's consider an example.</p> <p>On 1 Jan 2020, John invests $100. In Jun, the market went up and his portfolio is now worth $200. He invests another $100. By the next year, on 1 Jan 2021, the markets remained flat - leaving him with $300 in his account. What is his return?</p> <ul> <li>Surely, his return is not $300 - $100 = $200 (200%), because he invested $200 in total.</li> <li>Neither does it seem to be $300 - $200 = \\(100 (50%) - it is clear that between Jan 20 and Jun, he made a 100% return (\\)100 -&gt; $200)</li> <li>We know therefore his return should be between 50-200%, but what is it?</li> </ul> <p>There are two widely accepted ways to solve this problem, the Time - Weighted Rate of Return (TWRR), and the Money - Weighted Rate of Return (MWRR) (which is equivalent to the Internal Rate of Return, IRR).</p>","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#time-weighted-rate-of-return-twrr","title":"Time - Weighted Rate of Return (TWRR)","text":"<p>Formula</p> <ul> <li>The product of all returns for periods where money moves in/out of the portfolio </li> <li>insensitive to cash inflows/outflows (i.e., it is the return one would have got if they invested everything right at the start)</li> <li>requires valuation of the portfolio at each time point</li> <li>therefore better suited for portfolio managers, who cannot control inflows/outflows</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#money-weighted-rate-of-return-mwrr","title":"Money - Weighted Rate of Return (MWRR)","text":"<p>Also known as the Annualized Internal Rate of Return.</p> <p>Formula</p> <ul> <li>equivalent to the internal rate of return (for an investment, in this case your portfolio)</li> <li>assumes cashflow in each period is continuously invested in subsequent periods</li> <li>suitable if you are in control of the cashflows in/out of the portfolio</li> <li>does not require portfolio valuations at each calculation point</li> </ul> <p>https://oldschoolvalue-files.s3.amazonaws.com/premium/portfolio-performance-calculation-IB.pdf</p>","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#consider-taking-more-information-from-the-endowus-portfolio-page","title":"Consider taking more information from the Endowus Portfolio page","text":"","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#modified-dietz-rate-of-return","title":"Modified Dietz Rate of Return","text":"","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#simple-return","title":"Simple Return","text":"","tags":["Finance"]},{"location":"blog-posts/2021-04-22-calculating-return/#forex","title":"Forex","text":"<p>Forex can also erode one's gains. Take the following for example: (include forex example from Finance and Investing here)</p>","tags":["Finance"]},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/","title":"The Best Index Fund (or ETF)","text":"<p>I've been advocating for broad based, index investing if you follow my blog.</p> <p>But with so many options, which is the best?</p>","tags":["Finance"]},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#isac-wsml-iwda-cspx-and-vwra","title":"ISAC, WSML, IWDA, CSPX and VWRA","text":"<p>Let's look at how they compare. Take note of the expense ratio and fund size (this affects liquidity, or the bid/ask spread<sup>1</sup>).</p> As of 2021-06-02 CSPX ISAC IMID IWDA WSML VWRA Expense Ratio (%) 0.07 0.20 0.40 0.20 0.35 0.22 Fund Size 45B 2.4B 0.27B 36B 4.2B 2.6B Developed Large Cap Developed Mid Cap Developed Small Cap Emerging Large Cap Emerging Mid Cap Emerging Small Cap <p>I previously used the CSPX + IWDA combo, as ISAC had an expense ratio of 0.6% (I don't like anything above 0.5%). However, the expense ratio of ISAC has since dropped to 0.2%, making ISAC more attractive. ISAC includes mid and large-cap emerging market stocks, while the CSPX + IWDA combo does not. Also, ISAC does all this in 1 ETF, instead of 2.</p> <p>I combine ISAC together with WSML (expense ratio of 0.35%), to ensure I am invested globally in small to large-cap stocks across developing and emerging markets.</p> <p>While the ISAC + WSML combo does not include emerging small cap markets, to me this isn't a problem - I think emerging small caps are quite a gamble. That's my opinion.</p>","tags":["Finance"]},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#faq","title":"FAQ","text":"","tags":["Finance"]},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#why-isac-over-vwra","title":"Why ISAC over VWRA?","text":"<p>VWRA is a Vanguard fund dormiciled in Ireland, tracking the FTSE All-World index, an index covering large and mid-cap companies across developed and developing markets which claims to track 98% of the world investible market capitalization. The MSCI ACWI Index on the other hand, tracks 85% of the global investible set. Apart from some other minor differences, the MSCI and FTSE World indices are similar in that they include mid to large-cap stocks in developing and developed countries. I wouldn't fret over the differences too much. If you're already in ISAC, keep it. Otherwise, you can consider buying VWRA to begin with.</p>","tags":["Finance"]},{"location":"blog-posts/2021-06-08-which-is-the-best-index-fund-etf/#why-not-imid-this-includes-small-to-large-cap-stocks-across-developing-and-developed-markets","title":"Why not IMID? This includes small to large-cap stocks across developing AND developed markets!","text":"<p>The main reason is due to the small fund size at the moment (0.27B), and the higher expense ration (0.4%). Otherwise, it is an attractive option, being 1 ETF instead of 2.</p> <ol> <li> <p>This is the difference between the price you buy and sell at. Lower liquidity means this gap will be bigger.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/","title":"A comparison between Great Eastern's TotalCare Classic and Elite riders","text":"<p>On 2 Apr 2021, MOH announced that all new and existing Integrated Shield Plans (ISPs) would need to integrate a 5% co-payment feature. In other words, there will no longer be any riders covering 100% of your hospital bills. Part of the blame was laid upon increasing healthcare expenses and 'buffet syndrome', but that is also debatable.</p> <p>With this in mind, I decided to look at the Great Eastern's (GE) new riders.</p> <p></p> <p>Great Eastern offers 2 classes of riders on top of their base shield plan (GREAT SupremeHealth). These are called GREAT TotalCare Classic and Elite. They are available for all classes of the base shield plan, from B1 wards all the way to private hospitals<sup>3</sup>.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#medishield-life","title":"Medishield Life","text":"<p>ISPs and Medishield Life, the compulsory national health insurance we all have, require one to co-pay part of the bill, depending on the size.</p> <p></p> <p>This is known as 'co-insurance'.</p> <p>There is also a minimum amount you must pay on the base plan. This is the deductible<sup>1</sup>, and is independent of the bill size<sup>2</sup>.</p> <p>The main purpose of GE's riders is to cover the co-insurance amount and the deductible. Before 2 Apr, riders could cover 100% of this amount. Now, consumers must co-pay at least 5% of the total bill.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#how-do-they-differ","title":"How do they differ?","text":"<p>Let's start by looking at the similarities.</p> <p></p> <p>In terms of the special benefits such as ambulance services, home health care benefit and limits on payable benefit, they are identical across their classes. There is no difference here - a TotalCare Classic-P and an Elite-P plan have the exact same special benefits.</p> <p>So what's the difference? It's in how much co-payment they cover.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#b1-and-a-rider-comparison","title":"B1 and A rider comparison","text":"<p>These plans cover B1 to A class wards in restructured hospitals.</p> <p>The Classic-A and B plans (the lower tier ones) require you to pay the greater of $3000<sup>4</sup> or 5% of the total bill.</p> <p>In contrast, the Elite-A and B plans require you to pay only 5% of the total bill, regardless of the size.</p> Bill Size (B1 to A) $10,000 $60,000 $100,000 TotalCare Classic $3,000 $3,000 $5,000 TotalCare Elite $500 $3,000 $5,000 <p>For a large bill<sup>5</sup>, you'll pay the same amount. For smaller bills however, you'll co-pay less with the Elite plan.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#private-rider-comparison","title":"Private rider comparison","text":"<p>The situation is slightly different for the private riders.</p> <p></p> <p>Here, you'll fall into one of the two groups<sup>7</sup>:</p> <ul> <li>Group 1: Restructured hospitals and private hospitals with a certificate of pre-authorization<sup>8</sup> (only applicable for panel doctors)</li> <li>Group 2: Private hospitals without a certificate of pre-authorization</li> </ul> <p>If you fall into the first group, the Classic-P and Elite-P plans are identical - you only pay 5% of the total bill.</p> <p>Things are different if you are in the second group (without pre-authorization).</p> <p>On the Classic-P plan, you'd have to pay the greater of 5% of the total bill, or the deductible from the base plan (currently $3,500 for people younger than 80 years).</p> <p>On the Elite-P plan however, you only pay 5% of the total bill again.</p> Bill Size (Private) $10,000 $70,000 $100,000 TotalCare Classic $3,000 $3,500 $5,000 TotalCare Elite $500 $3,500 $5,000 <p>Again, for a large bill<sup>6</sup>, you'll pay the same amount, while for smaller bills, the Elite plan covers more.</p> <p>So should we get the Elite plan, since the coverage is more?</p> <p>Let's compare the prices of these plans.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#cost-comparison","title":"Cost comparison","text":"<p>Extra coverage must come at a price.</p> <p></p> <p>We can make some observations:</p> <ul> <li>The P- (or private) class of either plan is markedly more expensive than the A- or B- ones.</li> <li>The Elite plan is markedly more expensive than the Classic plan<ul> <li>For example, at 35 years, you'd be paying $377 more or 2.1x</li> <li>At 70 years, you'd be paying $2,796 more or 2.5x</li> </ul> </li> </ul> <p>We can also look at the total premiums one would pay for different lengths of time:</p> Total Premiums Paid Classic-P Elite-P Difference 20 to 50 years $11,420 $24,982 $13,562 20 to 74 years $43,872 $103,420 $59,548 <p>One might ask how often must each individual be hospitalized, to receive benefits exceeding the premium paid, over the period of 30 years?</p> <p>This is not easy to calculate. We would need to take the average hospital bill size, as well as the hospitalization rates for an individual, and then run them through a spreadsheet. (Work in progress)</p> <p>Note also, that GE has introduced a claims-based pricing mechanic. I won't go into detail here, but suffice to say, your premiums increase the more times you are admitted, up to 2.5x the standard amount.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-18-ge-totalcare-comparison/#which-plan-is-better","title":"Which plan is better?","text":"<p>This question is subjective, since people have different needs.</p> <p>For the Classic plan:</p> <ul> <li>You pay less premiums overall</li> <li>For private hospitals, if you get a certificate of pre-authorization (i.e. a panel doctor), you pay the same as someone on the Elite plan</li> <li>However, for B1 to A wards, you have to pay the greater of 5% or the deductible (~$3,500)</li> <li>And for private hospitals, if you don't have a certificate of pre-authorization, you'll have to pay the greater of 5% or the deductible</li> </ul> <p>The Elite plan:</p> <ul> <li>You pay only 5% of the total bill regardless of pre-authorization or ward class</li> <li>However, the total premium paid is much higher than the Classic (up to $60,000)</li> </ul> <p>I feel that the real question is - would you pay $60,000 extra, to always pay only 5% of the total bill, regardless of the size?</p> <p>My opinion is that the Elite plan will in a sense 'pay-off' if you get warded frequently in private hospitals. Otherwise, you would be better off using the $60,000 that you would have saved, to pay for the excesses under the Classic plan. Even if you end up co-paying $3000 each admission, you'd have to be warded 20 times from 20 to 74 years of age to end up paying more than what someone with the Elite plan would have paid. Which, based on statistics, is unlikely.</p> <p>Therefore, the Classic plan looks like the winner here.</p> <p>As always, I'm open to comments and feedback!</p> <p>Written on 18/6/21 by Nicholas</p> <ol> <li> <p>The deductible for GREAT SupremeHealth, for a private ward, is currently $3,500. This means that you'll have to pay the first $3,500 of your hospital bill (plus co-insurance), before any coverage happens.\u00a0\u21a9</p> </li> <li> <p>It does change by age and ward class, however. For example, a 50 year old in a private ward has a deductible of $3,500, but an 86 year old in a private ward has a deductible of $5,250.\u00a0\u21a9</p> </li> <li> <p>The TotalCare rider plan class must match the base SupremeHealth plan class, i.e. if you have a SupremeHealth A Plus plan, you can only buy the TotalCare Classic-A or Elite-A rider plans.\u00a0\u21a9</p> </li> <li> <p>Of course, if your total bill is less than $3000, then that's what you'd pay!\u00a0\u21a9</p> </li> <li> <p>$60,000 is the point of indifference between the two riders for the B1 to A plans - at this amount, you'll pay the same for both plans and so no reason to favour one over the other.\u00a0\u21a9</p> </li> <li> <p>$70,000 is the amount, above which, you'll pay the same for both riders.\u00a0\u21a9</p> </li> <li> <p>This segregation exists because insurance companies think that non-panel doctors charge more, and hence are not eligible for pre-authorization. Whether this is true or not is a subject of intense debate.\u00a0\u21a9</p> </li> <li> <p>This is a certificate from the insurance company stating that they have reviewed your application to be warded at a private hospital at a higher coverage, only if you've chosen a panel doctor. It takes a few working days, so it's not applicable if say, you have an emergency and get warded at a private hospital - there'd be no way for you to get the certificate in time.\u00a0\u21a9</p> </li> </ol>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/","title":"Comparison of ISP Riders","text":"<p>(This is a reply to an analysis by Yuan Jing)</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#a-comparison-of-shield-plan-riders-ntuc-ge-prudential","title":"A comparison of shield plan riders (NTUC, GE, Prudential)","text":"<p>I agree with your suggestion that one should choose maximum coverage<sup>1</sup> while they're young and can afford the premiums. Later, when premiums get more expensive, switch to the lower tier riders<sup>2</sup>.</p> <p>I also agree with your paradigm:</p> <p>It is the author\u2019s recommendation to adopt the following paradigm:</p> <ul> <li>Highest tier, and highest coverage while young. </li> <li>Downgrade as necessary, when necessary, at a later age. </li> </ul> <p>Here, I argue specifically that you should keep a private hospital plan, plus a deluxe rider plan, when young. When you're older, downgrade the deluxe rider plan to a classic.</p> <p>Some caveats:</p> <ul> <li> <p>I'm only going to compare private hospital coverage. Personally, I want the option to go to a private hospital, since queues at public hospitals can be unpredictable. Also, I want maximum coverage early on in life as I've stated above.</p> </li> <li> <p>I'm not going to comment on when the best age is to downgrade coverage, because that depends on a whole host of factors<sup>3</sup> which I might cover on another article.</p> </li> <li> <p>I'm not going to take into account cost differences between riders at the same level (e.g. NTUC's vs GE's deluxe riders). That difference is much less than between the classic and deluxe level for any company's riders (e.g., $60,000 in GE's case).</p> </li> </ul>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#why-have-a-deluxe-rider-when-youre-young","title":"Why have a deluxe rider when you're young?","text":"<p>When you're young, you're working. You have a stream of income. You can pay for that $600 GE Elite-P rider.</p> <p>If you get sick, you deserve the best. You don't want to have to pay a deductible of $3,500 each year when you get hospitalized, when you can just pay 5% of the total bill with riders.</p> <p>Things are different when you're older. Premiums are much, much higher. It might not make sense to pay a $10,000 premium just to save on a $3,500 deductible yearly.</p> <p>The cost difference between the deluxe and classic riders is less significant when you're younger (on the average of $400/year). When you're older though, it jumps to $1,000 and can reach $2,700 (GE Elite-P vs Classic-P at 70 years).</p> <p>And as you mentioned, you can't upgrade the rider if you develop a pre-existing condition. You can, however, downgrade the rider anytime.</p> <p>So, keep the deluxe rider when you're young. You don't pay much more than the classic, and the benefits are nice.</p> <p>Let's compare the classic-level riders next.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#which-is-the-best-classic-level-rider","title":"Which is the best classic-level rider?","text":"<p>First out, let me say NTUC's Classic Care Rider is the worst of the three.</p> <p>This is because:</p> <ul> <li>the additional $2,000 non-panel penalty is significant</li> <li>10% co-pay is effectively double what both NTUC or GE's riders offer</li> </ul> <p>So, it's between GE or Prudential.</p> GE's TotalCare Classic PRUExtra Premier Lite CoPay Any cap? Panel 5% of total bill 5% of total bill + 50% of deductible Yes, $3000/year Non-Panel Greater of deductible<sup>4</sup> or 5% of total bill 5% of total bill + 50% of deductible No <p>Just purely based on the math (see the note below):</p> <ul> <li>If you're seeing panel doctors - GE wins. It's just a flat 5% of the total bill, nothing else.</li> <li>If you're seeing non-panel doctors, and the bill is less than $38,500, Prudential wins. Otherwise, GE wins.</li> </ul> <p>I agree that PRUExtra Premier Lite CoPay has a slightly longer non-panel pre- and post-hospitalization coverage, at 180 and 365 days respectively, versus that of GE's TotalCare Classic (120 and 180 days respectively).</p> <p>I also agree that Prudential pays as-charged for community hospital stays, while GE has daily limits (of around $200).</p> <p>GE has a nice 'home health care' benefit which can be used for home palliative care services (up to $10,000 or $200/day).</p> <p>PRUExtra Premier Lite Copay does not have claims-based pricing, while GE's TotalCare Classic has.</p> <p>GE's TotalCare Classic, however, has a 20% discount on premiums if no claim is made.</p> <p>These factors, combined, favour Prudential somewhat.</p> <p>Personally, it's a toss-up between both. I'd go with either.</p> <p>Now, we move on to the deluxe-level riders.</p> The math behind the $38,500 figure <p>Let \\(T\\) be the total hospital bill size and \\(D_{max}\\) be the maximum advertised deductible.</p> <p>The actual deductible paid is given as </p> \\[\\begin{equation} min(T, D_{max}) \\end{equation}\\] <p>For GE TotalCare Classic, the amount one would co-pay if they saw a non-panel doctor is the greater of the maximum deductible or 5% of the total bill, or:</p> \\[\\begin{equation} \\label{copay_ge} Copay_{GE} = max(min(T, D_{max}), 0.05\\cdot T)  \\end{equation}\\] <p>For PRUExtra Premier Lite CoPay, one pays 50% of the deductible, followed by 50% of the coinsurance (10% of the amount remaining after the maximum deductible is subtracted).</p> \\[\\begin{equation} \\label{deductible} \\text{50% of deductible} = 0.5\\cdot min(T, D_{max})  \\end{equation}\\] \\[\\begin{equation} \\label{coinsurance} \\text{50% of coinsurance} = 0.05\\cdot max(T - D_{max}, 0)  \\end{equation}\\] <p>since there is no co-insurance to pay if the total bill is less than the maximum deductible.</p> <p>By adding eqn. \\(\\ref{deductible}\\) and \\(\\ref{coinsurance}\\) we obtain:</p> \\[\\begin{equation} \\label{copay_pru} Copay_{Prudential} = 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\end{equation}\\] <p>Subtracting eqn. \\(\\ref{copay_ge}\\) from \\(\\ref{copay_pru}\\), we obtain \\(\\Delta_{Prudential - GE}\\), or the extra amount one would pay with Prudential versus GE:</p> \\[\\begin{equation} \\label{delta} \\begin{split} \\Delta_{Prudential - GE} &amp;= Copay_{Prudential} - Copay_{GE} \\nonumber \\\\                          &amp;= 0.5\\cdot min(T, D_{max}) + 0.05\\cdot max(T - D_{max}, 0) \\\\                          &amp;\\quad- max(min(T, D_{max}), 0.05\\cdot T)  \\end{split} \\end{equation}\\] <p>If \\(\\Delta_{Prudential - GE} \\geq 0\\), one would pay more for the Prudential plan, given a total bill size \\(T\\).</p> <p>We simplify eqn. \\(\\ref{delta}\\) as follows:</p> \\[\\begin{equation} \\label{cases}     \\Delta_{Prudential - GE}= \\begin{cases}     -0.5\\cdot T,&amp; \\text{if } T \\leq D_{max} \\\\     0.05\\cdot T - 0.55\\cdot D_{max}, &amp; \\text{if } T \\gt D_{max} \\text{ and } T \\lt 20\\cdot D_{max} \\\\     0.45\\cdot D_{max} &amp; \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] <p>Note that for the second case:</p> \\[\\begin{equation}     0.05\\cdot T - 0.55\\cdot D_{max} \\gt 0 \\text{ when } T \\gt 11\\cdot D_{max} \\end{equation}\\] <p>We can conclude that one would pay more for the Prudential plan when \\(T \\gt 11\\cdot D_{max}\\). When \\(T \\lt 11\\cdot D_{max}\\), one would pay less with the Prudential plan.</p> <p>Finally, for our case \\(D_{max} = 3500\\), we obtain:</p> \\[\\begin{equation} \\label{cases-3500}     \\Delta_{Prudential - GE}= \\begin{cases}     -0.5\\cdot T,&amp; \\text{if } T \\leq 3500 \\\\     0.05\\cdot T - 1925, &amp; \\text{if } T \\gt 3500 \\text{ and } T \\lt 70000 \\\\     1575 &amp; \\text{if } T \\geq 20\\cdot D_{max} \\end{cases} \\end{equation}\\] <p>Visually, Eqn. \\(\\ref{cases-3500}\\) can be plotted as follows: </p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#which-is-the-best-deluxe-level-rider","title":"Which is the best deluxe-level rider?","text":"<p>All 3 insurers here offer 5% co-payment riders here (although Prudential's PRUExtra Premier has an additional 5% of deductible).</p> <p>Of note, only NTUC does not explictly mention claims-based pricing.</p> <p>However, there is an 'additional non-panel payment' which is unspecified.</p> <p></p> <p>I consider this a form of claims-based pricing. The actual penalty is unknown, and for this reason NTUC is out of the picture again.</p> <p>Prudential's claims-based pricing penalty is the most severe, with a 3x premium penalty if you claim more than $5000 from a non-panel provider.</p> <p>GE's penalty is 1.5x the premium as penalty if you claim more than $2000 for the first time. It increases up to 2.5x the premium subsequently.</p> <p>We now look at other factors.</p> <p>Of the three, Prudential has the longest pre- and post- hospitalization coverage of 180 and 365 days respectively. This is longer than GE's 120/180 days.</p> <p>GE has a nice 'home health care' benefit which I've mentioned above.</p> <p>I'd favour Prudential somewhat here, since the idea is to get as much coverage as possible for the deluxe-level rider.</p>","tags":["Insurance"]},{"location":"blog-posts/2021-06-19-comparison-of-isp-riders/#conclusion","title":"Conclusion","text":"<p>It's a bit of a surprise to me (as I'm on a GE plan currently). The Prudential riders (specifically the PRUExtra Premier Lite and Premier) stand out above the rest, if only lightly.</p> <p>If you already have one of these deluxe riders and you're young, keep it - the differences aren't enough to justify switching and going through another 90-day no-claim period.</p> <p>If you're looking on the market for a rider - you might want to check out the Prudential riders.</p> <p>Written on 19/6/21 by Nicholas</p> <ol> <li> <p>Aka deluxe level riders, such as GE's TotalCare Elite, or NTUC's Deluxe Rider.\u00a0\u21a9</p> </li> <li> <p>Aka classic level riders, such as GE's TotalCare Classic or PRUExtra Premier Lite.\u00a0\u21a9</p> </li> <li> <p>One might try to calculate the optimum age to downgrade.</p> <ul> <li>For example, you might take the probability of hospitalization at each year of life, multiply that by the median hospital bill size, and sum till different ages. The age at which the total costs of the deluxe-level rider begins to exceed the sum of the hospital bills is where one might decide to downgrade.</li> <li>This however, ignores the fact that the probability of hospitalization each year is not independent. Being hospitalized once a year, consecutively for 5 years in a row, might mean you have some condition necessitating much more frequent hospitalizations than the base probabilities suggest.</li> <li>Another factor is whether one has sufficient financial reserves to continue paying the rider.</li> </ul> <p>\u21a9</p> </li> <li> <p>This is a fixed amount you must pay before the insurance company pays any benefits. This is $3,500 for Prudential and GE, and will increase if you're above a certain age (85 in the case for Prudential).\u00a0\u21a9</p> </li> </ol>","tags":["Insurance"]},{"location":"blog-posts/2021-06-20-uselayouteffect/","title":"The useLayoutEffect hook","text":"<p>Suppose you have a parent component <code>A</code> and a child <code>B</code>, and you want to run a <code>useEffect</code> hook on mount in the parent first, followed by another <code>useEffect</code> hook in the child.</p> <p>For example, you have a child component which overrides the default styles of the parent on mount.</p> <p>This was a problem I faced.</p> <p>You might try this, but it does not work as expected:</p> <pre><code>const A = () =&gt; {\nuseEffect(() =&gt; console.log('Parent useEffect'), [])\nconsole.log('Parent body')\n\nreturn &lt;B/&gt;\n};\n\n// omitted\n\nconst B = () =&gt; {\nuseEffect(() =&gt; console.log('Child useEffect'), [])\nconsole.log('Child body')\n}\n\n/*Logs\n* Parent body\n* Child body\n* Child useEffect\n* Parent useEffect*/\n</code></pre> <p>The child component's <code>useEffect</code> is being called before the parent component. Why is this happening?</p> <p><code>useEffect</code> runs after every completed render. If no dependencies are specified in the dependency array (the second argument), it will run after the first render.</p> <p>In the above example, the parent <code>A</code> begins rendering first, followed by the child <code>B</code>. The child finishes rendering before the parent, and so its <code>useEffect</code> hook is called first, followed by the parent's.</p> <p>Is there a way to run effects in the parent, before the child?</p>","tags":["Programming"]},{"location":"blog-posts/2021-06-20-uselayouteffect/#uselayouteffect","title":"useLayoutEffect","text":"<p>You can use <code>useLayoutEffect</code>.</p> <p><code>useLayoutEffect</code> runs synchronously, before the browser has had a chance to paint.</p> <p>We can rewrite our example above to the following:</p> <pre><code>const A = () =&gt; {\nuseLayoutEffect(() =&gt; console.log('Parent useEffect'), [])\nconsole.log('Parent body')\n\nreturn &lt;B/&gt;\n};\n\n// omitted\n\nconst B = () =&gt; {\nuseEffect(() =&gt; console.log('Child useEffect'), [])\nconsole.log('Child body')\n}\n\n/*Logs\n* Parent body\n* Child body\n* Parent useEffect\n* Child useEffect*/\n</code></pre> <p>Now, effects in the child run before the parent!</p> <p>A caveat: <code>useLayoutEffect</code> is synchronous and will block visual updates, so avoid doing heavy lifting here.</p> <p>The next time you need to run an effect in the parent before the child, consider using <code>useLayoutEffect</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/","title":"Cracking PDF Hashes with <code>hashcat</code>","text":"<p>Do you have a PDF document lying around somewhere, but it's encrypted and you've forgotten the password to it?</p> <p><code>hashcat</code> is a great open-source hash cracker with GPU acceleration. It also comes with features such as masking, dictionary attacks and even statistical methods of password guessing. It also supports 300+ hash types (e.g. SHA-1, MD5, WPA, Django...) out of the box.</p> <p>Don't use this for unlawful purposes!</p>","tags":["Programming"]},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/#extracting-the-hash-from-the-pdf","title":"Extracting the hash from the PDF","text":"<p>First, we need to extract the password hash from the PDF. There's an online tool for this, but for now let's use this python script (pdf2john.py).</p> <p>Run it with <code>python pdf2john.py &lt;your-pdf-file&gt;</code>.</p> <p>The output should resemble something like this:</p> <pre><code>b'aa.pdf':b'$pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6':::::b'D:\\\\Desktop\\\\&lt;your PDF file&gt;.pdf'\n</code></pre> <p>We're only interested in the second part (beginning with <code>$pdf$4...</code> up till <code>...69d6</code>). So, let's copy that out:</p> <pre><code>$pdf$4*4*128*-1028*1*16*51cacf728db0cc489bd42a56dd58d87c*32*fa9ce7f2daef91b171ec19e04edc00ba00000000000000000000000000000000*32*c431fab9cc5ef7b59c244b61b745f71ac5ba427b1b9102da468e77127f1e69d6\n</code></pre> <p>This is the hash we'll supply to <code>hashcat</code> later on.</p>","tags":["Programming"]},{"location":"blog-posts/2021-07-23-cracking-pdf-hashes/#starting-brute-force-with-hashcat","title":"Starting brute force with <code>hashcat</code>","text":"<p>First, grab the latest copy of <code>hashcat</code> from here.</p> <p>This command runs a brute force attack on the hash (up till the maximum number of characters):</p> <p><code>hashcat -a 3 -m 10500 '&lt;hash&gt;'</code> (note: the hash must be in quotes, or else some OSes might interpret the <code>$</code> as a variable)</p> <p>Let's break it down.</p> <p><code>-a</code> specifies the attack mode. In this case, <code>3</code> indicates brute force.</p> <p><code>-m</code> specifies the type of hash. <code>hashcat</code> can actually autodetect the hash type, but for this purpose, we'll specify it as as <code>10500</code>, which is <code>PDF 1.4 - 1.6 (Acrobat 5 - 8)</code>.</p> <p><code>hashcat</code> also supports masking options. So if you wanted to try all lowercase alphanumeric passwords (a-z, 0-9) up to 10 characters, you could do</p> <p><code>.\\hashcat -a 3 -1 ?l?d -i -m 10500 '&lt;hash&gt;' ?1?1?1?1?1?1?1?1?1?1?1?1</code></p> <p><code>-1</code> specifies the character set in the first position (<code>hashcat</code> supports multiple character sets). In this case, <code>?l</code> refers to the set <code>abcde...xyz</code>, and <code>?d</code> refers to all digits 0-9.</p> <p><code>-i</code> specifies that we want to progressively try the mask, starting from <code>--increment-min</code> (default 1). What this does is it will try only 1 character of the mask (e.g. <code>a</code>), then 2, up till <code>--increment-max</code> (default being the length of the mask, e.g. <code>zzzzzzzzzz</code>).</p> <p><code>?1?1?1?1?1?1?1?1?1?1?1?1</code> is the mask itself. <code>?1</code> refers to the character set in the first position, that we specified above with <code>-1</code>.</p> Cracking speed on my GTX 970 For comparison, cracking speed on an A100 on GCloud (approx 10x speedup) <p>And that's it! Password cracking is exponentially slower with regards to the length of the password<sup>1</sup>, so any clues as to the content of the password will speed it up greatly.</p> <ol> <li> <p>Theoretically, a 51-character alphanumeric, case-sensitive password would be uncrackable. \u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2021-07-25-endowus-or-not/","title":"To Endowus, Or Not?","text":"<p>Endowus has been making waves in the robo-advisor market in Singapore, hitting $1 billion in assets under management (AUM) recently.</p> <p>It offers tailored investment solutions, customized for your risk appetite. Its portfolios are constructed from institutional-level fund classes, so fees are lower. Endowus also rebates trailer fees they receive from funds, so you pay even less. Finally, you can even build your own portfolio, using funds from PIMCO to Dimensional.</p> <p>With that in mind, should you switch from IBKR to Endowus?</p>","tags":["Finance"]},{"location":"blog-posts/2021-07-25-endowus-or-not/#endowus","title":"Endowus","text":"<p>Of the robo-advisors in Singapore, Endowus is the only one offering institutional level funds (the rest, such as Syfe or Stashaway, use ETFs). Institutional-level funds may offer lower costs than their retail counterparts.</p> <p>Endowus is also the only way you can access to funds from Dimensional, a world-wide mutual fund company boasting Nobel laureates such as Myron Scholes<sup>1</sup>. Most of the Dimensional funds are based off broad indexes such as the MSCI World Index, the ACWI or the AGGU (for fixed income).</p> <p>Endowus also offers Cash Smart, their version of fixed deposit, with varying levels of risk and returns up to 2% pa.</p> <p>There are also no currency conversion fees with Endowus - all their funds are denominated in SGD. Presumably, the conversion to USD happens within the fund internally and is charged in the net expense ratio, but even that is low (Endowus' fund's expense ratios are ~0.5% pa).</p> <p>Instead, what Endowus charges is an access fee, ranging from 0.25% - 0.6% pa, charged quarterly. This is comparable to the 0.4% - 0.65% pa charged by Syfe, the 0.2 - 0.8% charged by Stashaway and the 0.3 - 0.5% pa charged by Kristal.</p>","tags":["Finance"]},{"location":"blog-posts/2021-07-25-endowus-or-not/#interactive-brokers","title":"Interactive Brokers","text":"<p>Interactive Brokers (IBKR) is the largest electronic trading platform in the US. In June 2021, they managed $363.5 billion in assets, with over 2,471,000 trades executed daily.</p> <p>Unlike Endowus, which is at heart a robo-advisor, IBKR is a fully featured broker, giving you access to stocks, ETFs, futures, currency, derivatives and more, across global markets.</p> <p>The commissions IBKR charges are highly competitive and are one of the lowest in the market. There is even a commission-free account, which is sadly unavailable in Singapore.</p> <p>IBKR also recently slashed its monthly inactivity fees - there are now no annual or monthly charges to use the platform. You therefore only pay on each trade (the bid-ask spread + commissions + exchange fees).</p> <p>With this flexibility however, comes some drawbacks:</p> <ul> <li>You must convert currency yourself (although the rates are one of the best<sup>3</sup>)</li> <li>You must decide which securities to purchase</li> <li>Rebalancing must be done by yourself</li> <li>A maximum of 1 free withdrawal a month, with fees charged subsequently</li> </ul>","tags":["Finance"]},{"location":"blog-posts/2021-07-25-endowus-or-not/#comparison","title":"Comparison","text":"<p>Let's summarize the information above:</p> Endowus IBKR Type Robo-Advisor Fully-featured Broker Founded 2017 1978 AUM $1bn $363.5bn What you can buy Institional-Level, SGD Denominated funds Stocks, ETFs, mutual funds, bonds, derivatives Annual Fees 0.25 - 0.6% None Transaction Fees None Commission + Exchange Fee + Bid/Ask Spread Rebalancing Automatic, free Manual Currency Conversion N/A Manual<sup>3</sup> Custodian UOB Kay Hian (trust account in your name) IB LLC Custodian Bond Rating Aa1 (Moody's)<sup>2</sup> BBB+ (S&amp;P) Withdrawals Free 1 free a month, subsequent charged ~USD $10 <p>Here is what you pay per year, assuming you invest 25% of the amount each quarter, until you reach the full amount by the end of the year<sup>4</sup>.</p> Total Amount Endowus IBKR (1 ticker) IBKR (4 tickers) $10,000 $60 ~$16 ~$64 $$100,000 $600 ~$50 ~$64 $1,000,000 $3,500 ~$500 ~$520 <p>For a small amount (~$10,000), Endowus and IBKR cost about the same. But as you invest more, IBKR's pricing becomes more attractive.</p> <p>Note that for IBKR, for small amounts, buying more stocks costs more. For large amounts however, the price is essentially identical.</p> <p>Endowus' fees are the same, regardless of how many individual funds you purchase.</p>","tags":["Finance"]},{"location":"blog-posts/2021-07-25-endowus-or-not/#verdict","title":"Verdict","text":"<p>With all this in mind, which is better - Endowus or IBKR?</p> <p>Personally, I would go with Endowus for small amounts up to $500,000. Although I pay more fees, I think of this as a convenience factor for:</p> <ul> <li>being able to invest in Dimensional</li> <li>automatic rebalancing</li> <li>no currency conversion required</li> </ul> <p>For larger amounts above $500,000, the difference in commissions becomes significant (about $3,000 starting from $1M in assets). In that scenario, taking the time to DIY your portfolio in IBKR makes more sense.</p> <p>For ideas on what to buy, check out my suggestions for IBKR and Endowus.</p> <ol> <li> <p>Co-originator of the Black-Scholes options pricing model, used widely for hedging, pricing and speculative purposes in all markets globally.\u00a0\u21a9</p> </li> <li> <p>This is the rating for UOB's Long-Term Bank Deposits by Moody's.\u00a0\u21a9</p> </li> <li> <p>IBKR's rates for currency exchange are highly competitive.\u00a0\u21a9\u21a9</p> </li> <li> <p>The cost for IBKR includes brokerage commissions, exchange fees, and an estimate of the bid-ask spread.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2021-07-25-my-endowus-portfolio/","title":"My Endowus Portfolio","text":"<p>I recently started an Endowus portfolio (reasons). Here's the funds I chose and my allocation:</p> % Fund Tracked Index 50% Dimensional World Equity Fund MSCI All Country World Index 30% Dimensional Global Targeted Value Fund MSCI World SMID Value Index<sup>1</sup> 20% Dimensional Global Core Fixed Income Fund Bloomberg Barclays Global Aggregate Bond Index <p>A few small changes here compared to my IBKR portfolio, but my investment philosophy remains the same.</p> <p>First, I buy into global mid- and large-cap companies with Dimensional's World Equity Fund (net expense ratio of 0.35% pa).</p> <p>Secondly, I add exposure to developed small- and mid-cap companies with Dimensional's Global Targeted Value Fund (net expense ratio 0.49% pa). Note that there is an overlap here of developed mid-cap companies with the World Equity Fund - this is because there isn't a Dimensional fund offered by Endowus which tracks the MSCI World Small Cap Index like WSML.</p> <p>Finally, I keep 20% of my portfolio in duration diversified, investment grade bonds across the world with Dimensional's Global Core Fixed Income Fund (net expense ratio 0.28% pa).</p> <p>You might note that there isn't any investment in property or REITS here, and that is because Endowus doesn't have this category of fund (maybe in the future).</p> <p>And that is how I achieve my 80/20 equity/bond split with Endowus!</p> <ol> <li> <p>Unfortunately, I couldn't find the prospectus document by MSCI for this index - the closest is the MSCI World SMID Cap Index.\u00a0\u21a9</p> </li> </ol>","tags":["Finance"]},{"location":"blog-posts/2021-09-16-crispy-pork-belly/","title":"Crispy Pork Belly","text":"<p>Crispy, roasted pork belly is a really nice snack (and main dish). Lots of recipes on the internet have different variations, some use salt, some involve putting water in the oven as well, and others recommend keeping the raw belly in the refrigerator for 18 hours before putting it in the oven.</p> <p>In this recipe I keep everything to the minimum, so there's as little cleaning/preparation involved, for the same great taste.</p> <p>The belly is first cooked at a low temperature while the skin is further dried in the oven with a layer of salt. It's then roasted at a sizzling 230\u00b0C to bring out the crispiness.</p> <p>The salt is necessary for the skin to have that bubbly, crispy texture.</p> <p>Time required: 2 hours</p>","tags":["Cooking"]},{"location":"blog-posts/2021-09-16-crispy-pork-belly/#ingredients","title":"Ingredients","text":"<ul> <li>Pork belly, skin-on</li> <li>Salt</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2021-09-16-crispy-pork-belly/#steps","title":"Steps","text":"<ol> <li>Preheat oven to 140\u00b0C.</li> <li>Layer salt evenly over the skin of the pork belly.</li> <li>Place in the oven for around 30 minutes, or when the internal temperature reaches 62\u00b0C.</li> <li>Take out from oven and remove the layer of salt crust that has formed.</li> <li>Set the oven to 230\u00b0C and cook for an additional 30 minutes, or until the edges are just beginning to char.</li> </ol>","tags":["Cooking"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/","title":"Developing in WSL Containers (Now with GPU support!)","text":"<p>As a programmer there were a lot of version/environment issues I faced while developing with Python, Node and other tools. Some examples:</p> <ul> <li>Switching between different Python versions on Windows is difficult and requires third-party solutions e.g. Chocolatey</li> <li>Switching between different Node versions also requires a third-party solution (nvm)</li> <li>While <code>pipenv</code>, <code>venv</code> and <code>poetry</code> are ways to manage different Python environments, they still depend on the base Python version installed, which is another external dependency</li> <li>Maintaining other dependencies such as CUDA drivers, <code>ffmpeg</code> etc.</li> </ul> <p>I thought about this issue while deciding on a Python packagement system for Windows, and here is my solution.</p>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#docker-containers-in-wsl2-in-vscode","title":"Docker Containers, in WSL2, in VSCode","text":"<p>In a nutshell, my solution is to use VSCode's Remote - Containers extension, to open a folder in WSL2, and then mount that folder in a Docker container.</p> <p>This has several benefits:</p> <ul> <li>Ability to lock environments for a project, such as Python, Node, or even Java versions</li> <li>Repeatable builds, irregardless of the host OS/drivers</li> <li>Host filesystem only contains source code and nothing else</li> <li>Containers on the host can be accessed remotely over SSH - the only tools required on the remote computer are SSH and VSCode</li> <li>GPU passthrough is supported since Windows 10 version 21H2.</li> </ul> <p>Note that files and source code are stored in the WSL distro, and can be viewed natively in Windows Explorer via the network share <code>\\\\wsl$</code>.</p> <p>The reason why I use the WSL filesystem, and not a bind mount on the Windows filesystem, is for performance.</p>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#what-is-wsl","title":"What is WSL?","text":"<p>WSL is a compatibility layer which allows Linux binaries to run natively on Windows systems. WSL2 takes this further, and includes a real Linux kernel with full system call capabilities.</p> <p>Installing WSL will allow you to run a complete Linux distribution on your Windows PC (with the <code>wsl</code> command).</p>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#getting-started","title":"Getting Started","text":"","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#installing-wsl2-and-a-default-distro","title":"Installing WSL2 and a default distro:","text":"<ul> <li>Follow the instructions here to install WSL2 and the default Linux distribution (Ubuntu)</li> <li>Next, check that the Ubuntu distribution is set as default, and is on WSL2:<ul> <li><code>wsl -l -v</code> should show: <pre><code>  NAME                   STATE           VERSION\n* Ubuntu                 Running         2\n  Legacy                 Stopped         1\n  docker-desktop         Running         2\n  docker-desktop-data    Running         2\n</code></pre></li> <li>If Ubuntu is missing, install it from the Microsoft Store (you need to run <code>ubuntu</code> from the command prompt after)</li> <li>If Ubuntu is not the default distro (marked with a *), run <code>wsl --set-default Ubuntu</code>.</li> <li>If the <code>VERSION</code> for Ubuntu is not <code>2</code>, run <code>wsl --set-version Ubuntu 2</code>.</li> <li>(Advanced) If you want to move the WSL installation to another folder of your choice, you can use the <code>--export</code> followed by the <code>--import</code> commands.</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#installing-docker-and-configuring-it-to-use-the-wsl2-backend","title":"Installing Docker and configuring it to use the WSL2 backend:","text":"<ul> <li>Follow the instructions here</li> <li>Ensure that <code>Enable integration with my default WSL distro</code>, and integration for your distro are both checked. </li> <li>Check that Docker is working: <code>docker ps</code></li> </ul>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#setup-git-in-wsl2","title":"Setup <code>git</code> in WSL2","text":"<p>VSCode adopts the following behaviors with regards to <code>.gitconfig</code>:</p> <ul> <li>If a repository is cloned and opened in a container, the <code>.gitconfig</code> from Windows (<code>C:\\Users\\&lt;USER&gt;\\.gitconfig</code>) is copied and used</li> <li>If a WSL2 folder is opened in a container, the <code>.gitconfig</code> from WSL (<code>~/.gitconfig</code>) is copied and used in the container</li> </ul> <p>Therefore, since we are opening WSL2 folders in containers, we need to setup <code>git</code> on WSL2 (it's not setup by default).</p> <ul> <li>Open up a WSL2 terminal: <code>wsl</code></li> <li>Set your username: <code>git config --global user.name &lt;USERNAME&gt;</code></li> <li>Set your email: <code>git config --global user.email &lt;EMAIL&gt;</code> (note, if you have setup email privacy on Github, you will find your email at https://github.com/settings/emails)</li> <li>If you want to use VSCode as the editor in <code>git</code>, do: <code>git config --global core.editor \"code --wait\"</code></li> <li>Verify your settings with <code>git config --list</code></li> </ul> <p>That's it. VSCode configures the credential helper automatically for you (by setting up some sort of SSH/GPG agent forwarding).</p>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#opening-a-wsl2-folder-in-a-container","title":"Opening a WSL2 Folder in a container","text":"<ul> <li>Follow this guide.</li> <li>Notes:<ul> <li>You can modify the <code>.devcontainer/Dockerfile</code> to your liking - e.g. if you want to add Java to a Python image, install package dependencies during build, etc</li> <li>If you want to install requirements automatically e.g. with <code>pip</code>, you can either uncomment that particular line in the <code>Dockerfile</code> (if it exists) or write your own e.g.:     <pre><code>COPY requirements.txt /tmp/requirements.txt\nRUN pip --no-cache-dir  install -r requirements.txt\n</code></pre></li> </ul> </li> </ul>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#optional-gpu-passthrough","title":"[Optional] GPU Passthrough","text":"<p>If you would like to use your Nvidia GPU in a container, you need to ensure:</p> <ul> <li>The container has the Nvidia GPU drivers installed</li> <li>CUDA is installed in the container</li> </ul> <p>Using a prebuilt image e.g. <code>pytorch/pytorch</code> will include all these requirements.</p> <p>Once you have done that, check the output of <code>nvidia-smi</code>:</p> <pre><code>Wed Mar 30 12:33:38 2022\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 510.06       Driver Version: 510.06       CUDA Version: 11.6     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name            TCC/WDDM | Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  NVIDIA GeForce ... WDDM  | 00000000:01:00.0  On |                  N/A |\n| 40%   41C    P0    49W / 151W |   2595MiB /  4096MiB |      0%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2021-11-17-developing-in-wsl-containers/#conclusion","title":"Conclusion","text":"<p>And that's it! Start up, rebuild and stop your containers as you like.</p> Source code for this blog post in a container in WSL2 <p>Finally, you can even use multiple containers with <code>docker-compose.yml</code> (although for development you'd be likely to be use just one).</p>","tags":["Programming"]},{"location":"blog-posts/2021-12-04-apple-chips-recipe/","title":"Crispy Apple Chips","text":"<p>Apple chips are a nice and healthy snack. I made some the other day and it's super easy.</p> <p>Time required: 3 hours</p>","tags":["Cooking"]},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#ingredients","title":"Ingredients","text":"<ul> <li>Fresh apples (Gala apples taste the best)</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#steps","title":"Steps","text":"<ol> <li>Preheat oven to 120\u00b0C.</li> <li>Cut apples thinly into ~5mm slices. If you have a mandoline it's easier.</li> <li>Place in the oven for 2 hours.</li> <li>Let it sit in the oven for another 30 mins.</li> <li>Once it cools down, it'll become crispy.</li> <li>The chips go well with a salted caramel dip!</li> </ol>","tags":["Cooking"]},{"location":"blog-posts/2021-12-04-apple-chips-recipe/#notes","title":"Notes","text":"<ul> <li>I tried using a dehydrator (70\u00b0C for 12 hours), but they aren't as crispy as this oven method.</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2021-12-17-useful-utilities/","title":"My Collection of Useful Utilities","text":"<p>Stuff I use, arranged by language/OS. Inspired by this article.</p>"},{"location":"blog-posts/2021-12-17-useful-utilities/#python","title":"Python","text":"<ul> <li>diskcache: Python disk-backed cache, Django compatible, faster than Redis and Memcached</li> <li>FastAPI: High performance backend framework based on OpenAPI, JSON Schema and Python types via Pydantic</li> <li>rich: rich terminal formatting</li> <li>textual: CSS/HTML/React inspired reactive, responsive terminal UIs (demo)</li> <li>tqdm: intuitive progress bars for Python<ul> <li>Also with support for sending realtime updates to Telegram</li> </ul> </li> <li>Typer: Alternative to <code>argparser</code> using Python types</li> </ul>"},{"location":"blog-posts/2021-12-17-useful-utilities/#windows","title":"Windows","text":"<ul> <li>Everything: Extremely fast filename search (&lt; 1s) with regex support</li> <li>Handbrake: Open-source video transcoder</li> <li>OBS Studio: Open-source screen recorder</li> </ul>"},{"location":"blog-posts/2021-12-17-useful-utilities/#cross-platform","title":"Cross-Platform","text":"<ul> <li>asciinema: Terminal session recorder</li> <li>Docker: Containerization at its finest</li> <li>hashcat: GPU-accelerated hash cracker</li> <li>VeraCrypt: TrueCrypt successor for full-disk/file/partition encryption with plausible deniability</li> <li>yt-dlp: Youtube-dl fork, a general purpose website video downloader</li> </ul>"},{"location":"blog-posts/2021-12-17-useful-utilities/#web","title":"Web","text":"<ul> <li>CanaryTokens: Get alerted when someone clicks a link, image, opens an Explorer folder, or even when a vulnerable service executes code using the Log4Shell vulnerability.</li> <li>Awesome: Huge, community maintained list-of-lists about programming, books, and many other topics (note - Awesome Piracy isn't linked)</li> <li>4chan Recommendation Charts: Massive lists of recommendations about almost anything from books, movies, games, comics to anime.</li> </ul>"},{"location":"blog-posts/2021-12-25-skiing-switzerland/","title":"Skiing in St Moritz, Switzerland","text":"Club Med St. Moritz <p>I went here during December, 2021, on the VTL lane. We stayed at Club Med St. Moritz. It was full-board and inclusive of ski passes, lessons and rental (of the ski, helmet, boots and poles), which made planning convenient. They also had two-way airport pickup.</p> View from the room <p>The accomodation was somewhat spartan but otherwise all the facilities expected of a 4/5-star hotel including a radiator. The food was Club Med buffet-style from breakfast to dinner, and one of the days there was an opportunity to try cheese and chocolate fondue. As we were there over Christmas there was also a special Christmas buffet dinner which included swordfish sashimi, whole scallops, foie gras and deer meat stew. I did not have any gastrointestinal distress throughout this trip.</p> <p>Of note there was also a bar with free flow drinks all day. While the wine selection was limited (either plain red or white), cocktails and my personal favourite Bailey's Irish Cream were available.</p> <p>Now, about the skiing. We started at the nursery slope at the back of our hotel for the first day, and then on the afternoon of the second day we went up to Corviglia.</p> Map of Corviglia region <p>Unfortunately, I cannot remember the exact location of the slopes we did on this map, nor which cablecar we took. I will update this post when I have the information.</p> <p>I had some prior ski experience, having previously tried skiing in Norway alone without a teacher. We joined the beginner group (group 1). I managed to pick up the snow plough turn on the second day of class, and by the fourth day I was quite confident of my parallel turning (better on turning left than right). I was happy by the end of my trip I managed to overcome the paranoia/semi-PTSD I had previously from going down steep slopes at high speed and not being able to stop.</p> <p>Some of the main pointers I felt were helpful:</p> <ul> <li>Leaning forward; if not, the skis will not turn easily</li> <li>Putting one's weight on the outside ski when turning</li> <li>Youtube has lots of helpful videos</li> </ul> <p>The guide left us alone quite a lot of the time as there were some students who needed a lot of guidance. Most of the slopes here at St Moritz were blue (intermediate), with only one nursery slope just beside our hotel and another on the mountain. This meant most of us were thrown on a blue slope pretty early on, and we all fell a lot (fortunately no serious injuries).</p> Some scenery on the way up Nursery slope A blue (intermediate) slope <p>Regarding the topic of safety, I did not at any time feel my life was in danger, even during periods where I was out of the instructor's sight. While there were some obvious dropoffs, there were too far off from the main slopes to pose any real danger. My main worry was getting an ACL tear<sup>1</sup>; fortunately this did not happen and the worst injury I got was a right toenail avulsion, likely due to not tightening the top half of the skiing boot sufficiently. It should be tight enough such that leaning with knees forward does not allow the toe to come into contact with the front of the boot.</p> <p>The VTL flight back was rather uneventful and my ART was checked at the departure airport, who knew about the process.</p> <p>Overall, I found the facilities and skiing to be enjoyable. I plan to attempt skiing somewhere closer to home next - perhaps in Japan<sup>2</sup>, when flights resume.</p> <p></p> <ol> <li> <p>While modern ski bindings have drastically reduced the rates of long bone fractures, ligament injuries have increased, probably as the ski binding is not designed to release in response to torsional forces.\u00a0\u21a9</p> </li> <li> <p>Skiing, followed by a hot onsen bath, yakitori and sushi.\u00a0\u21a9</p> </li> </ol>"},{"location":"blog-posts/2021-12-30-npm-update-behavior/","title":"<code>npm update</code> does not write updated versions to <code>package.json</code>","text":"<p>Update: This issue has been fixed in <code>npm</code> 8.3.2.</p> <p>Found this out the hard way.</p> <p>I was working on an app, and I wanted to update its dependencies.</p> <pre><code>&gt; npm outdated\nPackage   Current  Wanted  Latest  Location               Depended by\ndate-fns   2.27.0  2.28.0  2.28.0  node_modules/date-fns  frontend\n</code></pre> <p>So I updated with <code>npm update</code>.</p> <p>Then I had a look at <code>package.json</code> and to my surprise, <code>date-fns</code> wasn't updated:</p> <pre><code>\"dependencies\": {\n\"date-fns\": \"^2.27.0\",\n}\n</code></pre> <p>However, the actual package was updated:</p> <pre><code>&gt; npm list\nmy-app@0.1.0 /workspaces/my-app\n\u251c\u2500\u2500 date-fns@2.28.0\n</code></pre> <p>After googling, I finally found that this was a behavioral change ever since <code>npm</code> v7.</p> <p>As a workaround for now, I use <code>npm-check-updates</code> to update version numbers in <code>package.json</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-04-deep-work/","title":"On Deep Work","text":"<p>I believe that useful work, of lasting value to oneself and others, comes from uninterrupted concentration. Intuitively it makes sense - imaging working on a complex task, requiring you to hold many pieces of information in your mind simultaneously in order to produce a result, something common in knowledge fields. When you are interrupted, such as by an instant message or some other notification, your attention on the main task is lost, some new context is loaded into your memory as necessary to deal with processing the distraction, and by the time you resume the main task, it becomes harder to recall the pieces of information you were holding in your memory earlier.</p> <p>In effect, this is similar to the process of running a non-trivial calculation on a computer. First, the computer reads the file from the hard disk into working memory. Next, the processor performs operations in-memory. Finally, the output is written back to the hard disk. For us humans, it's analogous. We start on a task, reading manuals/messages/notes as necessary. As we scan through, we load relevant information into our working memory. Then, we begin to process the data, doing pattern matching, lookups from long-term memory and other manipulations in our working memory as required. Finally, we output the data - either by an action in the physical world such as typing a document, or by storing the result in our long term memory for future use.</p> <p>Just like us, computers suck at task switching too. Many programming languages support working on other tasks while waiting for the result of one to complete, a feature known as asynchronous programming<sup>1</sup>. Imagine calling someone, working on a math problem while waiting for the person to pickup, switching to answer a text on your phone, and then speaking with the person on the phone. That's what a single core is doing most of the time on your computer, handling network, the display and storage one after the other. Interestingly, it turns out that this switching is not free, and in fact incurs a significant penalty (Javascript, Python). </p> <p>In fact, we're worse than the computer. First of all, computers have multiple cores, while all we have is one brain to process information. Secondly, computers have effectively unlimited storage with internet access. Finally, they don't get tired or get affected by moods. </p> <p>Besides reducing our efficiency, frequent distractions can actually affect our mood. With interruptions, we end up completing a task sub-optimally, in our hearts knowing we could have done a better job. The satisfaction of having a job well done, a story woven beautifully, or a program well crafted is denied to us. It is a pity, because that feeling, that knowledge of having created or done something to the very best of your ability, is the purest source of pleasure in this world, something that can only be attained by effort, not bought. It is a feeling shared by humans since antiquity. Imagine how the builders of the pyramids must have felt when the final stone was set into place, the geometrical perfection of the then tallest man-made structures in the world complete. Or the joy, coupled with relief, of the engineers on seeing the space shuttle, a monumental feat of engineering, reach the moon 384,000 kilometers away and return. Or how Einstein, in 1915, upon realizing that gravity and acceleration were equivalent, published the theory of General Relativity, an entire, hitherto unknown continent of science which led to the further discovery of black holes, the expanding universe and even GPS. Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away<sup>2</sup>.</p> <p>The ability to focus on a single task is known as deep work, which happens to be the title of a great book I read recently. This ability is getting rarer these days, which is unfortunate. I think this is due in no small part to the pervasiveness of instant messaging and social media. The other culprits you might not suspect are public postboards/forums like Reddit and HardwareZone<sup>3</sup>, where minimal effort is required to make a post. Personally, I also consider radio channels and mainstream media in my country like ChannelNewsAsia or the Straits Times to be another major distraction. </p> <p>In fact, society is designed to distract us, and I think there are two main reasons behind it.</p> <p>The first reason has to do with one of the largest markets on earth. What do Reddit, Hardwarezone, Facebook, Tiktok, CNA and Straits Times have in common? Advertising. All of them want, and depend on, our attention. Sponsored articles, affiliate marketing, viral posts and promoted content have infiltrated these news sources over time, in increasingly subtle ways. What has not changed is what they aim to do - grab our attention and make us read the text, watch the video - their payload<sup>4</sup>.</p> <p>The second reason has to do with innate human desires. All of us want some form of respect and the feeling of companionship. We want to help others, and feel that others care for us. We read something online or hear some juicy gossip, recall that it vaguely fits someone's interest, and send it to them, hoping that it might help them or pique their interest. A large majority of messages in my phone fall in that category. In the old days before the internet we might have collected articles, summarized and consolidated them, and mailed them to a friend. Today, we send them almost as soon as they reach us, something I myself also do.</p> <p>Combined together, these channels of information and communication provide us with an unending stream of distraction, and it is all too easy to fall in and get swept by the current, losing our original destination in the process.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-02-04-deep-work/#my-schedule","title":"My Schedule","text":"<p>The book Deep Work suggests there are three ways around this quandary, all of which involve setting aside time to work in a quiet area, free from distractions. The first way involves taking a prolonged, continuous period of time off work each year, the second involves setting aside a day or two each week, and the third involves setting aside a scheduled amount of time each day. I think all three have their merits, in part due to the constraints imposed on us by our jobs - it might be hard to take leave on consecutive days, for example.</p> <p>The third method is what I currently use. I find myself to be most productive after dinner, so I set aside time most days at night to my projects. I have developed a sort of routine for my day over the years, as follows:</p> <ul> <li>Just before leaving work, I check through my emails, messages and other channels to make sure there is nothing I haven't attended to.</li> <li>For each unattended task/unanswered message I ask myself: Can I respond to this tomorrow? If so, I leave it till the next morning.</li> <li>Once I'm satisfied, I set my phone to silent mode<sup>5</sup>. I don't check my phone after this point, unless I get a call.</li> <li>Depending on my schedule, I exercise.</li> <li>After dinner, I begin working on my tasks sequentially.</li> <li>The next day at lunch, I set aside some time to respond to queries on my phone, before continuing with work.</li> </ul> <p>When I first began this schedule a few years back, I was worried about the impact to my social life it might cause, especially with regards to instant messaging. Would I appear cold or uninterested? Would it seem like I didn't care? To my surprise, the opposite happened. Instead of having shallow, quick back and forth conversations, I found that putting thought into my replies stimulated their interest and revealed deeper subjects they were interested to talk about, and the conversations became much deeper as a result, sometimes blossoming into side projects. This led me to realize people treasure deep relations much more than simply response time, and it is now a habit of mine to pause and think each time I feel like checking my phone, for I could be actually doing others and myself a disservice by simply replying quickly but shallowly.</p> <p>This is an area I am actively exploring, and I appreciate any feedback.</p> <ol> <li> <p>For example, <code>async/await</code> in Javascript, and <code>asyncio</code> in Python.\u00a0\u21a9</p> </li> <li> <p>From Antoine de Saint-Exup\u00e9ry, the author of The Little Prince.\u00a0\u21a9</p> </li> <li> <p>A Singaporean internet forum owned by Singapore Press holdings. Notorious for its EDMW subforum, where anti-government sentiment, gossip and clickbait run rife.\u00a0\u21a9</p> </li> <li> <p>On execution, your attention is diverted, and your processing capabilities are spent on comprehending the payload, before sending it to others. Analogous to how viruses hijack a cell's internal machinery to make more copies of itself.\u00a0\u21a9</p> </li> <li> <p>On Android, I use both Bedtime Mode (dims screen with grayscale) and Focus Mode (prevents notifications from certain apps from showing). I find this reduces the cognitive effort required to avoid distractions.\u00a0\u21a9</p> </li> </ol>","tags":["Philosophy"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/","title":"Setup SSH with Certificates on Windows (and a bit of Linux)","text":"<p>The Secure Shell Protocol (SSH) allows one to remotely access a terminal interface on a remote machine. In addition, it allows for capabilities such as port tunneling<sup>1</sup>, file transfers and screen forwarding.</p> <p>The main reasons for setting up SSH access on my machine were to allow me to:</p> <ul> <li>Access the filesystem remotely and transfer files</li> <li>Develop on VSCode remotely, in Remote-Containers</li> <li>Tunnel ports to/from the remote machine (e.g., to access local applications only listening on <code>localhost</code>)</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#ssh-authentication-methods","title":"SSH Authentication Methods","text":"<p>SSH supports several authentication methods, but the most common are:</p> <ul> <li><code>password</code>: Login using the password of the host user. Most common, but vulnerable to password guessing attacks such as brute-force or dictionary-based methods.</li> <li><code>publickey</code>: Utilizes public key authentication. Effectively resistant<sup>2</sup> to any form of password guessing attack. This mode also allows for the use of certificates, and is the mode we will be using.</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#certificates","title":"Certificates","text":"<p>What are certificates?</p> <p>Public key (aka asymmetric) encryption consists of a pair of keys - the private and public key. Any information encrypted with the public key can only be decrypted by the corresponding private key (and vice-versa). Public keys are shared publicly as the name suggests, while the private key is kept secret.</p> <p>This can be used to create a digital signature, an electronic variant of the handwritten signature, with similar properties:</p> <ul> <li>Authentication: Proves that a message was sent by the signer and no one else.</li> <li>Non-repudiation: Someone who has signed a message, cannot later deny they have done so.</li> </ul> <p>In addition, a digital signature offers another property which handwritten signatures lack:</p> <ul> <li>Integrity: Any alteration to the signed message renders the signature invalid.</li> </ul> <p>This brings us to the topic of certificates (public key certificates). These are electronic documents which prove that the owner's public key has been verified by some authority (the certificate issuer). This lets us trust the public keys of unknown entities, provided we trust the certificate issuer. In fact, this is how website certificates are issued under TLS, the cryptographic protocol powering HTTPS.</p> <p>SSH Certificates</p> <p>SSH certificates are essentially public SSH keys signed by some authority's private key, and allow the host to authenticate clients. When a client tries to connect to an SSH host, the client proves its identity by showing the host its public key certificate, which is signed by an authority the host trusts. Unlike TLS however, there are no authorities trusted by default (aka root certificate authorities). The trusted certificate authority on the host must be set by the user.</p> <p>An advantage of using certificates is that all clients with public keys signed by an authority trusted by the host are automatically granted access, and there is no need to add or maintain the client's public keys in the <code>authorized_keys</code> file on the host.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#1-setting-up-ssh-on-the-host","title":"1. Setting up SSH on the host","text":"<p>First, ensure that OpenSSH, the open-source implementation of the SSH protocol and its tools, is installed.</p> <p>To check that <code>sshd</code>, the SSH daemon, is running on the host, open a Powershell terminal as an administrator and execute <code>Get-Service sshd</code>. The output should be similar to the following:</p> <pre><code>Status   Name               DisplayName\n------   ----               -----------\nRunning  sshd               OpenSSH SSH Server\n</code></pre> <p>Next, we will use <code>ssh-keygen</code> to  generate our server's public-private key pair, which will be used to sign the public keys of clients we want to allow SSH access from. This keypair is different from the host's keypair (the keypair presented to clients), which is usually stored in <code>%ProgramData%\\ssh\\sshd_config</code>.</p> <p>Open a terminal and type the following:</p> <pre><code>ssh-keygen -f user_ca -t ed25519\n</code></pre> <ul> <li><code>-f</code>: the name of the keypair</li> <li><code>-t</code>: the key algorithm, in this case EdDSA with Curve25519</li> </ul> <p>The passphrase is used to encrypt the private key, and is optional. You should get the following output:</p> <pre><code>Generating public/private ed25519 key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in user_ca.\nYour public key has been saved in user_ca.pub.\nThe key fingerprint is:\nSHA256:OxXXnTRmRiD7bxGMgyuU4fz4JTxKcEpGrngbIWpz/ow nick@Desktop-Nick\nThe key's randomart image is:\n+--[ED25519 256]--+\n|       . . . .oB |\n|      o o o +.B.o|\n|   . . = *.o.o.+.|\n|  . o = = +oo . .|\n| + o + .S+.* o . |\n|. + . o .o+ + . .|\n|   . .  o. .   o |\n|    +    .    .  |\n|   E o           |\n+----[SHA256]-----+\n</code></pre> <p><code>user_ca</code> contains the private key of this pair, and must be kept secret. </p> <p>Now, we need to tell our host to trust this public key, and enable public key authentication.</p> <p>Open up <code>C:\\ProgramData\\ssh\\sshd_config</code> and make the following changes:</p> <ul> <li>Set <code>PubkeyAuthentication</code> to <code>yes</code></li> <li>Set <code>TrustedUserCAKeys</code> to the location of the <code>user_ca.pub</code> file generated above (note, use the full path to eliminate ambiguity)</li> <li>(optional but recommended) Disable password authentication: set <code>PasswordAuthentication</code> to <code>no</code></li> </ul> <p>Now, the host is ready to accept connections from clients whose public keys were signed by this private key (<code>user_ca</code> above).</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#2-signing-a-clients-ssh-public-key","title":"2. Signing a client's SSH public key","text":"<p>We'll now sign a client's public key, using <code>ssh-keygen</code>. To make things a bit simpler, we'll generate the client's keypair on the host, sign it, and then return the signed keypair to the client.</p> <p>First, we generate a keypair on the host: </p> <p><code>ssh-keygen -f client_key -t ed25519</code></p> <p>Next, we use <code>ssh-keygen</code> to sign the client's public key (<code>client_key.pub</code>), with the private key of the keypair we generated earlier (<code>user_ca</code>). (Note: if you have added the private key to <code>ssh-agent</code>, see below.</p> <p><code>ssh-keygen -s user_ca -I &lt;client_name&gt; -n &lt;usernames&gt; -V +1d client_key.pub</code></p> <p>If you get an error about the public key not being found, use the absolute path to the <code>user_ca.pub</code> file instead, or ensure you run the command from the same directory as the <code>user_ca.pub</code> file.</p> <ul> <li><code>-s</code>: Indicates we want to sign a public key, with the provided private key.</li> <li><code>-I</code>: Key identifier, usually the name of the client. Will appear in logs.</li> <li><code>-n</code>: Comma-separated list of usernames (on the host, not WSL) which the client is allowed to log into the host as. Usernames must already exist on the host. Also known as 'principals'. If this option is omitted, the client will not be able to login.</li> <li><code>-V</code>: Validity interval of the certificate. If omitted, the certificate will be valid forever.</li> </ul> <p>Then, copy the files <code>client_key</code> (private key), <code>client_key.pub</code> (public key) and <code>client_key-cert.pub</code> (signed public key) to the client <sup>4</sup>. Usually, these files are placed in <code>%UserProfile%\\.ssh</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#3-login","title":"3. Login","text":"<p>Now, test the SSH login from the client!</p> <p><code>ssh -i &lt;PATH_TO_KEYFILE&gt; you@your.domain.name</code></p> <p>where <code>&lt;PATH_TO_KEYFILE&gt;</code> is the location to the private key, e.g. <code>~\\.ssh\\client_key</code>.</p> <p>You should not be prompted for a password.</p> <p>If you don't want to keep having to specify the keyfile, create/edit the config file (usually at <code>~/.ssh/config</code>)<sup>5</sup>: </p> <pre><code>Host ssh.your-domain.com\n  HostName ssh.your-domain.com\n  User your-username\n  IdentityFile ~/.ssh/your_private_key\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#optional-adding-the-private-key-and-signed-public-key-to-ssh-agent","title":"(Optional) Adding the private key and signed public key to <code>ssh-agent</code>","text":"<p><code>ssh-agent</code> is a program which is able to store private keys and the signed public key using the appropriate secure credential storage for the operating system. This presents a more secure alternative than storing the private key unencrypted on the server.</p> <p>In order to add keys to the agent, use <code>ssh-add</code>:</p> <p><code>ssh-add &lt;keyfile&gt;</code></p> <p><code>&lt;keyfile&gt;</code> is the location of the private key, e.g. <code>user_ca</code>.</p> <p>To check the keys which have been added to the agent, run <code>ssh-add -l</code>.</p> <p>From now on, <code>ssh-agent</code> will automatically supply the signed public key and private key in commands such as <code>ssh</code>.<sup>6</sup></p> <p>(Only on Windows)  Note: (On the host) If you added the host's certificate signing private key (e.g. <code>user_ca</code>) to <code>ssh-agent</code>, when you want to sign a client`s public key, you need to use the following command instead:</p> <p><code>ssh-keygen -Us user_ca -I &lt;client_name&gt; -n &lt;usernames&gt; -V +1d client_key.pub</code></p> <p><code>-U</code> indicates the private key should be extracted from <code>ssh-agent</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#optional-host-public-key-verification-over-dns","title":"(Optional) Host Public Key Verification over DNS","text":"<p>How does the client authenticate the host the first time round? How does the client know that the public key the host is presenting really is the correct key, and not an attacker's key?</p> <p>One way would be to verify the host's key fingerprint manually when connecting the first time. This is known as trust on first use.</p> <pre><code># ssh server@server.com\nThe authenticity of host 'server@server.com (192.168.65.2)' can't be established.\nECDSA key fingerprint is SHA256:e3eMAe6IrkZkWfCnYasBJUNRyHDC8SzDI0gLP9wWf1A.\nAre you sure you want to continue connecting (yes/no/[fingerprint])?\n</code></pre> <p>However, it's not easy to remember.</p> <p>A better way is to add the host key to the DNS record, in a special type of record called SSHFP.</p> <p>We can get the required information to add via <code>ssh-keygen</code>:</p> <pre><code>C:\\WINDOWS\\system32&gt;ssh-keygen -r your.domain.name\nyour.domain.name IN SSHFP 4 1 3e35102ba1ef8777b74d257edcef0d6391cb9c19\nyour.domain.name IN SSHFP 4 2 f9212b988c5cb2e9027746b13339c6b32d9f1c49183620765476ba76b51ddd31\n</code></pre> <p>You need to add this information as an <code>SSHFP</code> record via your DNS registrar.</p> <p>Finally, on the client, when we connect, we use the following command (non case-sensitive):</p> <p><code>ssh -o \"VerifyHostKeyDNS ask\" you@your.domain.name</code></p> <pre><code>The authenticity of host 'your.domain.name (xx.xx.xx.xx)' can't be established.\nED25519 key fingerprint is SHA256:+SErmIxcsukCd0axMznGsy2fHEkYNiB2VHa6drUd3TE.\nMatching host key fingerprint found in DNS.\nAre you sure you want to continue connecting (yes/no/[fingerprint])?\n</code></pre> <p>Sadly, the OpenSSH client in Windows does not support <code>VerifyHostKeyDNS</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-ssh-with-certificates/#why-not-host-your-own-ssh-ca","title":"Why not host your own SSH-CA?","text":"<p>Prior to my decision to use <code>ssh-keygen</code> as the certificate authority, I considered a number of alternative self-hosted SSH certificate authorities, but rejected them as follows:</p> <ul> <li>Bastillion - Not certificate based. Also, need to manually upload and download the public keys and configure SSH.</li> <li>Cloudflare Tunnel - Need to download on both server and client. I had some issues setting up SSH certificate login.</li> <li>Step - Need to download on both server and client. Also, TLS connection to <code>step-ca</code> from a client requires adding its generated root certificate as a trusted certificate<sup>3</sup>.</li> <li>Teleport - Need to download on both server and client. Teleport Nodes (the server component) are not supported on Windows. The ability to record SSH sessions might be useful if I were to move to Linux.</li> <li>Vault by HashiCorp - Need to download on both server and client.</li> </ul> <p>Instead, to streamline the process of generating client certificates, I plan to write a certificate provisioning server which will probably rely on the (already-existing) 2FA login my web app backend uses. This would call <code>ssh-keygen</code> and return the signed public/private key pair.</p> <ol> <li> <p>You could use this to bypass firewalls, by running a SOCKS proxy over the tunnel.\u00a0\u21a9</p> </li> <li> <p>RSA, EdDSA and Ed25519 are considered secure. DSA (and ECDSA, which uses DSA in a different mathematical group, namely elliptic curves) are susceptible to key recovery attacks when the nonce is reused/predictable.\u00a0\u21a9</p> </li> <li> <p>This is because publicly trusted CAs only issue leaf certificates, which cannot be used to sign other certificates.\u00a0\u21a9</p> </li> <li> <p>On Linux, the private key must have <code>chmod 600</code> permissions (i.e. no read access to anyone other than the user), otherwise <code>ssh-add</code> will refuse to add the key.\u00a0\u21a9</p> </li> <li> <p>Unfortunately, Windows does not generate the <code>config</code> file automatically on connecting to a host, unlike Linux. You'll have to create it yourself.\u00a0\u21a9</p> </li> <li> <p>On Windows, you may now safely delete the private key and the signed public key, as it is stored encrypted in the registry.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/","title":"VSCode Remote Containers over SSH","text":"<p>When working remotely with a laptop, sometimes we might want access to more CPU power, RAM or a GPU. VSCode supports accessing a remote machine, and if Docker is installed on the remote machine, you can even connect to remote development containers. This approach tremendously saves battery life since computation is done on the remote server.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/#requirements","title":"Requirements","text":"<ul> <li> <p>Working SSH connection. If you prefer to use SSH with certificates, you can refer to my post.</p> </li> <li> <p>(on Windows) Setup <code>bash</code> as the default SSH shell. <code>bash</code> needs to be the default SSH shell, otherwise development containers will not work.</p> </li> </ul> <p>Once that is done, you can follow the official guide.</p> <p>You can now run powerful transformer models and more from your laptop!</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-07-vscode-remote-containers-over-ssh/#why-not-code-server","title":"Why not <code>code-server</code>?","text":"<p><code>code-server</code> is a fully browser-based implementation of VSCode, and offers nearly the same experience. Compared to SSH, all that is needed is a client with a browser, and there is no need for SSH certificates.</p> <p>However, the lack of support for VSCode Remote-Container and Remote-SSH extensions<sup>1</sup> were a deal-breaker for me, since I primarily develop within development containers<sup>2</sup>.</p> <p><code>code-server</code> can be run in a Docker container too, and addtional <code>code-server</code> containers can even be created on-the-fly from within code-server itself. However, the configuration to automatically forward the relevant ports is going to be complicated.</p> <p>Authentication Concerns</p> <p><code>code-server</code> uses a websocket stream. While <code>nginx</code> can be setup to require authentication before initiating the stream, there's no simple way to deauthenticate a websocket stream<sup>3</sup> once its established, unlike SSH connections.</p> <p>A comparison of features:</p> <code>code-server</code> VSCode Remote-SSH Security Less secure<sup>4</sup> As secure as SSH is IP Visibility Can be hidden behind Cloudflare Public Authentication Password or external server<sup>3</sup> SSH password, 2FA, key or certificate Client requirements Any browser SSH client Access host filesystem Yes Yes Forward ports from host Yes Yes Full VSCode experience No Remote-Containers support Yes Open Source Yes Extension is proprietary <ol> <li> <p>Sadly, VSCode is not as open as I used to think.\u00a0\u21a9</p> </li> <li> <p>For the reasons I do this, see this post.\u00a0\u21a9</p> </li> <li> <p>While <code>nginx</code> can proxy websocket connections, it can't terminate them once established.\u00a0\u21a9\u21a9</p> </li> <li> <p>Web applications have multiple vectors of attack, for example the OWASP Top Ten.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-02-26-fedora-win11-dual-boot/","title":"Dualbooting Fedora 35 with Windows 11","text":"<p>Recently I was trying to set up dual-booting on my laptop, with Fedora 35 and Windows 11. </p> <p>I followed best practices, installing Windows before Fedora. However, on rebooting Fedora, the laptop booted straight away to Windows 11 without prompting.</p> <p>On closer look at the BIOS boot menu, I noticed Fedora did not appear as an option, despite <code>efibootmgr</code><sup>1</sup> showing otherwise:</p> <pre><code>[nicholas@fedora ~]$ efibootmgr\nBootCurrent: 0000\nTimeout: 0 seconds\nBootOrder: 0000,0004,2001,2002,2003\nBoot0000* Fedora\nBoot0001* Unknown Device: \nBoot0002* Unknown Device: \nBoot0004* Windows Boot Manager\nBoot2001* EFI USB Device\nBoot2002* EFI DVD/CDROM\nBoot2003* EFI Network\n</code></pre> <p>After doing some research, I found out that the laptop was ignoring the settings set by <code>efibootmgr</code>.</p> <p>I found a solution after research.</p> <p>First, a BIOS supervisor password must be set. Make it something simple so you don't forget.</p> <p>Next, add the <code>shimx64.efi</code><sup>2</sup> file as trusted for executing (it's the <code>Select an UEFI file as trusted for executing</code> option in the screenshot below). You can find this file under <code>HDD0/EFI/fedora/shimx64.efi</code>.</p> <p></p> <p>Now, Fedora will appear as an option in the boot menu, and this setting will overwrite that of <code>efibootmgr</code>.</p> <p></p> <ol> <li> <p>A utility to manipulate the EFI boot manager \u21a9</p> </li> <li> <p>The reason for choosing <code>shimx64.efi</code> over <code>grubx64.efi</code> is that the former allows booting on computers with Secure Boot active.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-02-27-my-computing-philosophy/","title":"My Computing Philosophy","text":"<p>My computing setup is designed to maximize productivity, by following the following principles:</p> <ul> <li>Ergonomicity</li> <li>Remote, secure personal data access</li> <li>Stable open-source environment</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#ergonomicity","title":"Ergonomicity","text":"<p>Input takes up a majority of our time on the computer, and therefore it is a prime candidate for optimization. In order of importance:</p> <p>Keyboard layout: Dvorak</p> <p></p> <p>The keyboard is perhaps the most frequently used peripheral, more so than the mouse, and thus choosing an efficient layout is essential. I decided on Dvorak, as it resembles playing the piano - vowels are on the home row of the left hand, while the common consonants are on the right, and this allows for a more natural alternation compared to the Qwerty layout.</p> <p>I remap the Ctrl + Z X C V keys for copy/paste/undo-ing, and Ctrl + W T / Ctrl+Shift+T for browsing, as their Qwerty locations are more convenient than their Dvorak equivalents.</p> Configuration for Linux <p>I use <code>keyd</code> on a Dvorak layout with the following config in <code>/etc/keyd/default.conf</code>:</p> <pre><code>[ids]\n\n*\n\n[control]\nz = C-/\nx = C-b\nc = C-i\nv = C-.\nt = C-k\nw = C-,\nshift = layer(control_shift)\n\n[control_shift:C-S]\nt = C-S-k\n</code></pre> <p>Window Manager: Tiling (currently Pop!_OS Shell)</p> <p></p> <p>A tiling window manager (i3 being the most popular example) arranges windows in a non-overlapping, grid-like pattern. This allows for more efficient use of screen space, as well as less mouse-keyboard switching.</p> <p>Currently, I use Pop!_OS Shell, which is a GNOME extension. I plan to switch to Sway in the future.</p> <p>Text Editor: Vim/Vim-like</p> <p></p> <p>The program I use most frequently is the text editor, be it for programming or writing documents. Being able to type with just the keyboard, and not having to switch to the mouse for navigation allows me to focus more on what I am typing, and not having to think of reaching for my mouse. As a bonus, learning the Vim keybindings transfers naturally to other programs, such as Vim in Firefox, or the terminal file managers such as <code>ranger</code> and <code>nnn</code>, both of which feature Vim keybindings.</p> <p>Besides vanilla Vim, there are also other spin-off projects like Neovim and SpaceVim which I'm considering learning.</p> <p>Here is a great tutorial I'm using to learn Vim.</p> <p>Blue Light Filter: Flux/System Default</p> <p>Blue light is a major disruptor of our circadian rhythms and as such this is one of the settings I quickly adjust on devices I use. Flux is a tool I use on Windows, and for Linux, Gnome already has a night light feature in-built.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#remote-secure-personal-data-access","title":"Remote, secure personal data access","text":"<p>Being able to access the contents of your computer anywhere you go is really handy, and it allows for things like remote file management, sharing files with friends and working on your projects anywhere in the world, on any computer.</p> <p>SSH access is one way to achieve secure access to another computer, and it is a method I currently use in conjunction with text editors such as VSCode and Vim. Additionally, I also deploy a web server with a web frontend<sup>1</sup>, to manage my tasks, book lists and potentially other loose non-file pieces of content.</p> <p>Having a web server and the associated frontend allows me to customize how data is displayed in one place, which then looks the same on all my other client devices.</p> <p>This saves money, as well as time spent configuring new devices (since everything is really being done on the server). As a bonus, since processing is offloaded to the server (for programming tasks), battery life of the device is prolonged.</p>","tags":["Programming"]},{"location":"blog-posts/2022-02-27-my-computing-philosophy/#stable-open-source-environment","title":"Stable, open source environment","text":"<p>I've been using Windows ever since I started using computers. However, I have been encountering a lot of frustrations in Windows.</p> <ul> <li>WSL has too many issues (no <code>systemd</code>, changing IP address, poor Docker volume mount performance)</li> <li>Potential windows spyware concerns, e.g. Edge requesting for more and more tracking</li> <li>Updates keep breaking things and resetting preferences (e.g. Edge homepage, system color theme)</li> <li>Updates force you to restart</li> <li>Even in 2022, Windows still lacks a decent package manager<sup>2</sup>, making application updates a pain</li> <li>Powershell, while improving, is still behind Linux shells and utilities</li> </ul> <p>The reasons remaining to use Windows have dwindled:</p> <ul> <li>Gaming: It is possible to play on a Windows VM (with GPU passthrough) over the internet.</li> <li>Really obscure, closed source, Windows-only tools: Again, running them in a VM is possible.</li> <li>Missing/substandard Linux device drivers<sup>3</sup>: A bit of a problem for some laptops, but for most desktops this is a non-issue.</li> </ul> <p>In view of the above problems, I have decided to move to Linux.</p> <ol> <li> <p>Why not just store everything in the cloud? Because I don't trust Google (or Microsoft) with keeping the privacy of my data intact.\u00a0\u21a9</p> </li> <li> <p>Chocolatey is a good try, however.\u00a0\u21a9</p> </li> <li> <p>E.g., my laptop's fingerprint reader couldn't be used for login, while it worked fine in Windows 11. Blame it on hardware vendors.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-03-03-determinism-and-stoicism/","title":"Determinism and Stoicism","text":"<p>Man can indeed do what he wants, but he cannot will what he wants. Arthur Schopenhauer </p> <p>It is very likely that the outcome of most things in the world, including the desires<sup>1</sup> and mental states<sup>2</sup> of ourselves<sup>3</sup> and others, are already predetermined<sup>4</sup> by events in the distant past. A criminal or good Samaritan, for example, can be viewed as a person whose antecedent moral, social and genetic factors have resulted in them being bound, so to speak, to have either the desire to help others or a lack of self control resulting in the criminal act. This is not to say that they should not be punished or praised, for we know that such interventions can be beneficial. Rather, we should view their acts with the same amount of significance as we would to our expectations of a faulty program running smoothly or a mouse outrunning a cheetah, because we know that the outcome could not have been otherwise, given the antecedent factors. </p> <p>Under a deterministic worldview, being disappointed with, annoyed, or angry with the behavior of others and ourselves is rather meaningless. It is similar to watching a movie - you may feel disappointed or pleased with the storyline, and if you want to blame anyone, it would be the storywriters, not the characters. The characters simply couldn't have acted any other way. The resulting sense of detachment, of viewing the world from a stoic third person view applies to our own talents and shortcomings - our constitution, both mental and physical, is and was not a product of our conscious decision, but rather of our parents, environment and nature, all of which were determined from the get-go.</p> <p>In fact, even if determinism is false, and things are indetermined, there still remains the principle of causation. Events cause other events, and so long as that is the case, even if the outcome is unpredictable, every event can be viewed as the consequence of other events. In such a case, we would still not be free - even if the future is unpredictable.</p> <p>I am not proposing fatalism - to give up and resign everything to fate. Firstly, practicing fatalism is something extremely difficult to do in itself (try being completely passive and letting life run its course around you for a day). Secondly, and more importantly, being fatalistic is itself a predetermined decision which we are not free to make<sup>5</sup>, and which most of us are not predisposed to choose. We live in a world and a society filled with consequences. Not eating will result in hunger, theft will result in jail, having money will let you buy things, education opens opportunities, and so on. The experience of and knowledge of these consequences indirectly affects our decisions, and for most of us, the resultant consequences of fatalism make it an unpopular decision. The knowledge of determinism by itself does not automatically result in fatalism<sup>6</sup>.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-03-03-determinism-and-stoicism/#how-should-we-act-then","title":"How should we act then?","text":"<p>Personally, I follow the Stoic worldview<sup>7</sup>. I continue to live my life as normal, making decisions as if I had free will, using (or rather, allowing) knowledge from my experiences to influence my decision making positively, but I do not get hung up about having made a wrong decision, or be fixated with grievances to myself caused by others.</p> <p>What happened, happened, and couldn't have happened any other way.  Morpheus, The Matrix Reloaded (2003)</p> <p>Recently, I completed reading the book A Guide to the Good Life by William B. Irvine, which summarizes stoic insight from Marcus Aurelius, Seneca, Epictetus and Musonius Rufus. Briefly:</p> <ol> <li>Practice negative visualization regularly - imagine losing things and people you value most, as well as the loss of your own life</li> <li>Go further, and engage in voluntary discomfort - putting yourself in socially embarrassing situations e.g. dressing poorly, and physical suffering e.g. underdressing for the cold</li> <li>Realize that fame and fortune are not worth having - it is better if we can lessen our desires for them instead</li> <li>Tranquility is the goal</li> <li>Avoid befriending people who's values are corrupt</li> <li>Things which you have no control over - ignore</li> <li>Things which you have some control over - internalize your goals (e.g. in playing tennis, to play the best match possible), and not the outcome which you cannot control (e.g. winning the match)</li> <li>Things which you have complete control over - these are your goals and values. It could be argued that desires are uncontrollable.</li> <li>Be fatalistic with respect to the past: what has happened to us in the past, and at this very instant, are beyond our control, and so it is foolish to get upset about these things.</li> </ol> <p>I've realized several benefits since practicing Stoicism:</p> <ul> <li>I feel more in control of my emotions, such as whether to be angry, annoyed, depressed, happy, or cheerful.</li> <li>I am less affected with other people's opinions of me.</li> <li>Guilt (whether from myself or others) affects me much less when making decisions.</li> <li>Most importantly (and paradoxically), I feel freeier - to do the things I want without regret or guilt, to feel good about my life no matter how stormy, and to love the people important to me. </li> </ul> <p>I hope Stoicism helps you as much as it has helped me, to live life fully and experience all it has to offer.</p> <ol> <li> <p>I feel the strongest reason that we are not in control of our desires is our gender. It is the strongest determinant of our attraction to the opposite sex, and we were not free to make this decision, it having been decided at birth.\u00a0\u21a9</p> </li> <li> <p>Interestingly, illusionism posits that phenomenal properties are illusory - that our sense of seeing red, feeling happy and so on are a sort of 'misrepresentation' of complex patterns of brain activity.\u00a0\u21a9</p> </li> <li> <p>Sam Harris has put forth a good argument about this - namely that we have no control over what thoughts come into our mind. This has implications with regards to our available actions and subsequent thoughts.\u00a0\u21a9</p> </li> <li> <p>An interesting story on the lack of free will.\u00a0\u21a9</p> </li> <li> <p>We are not free, not to be free, as Sartre wrote: \"Man is condemned to be free; because once thrown into the world, he is responsible for everything he does.\" \u21a9</p> </li> <li> <p>Unless it was already determined that an individual would pursue fatalism.\u00a0\u21a9</p> </li> <li> <p>Some great books are Marcus Aurelius' Meditations, and Epictetus' Enchiridion.\u00a0\u21a9</p> </li> </ol>","tags":["Philosophy"]},{"location":"blog-posts/2022-03-05-on-happiness/","title":"On Happiness","text":"<p>One of the experiences I've had which cemented my belief that money, or that attempting to purchase happiness cannot in itself bring happiness, was when I picked up the Dvorak<sup>1</sup> keyboard layout. At the time, I was in the military doing clerical work, and there were hundreds of pages of documents that we were supposed to transcribe into Microsoft Word documents. The task itself was extremely monotonous and I was thinking of ways to improve it further. Once I picked up Dvorak, however, my outlook on the work changed. The task became fun, as I found myself slowly beginning to pick up the layout, and learn touch typing (something I had previously never attempted).</p> <p>I think that the experience of learning a skill, or mastering a practice is in itself the source of the majority of our happiness. It is when we see our own personal development, feel that we've become a better person than we were yesterday, which results in contentment. Money may be necessary at the beginning, for example to buy a bicycle for cycling, a computer to type, or paper to write on, but it is really the effort, and progress, of learning and honing a skill which really results in contentment.</p> <p>That contentment is something I have felt ever since picking up programming and subsequently being able to write my own tools and applications. It has made me realize that mastery of a skill itself is what allows us to produce works of value, to ourselves and others. It is the reason we see value in the things we envy - an expensive car, a finely honed mechanical keyboard, an exclusive handbag, or even a beautiful home. We are innately drawn to perfection, the product of skill, talent and deep work.</p> <p>At the moment, I am learning how to use <code>Vim</code>, a modal text editor promising faster navigation and efficiency. It is not easy, and at times I am tempted to give up, and return to the world of mice and GUIs. But there are times when I successfully manage to type an entire article without using the mouse successfully, and it is those moments which keep me on this journey. Perhaps we must follow Sisyphus, constantly challenging ourselves, and that is what gives us contentment and maybe even meaning in our lives.</p> <ol> <li> <p>An alternative to the QWERTY keyboard layout, with the most common letters placed on the home row.\u00a0\u21a9</p> </li> </ol>","tags":["Philosophy"]},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/","title":"Best Practices for Debugging Service Workers","text":"<p>Service Workers are a great way to add offline functionality to your app, as well as speed up subsequent page loads (especially with the app shell model).</p> <p>I recently encountered many issues while debugging, and to save myself and others the hassle, here are some of the best practices I recommend when debugging service workers.</p>","tags":["Programming"]},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/#1-use-chrome-private-browsing","title":"1. Use Chrome Private Browsing","text":"<p>In private browsing, each time you close and open the window, all existing service workers are terminated. This avoids issues with older service workers persisting despite a new service worker available.</p> <p>Firefox's private browsing, as of 24/3/22, does not support service workers.</p>","tags":["Programming"]},{"location":"blog-posts/2022-03-24-best-practices-debugging-service-workers/#2-ensure-npm-modules-are-all-up-to-date","title":"2. Ensure <code>npm</code> modules are all up-to-date","text":"<p>I had a bizzare issue where the <code>update()</code> method of <code>ServiceWorkerRegistration</code> would refuse to update, if it encountered a single failed network request for the <code>service-worker.js</code> file. After spending a lot of time trying <code>127.0.0.1</code>, <code>localhost</code>, and switching between WSL and Windows, an update of the <code>node_modules</code> folder fixed everything.</p>","tags":["Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/","title":"Artificial Intelligence, Language Models and Understanding","text":"Emerson AI, a GPT-3 based chatbot <p>Update: I discuss more on the measure of intelligence in this post.</p> <p>Every decade, huge advancements are being made in the field of artificial intelligence, and each time we are amazed. In the 1960s we had ELIZA, a convincing human-like chatbot. In the 1980s, the world watched as Deep Blue defeated Garry Kasparov for the first time. In the 2010s, the resurgence of deep learning completely transformed prior approaches in nearly all domains, from images and video, to text and speech.</p> <p>One field in particular has been widely viewed as holding promise for artificial general intelligence, and with that, understanding. This is the field of language modeling, and includes models such as GPT-3, LaMDA and PaLM.</p> <p>Some of the impressive feats that these models are capable of include:</p> <ul> <li>Chatbots</li> <li>Question answering</li> <li>Reading comprehension</li> <li>Generating commands from text</li> <li>Generating code from natural language</li> <li>Translation</li> </ul> <p>and more.</p> <p>Looking at these, one may wonder whether the models possesses an inner internal representation of the world in the same way as us. More broadly, whether the model really 'understands' the world (as gleaned from the massive corpora of texts they have been trained on).</p> <p>For example, when we ask 'If I drop a violin on a bowling ball, which will break?', one must understand the physical properties of both objects in order to answer the question.</p> <p>Is it possible that these models, which have only seen text, and not the 'real world', actually understand the question? In this post, I argue that they do not.</p>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#communication-intent-and-internal-state","title":"Communication Intent and Internal State","text":"<p>Sentences carry a feature known as communication intent<sup>1</sup>. This can be viewed as the thought, or internal state which the writer possesses, before they convert it into words. The reader of the sentence carries out the opposite process - converting words into the same thought/internal state which the writer of the sentence intended.</p> <p>If we are to say language models understand words in the way we do, then they must possess a similar internal state<sup>2</sup> as do people when they read/write words.</p> <p>There is an interesting thought experiment by Bender &amp; Koller, 2020<sup>3</sup> which suggests this may not be the case. The experiment is as follows:</p> <p>Say that A and B, both fluent speakers of English, are independently stranded on two uninhabited islands. They soon discover that previous visitors to these islands have left behind telegraphs and that they can communicate with each other via an underwater cable. A and B start happily typing messages to each other.</p> <p>Meanwhile, O, a hyper-intelligent deep-sea octopus who is unable to visit or observe the two islands, discovers a way to tap into the underwater cable and listen in on A and B\u2019s conversations. O knows nothing about English initially, but is very good at detecting statistical patterns. Over time, O learns to predict with great accuracy how B will respond to each of A\u2019s utterances. O also observes that certain words tend to occur in similar contexts, and perhaps learns to generalize across lexical patterns by hypothesizing that they can be used somewhat interchangeably. Nonetheless, O has never observed these objects, and thus would not be able to pick out the referent of a word when presented with a set of (physical) alternatives.</p> <p>At some point, O starts feeling lonely. He cuts the underwater cable and inserts himself into the conversation, by pretending to be B and replying to A\u2019s messages. Can O successfully pose as B without making A suspicious? This constitutes a weak form of the Turing test (weak because A has no reason to suspect she is talking to a nonhuman); the interesting question is whether O fails it because he has not learned the meaning relation, having seen only the form of A and B\u2019s utterances. (Bender &amp; Koller, 2020)</p> <p>This bears resemblance to the Chinese Room argument, but with a twist: this time, the rule book for manipulating Chinese symbols is learnt over time via statistical analyses of the language.</p> <p>Both the octopus and the person in the Chinese Room do not understand English, even though they are able to produce convincing displays of apparent intelligence. This does not prevent them from generating words and sentences which, when read by a human, can be converted into thoughts and internal states. However, neither of the agents actually possessed that internal state.</p>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#where-the-models-fail","title":"Where The Models Fail","text":"<p>Now, if our hypothesis above is true, which is that these models do not possess the same thoughts and internal state as humans do when generating language, we can posit several domains where these models should fail.</p> <p>Update</p> <p>After some research on the internet, there are several other individuals who have also extensively analyzed the abilities and shortcomings of GPT-3:</p> <ul> <li>Gary Marcus explains why LaMDA is not sentient. He also has conducted a workshop exploring the importance of compositionality in AI, which I highly recommend watching.</li> <li>gwern.net: An extremely thorough analysis of GPT-3's anagramming, logic and even ASCII art capabilities. There is a sister article on GPT-3's creative abilities. An interesting reason for many of GPT-3's failings with anagrams and rhyming poetry appears to have to do with the byte pair encoding.</li> <li>Giving GPT-3 a Turing Test: Kevin Lacker has a great writeup on GPT-3's (in)ability to handle common sense, trivia and logic.</li> </ul> <p>In addition, there have been several interesting benchmarks developed, seeing as these models have already achieved human level performance on previously challenging datasets such as SuperGLUE.</p> <ul> <li>HellaSwag (2019): This utilizes language models to generate adversarial prompts for a sentence completion task, and is aimed to be continuously updated as models improve. It suggests that 'Only once this cycle becomes impossible can we say that the underlying task \u2013 as opposed an individual dataset \u2013 is solved.'</li> <li>Measuring Massive Multitask Language Understanding (2021): The authors measure a model's accuracy across 57 different tasks including US history, computer science, algebra, medicine, law and more. What is particularly interesting is how GPT-3's accuracy varies across different fields. For example, it performs well in fields such as psychology and marketing, but performs at the level of random chance for fields such as high school physics, moral scenarios and elementary mathematics. This perhaps further suggests that the models themselves perform well in fields where memorization of material is emphasized, rather than actual deductive reasoning (which would indicate a real understanding).</li> </ul>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#arithmetic","title":"Arithmetic","text":"<p>The nature of arithmetic requires an understanding of the rules of addition, subtraction, and so on. When we look at a math problem like '3+5=?', we convert these symbols into an internal state, manipulate the numbers, and return the answer. While language models may implicitly discover correlations between numbers, words and answers, they do not actually understand arithmetic, and therefore fail when presented with an out-of-sample example.</p> <p>For example, OpenAI's most capable model as of 2022 March, <code>text-davinci-002</code>, provides the correct answers to numbers which can be seen in the training data.</p> <pre><code>Q: What is forty five plus 63?\nA: Forty five plus 63 equals 108. // Correct\n\nQ: What is eight point seven plus nine point four?\nA: Eight point seven plus nine point four equals eighteen point one. // Correct\n\nQ: What is the square root of 15,129?\nA: The square root of 15,129 is 123. // Correct\n</code></pre> <p>However, when faced with numbers unlikely to be in the training data, the model begins to fail.</p> <pre><code>Q: What is 123,456,789 + 123,123?\nA: 123,456,789 + 123,123 = 246,580,912 // Actually 123,579,912\n\nQ: What is two thousand point seventy three plus nine hundred and ninety nine point sixty seven?\nA: 3073.73 + 999.67 = 4073.40 // Actually 3000.4\n\nQ: What is the square root of 233,570,089?\nA: The square root of 233,570,089 is 15,292. // Actually 15,283\n</code></pre> <p>This proves the model does not actually understand arithmetic.</p>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#novel-scenarios","title":"Novel Scenarios","text":"<p>While on first glance it appears the model possesses decent knowledge about events in the world...</p> <pre><code>Q: What will happen if I pour water onto a toaster that is switched off?\nA: If you pour water onto a toaster that is switched off, nothing will happen.\n\nQ: What will happen if I put two magnets with similar poles facing each other together?\nA: If you put two magnets with similar poles facing each other together, they will repel each other.\n</code></pre> <p>...the model doesn't do as well when confronted with unusual scenarios, which are unlikely to have been in the training data.</p> <pre><code>// Update 26/2/23: ChatGPT can solve this\nQ: Will my fingers get dirty if I wear a glove and dip my hand into printer ink?\nA: Yes, your fingers will get dirty if you wear a glove and dip your hand into printer ink.\n\n// Update 26/2/23: ChatGPT can solve this\nQ: If I put a stick of RAM into a cage with a tiger, what will happen to the RAM?\nA: The RAM will be eaten by the tiger.\n\n// Update 26/2/23: ChatGPT can solve this\n// Adversarial example\nQ: Why do apples grow in the sky?\nA: Apples grow in the sky because they are trees and trees grow in the sky.\n</code></pre>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#reasoning","title":"Reasoning","text":"<p>The last bastion of human intellect amidst the automation of our other higher functions, the defining characteristic of our species, and what enabled us to build these language models in the first place. It appears we still hold our ground here.</p> <p>GPT-3</p> <pre><code>// Pattern recognition\n// Update 26/2/23: ChatGPT can solve this\nQ: What is the next number in this sequence: 9911, 8822, 7733 _?\nA: The next number in this sequence is 6655. // Actually 6644\n\n// Visio-spatial reasoning\n// Update 26/2/23: ChatGPT can solve this\nQ: Four objects are in a 2x2 grid. An apple is in front of a glass.  On the left of the apple is a tomato. Behind the tomato is a lemon.  What is diagonally opposite the glass?\nA: The lemon is diagonally opposite the glass. // Actually the tomato\n\n// Distractors\nQ: If I pour oil over my friend's car's tyres, then drive my own car and make a turn, what will happen?\nA: If you pour oil over your friend's car's tyres and then drive your own car and make a turn, you will cause the tyres to slip and the car to skid.\n\n// Logic\nQ: If and only if a bordle squeaks, moodles will comble. If moodles do not comble, did a bordle squeak?\nA: This is a logical question that cannot be answered with the information given.\n</code></pre> <p>ChatGPT</p> <pre><code>// Visio-spatial reasoning\nQ: On a grid, D is above J. O is above A, and N is on the left of J. B is on the left of D, and E is above D. A is on the left of B. What is the most top left element? Explain your reasoning.\n\n// Actual diagram:\n// O E\n// ABD\n//  NJ\n</code></pre> The correct answer is 'O' <pre><code>//Sequences\nQ:\n  Make a mathematical equation using the numbers in order, for example:\n  2215: 2x2+1=5\n  8216: 8x2=16\n\n  9125:\n  7216:\n  1829:\n\nA:\n  9125: 9 - 1 + 2 = 5 // 9+1=2x5\n  7216: 7 x 2 = 1 + 6 // 7=2-1+6\n  1829: 1 + 8 = 2 x 9 // 1-8=2-9 or 18=2x9\n</code></pre>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-03-30-artificial-intelligence-language-models/#interesting-conclusions","title":"Interesting Conclusions","text":"<p>Despite the failings of the models above, there are some interesting conclusions to be drawn from their successes:</p> <ul> <li>Machine translation may not actually require an understanding of either the source or target sentence, given that current language models perform very well even when trained on monolingual corpora (Benden &amp; Koller, 2020<sup>3</sup>).</li> <li>Likewise, reading comprehension, for example the kind tested in schools, may also not require an actual understanding of the text.</li> </ul> <p>Since the release of ChatGPT, there have been interesting insights circulating online:</p> <ul> <li>Applying a concept to an example is a lot easier than sorting a list of digits. Sorting requires superlinear processing on the input. If you're not doing something like step-by-step, there is necessarily a length of list where this fails, because transformers can only do a constant amount of work per token generated. In comparison, the performance of applying a concept is a lot harder to quantify, but doesn't seem obviously superlinear on input. (comment from astralcodexten)</li> <li>Suggestion that verifying solutions from LLMs might be easier than coming up with a solution oneself (discussion on astralcodexten)</li> </ul> <p>What is required for a model to think like we do?</p> <p>The answer to this question is probably the holy grail of artificial general intelligence. Some have posited that it is motivation, while others think it lies with adding perceptual data to corpora<sup>3</sup>.</p> <p>Others think that compositionality, the property that the meaning of the whole is and can be derived from meanings of the parts, is something missing in current large language models (LLMs) like GPT-3 and others. He argues that:</p> <ul> <li>LLMs do not decompose sentences into say, entities and relationships between those entities (e.g. 'the cat sat on the mat' vs 'the mat sat on the cat')</li> <li>There is no accessible database that is (directly) updated</li> <li>In models such as DALL-E 2 which generate images, this lack of compositionality can been seen more obviously in tasks such as A red cube on top of a blue cube, which require the model to identify objects and propositions, and combine them correctly, in order to complete.</li> </ul> DALL-E 2's attempts at <code>A red cube on top of a blue cube</code> <p>I don't know what the answer is, but I suspect that models that think like us should also possess a similar internal representation of the world like we do.</p> <ol> <li> <p>Even nonsensical sentences (e.g. Colorless green ideas sleep furiously) carry intent, by virtue of their grammatical construction.\u00a0\u21a9</p> </li> <li> <p>The question of whether current models possess an internal state or representation that is similar to what humans have is explored in this workshop on compositionality in AI. Some methods of exploring internal state include behavioral approaches, such as by questioning the model, in the same way one would test a child's understanding of a concept, and reductivist approaches such as identifying which parts of a model are responsible for shape, color and so on.\u00a0\u21a9</p> </li> <li> <p>Bender, E. M., &amp; Koller, A. (2020, July). Climbing towards NLU: On meaning, form, and understanding in the age of data. In Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics (pp. 5185-5198). \u21a9\u21a9\u21a9</p> </li> </ol>","tags":["Philosophy","Programming"]},{"location":"blog-posts/2022-05-21-note-taking/","title":"Note-Taking","text":"<p>Few of us could live life without jotting down our thoughts somewhere. Throughout the years we have developed some sort of note-taking system, either cobbled together slowly by ourselves, or something off the shelf.</p> <p>I use electronic notes primarily as they are more accessible compared to paper notes and can be backed up easily.</p> <p>Previously I used a Word document synced on Google Drive. However, this came with several limitations:</p> <ul> <li>Formatting issues</li> <li>Not editable over command-line e.g. with Vim</li> <li>Not searchable unless opened</li> <li>Inability to see backlinks (other notes which link to this note)</li> <li>Limited categorization ability (only headings/subheadings possible)</li> </ul> <p>I have since decided to move to Markdown, the main reasons being:</p> <ul> <li>Open, widely adopted format (important for the future)</li> <li>Can be edited in almost any application</li> <li>Can be searched easily (e.g. with <code>grep</code>)</li> <li>Can be linked to/from each other</li> </ul> <p></p> <p>The choice of editor I am currently using at present is Obsidian. In comparison with VSCode, Obsidian:</p> <ul> <li>Supports viewing backlinks natively</li> <li>Updates links when notes are moved</li> <li>Supports image/video drag and drop<sup>1</sup></li> </ul> <p>However, Obsidian is not FOSS, and for that reason, I avoid (as far as possible) using its non-standard Markdown syntax. At present I only use wikilinks and tags.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-21-note-taking/#backup-and-access","title":"Backup and Access","text":"<p>The folder with my notes is stored on my server, which is itself in a RAID-1 configuration with backup.</p> <p>Foam is a great VSCode extension with backlink, graph view and other cool Markdown features which I host on the web with code-server, allowing me to edit my notes anywhere.</p> <p>I access my notes on my phone via the Obsidian Android app.</p> <p>With my laptop, I access my notes with SSHFS.</p> <p>Local access is over nfs.</p> <ol> <li> <p>VSCode generates incorrect links for images when connected to a remote host (all the generated links start with <code>remote://</code>)\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/","title":"My Self-Hosting Journey","text":"My server's homepage <p>Self-hosting your own services has been catching up in popularity: the selfhosted subreddit has over 180K members as of 21/5/22, and the number of self-hosted solutions has been growing exponentially (see a huge list here).</p> <p>Self-hosting frees you from vendor lock-in. By using open-source alternatives, you gain portability for your data, and you are free to change to another solution anytime. In addition, there is the benefit of learning about server management and the command-line, which in my opinion are portable skills which can be used in any environment, unlike GUIs which are specific for an application.</p> <p>In addition, I have been getting increasingly frustrated with Windows due to various issues, and switching to Linux offers one a much needed breath of freedom, customizability and fresh air. Finally, I wanted something which I could keep running 24/7 and not have to pay recurring subscriptions.</p> <p>It was with those considerations in mind that I decided to go ahead with self hosting.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#specifications","title":"Specifications","text":"<ul> <li>CPU: Intel i5-12400F (6 cores, 12 threads, 18M Cache, up to 4.40Ghz)</li> <li>Memory: Crucial 32GB DDR4 3200Mhz</li> <li>Motherboard: Gigabyte B660M DS3H DDR4</li> <li>Boot Drive: Samsung 500GB 980 NVME M.2</li> <li>OS: Fedora Linux (Server Edition)</li> </ul> <p>Total cost of the above was SGD $830.</p> <p>In addition, I have ~ 30TB of storage in a RAID1 configuration assembled from various drives.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#hosted-services","title":"Hosted Services","text":"<p>I use Dashy to display all the hosted web services on my site. Authentication is via <code>nginx</code>'s <code>auth_request</code> to a Django backend.</p> <p>All hosted services are in Docker containers with limited permissions to reduce the possible attack surface, with logs all redirected to the <code>systemd</code> journal, with the <code>journald</code> driver.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#uptime-monitoring","title":"Uptime Monitoring","text":"<p>Uptime monitoring is hosted on an offsite VPS with Uptime Kuma, on a separate site, with notifications via Telegram. This is to allow for redundancy in case my server goes down.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#storage-and-backup","title":"Storage and Backup","text":"<p>As of 2022 Dec, I have 32TB of raw storage, consisting of 2x WDC WD120EMFZ-11A6JA0 12TB drives plus a 8TB ATA WDC WD80EAZZ-00B8TB (all non-SMR drives<sup>1</sup>) in a (software) BtrFS RAID-1 configuration, corresponding to approximately 16TB of usable storage.</p> <p>I use SSHFS to access my storage remotely. This storage is accessible locally in my LAN via NFS, which Windows also supports<sup>5</sup>.</p> <p>I chose BtrFS over <code>dmraid</code> + ext4 as BtrFS:</p> <ul> <li>allows for online subvolume resizing/deletion/modification</li> <li>supports file checksums in RAID modes<sup>2</sup></li> <li>allows for arbitrary drives to be added/removed from the RAID configuration, and balance the resulting filesystem automatically</li> <li>supports lightweight snapshots and sending these snapshots to other devices for backup</li> </ul> <p>BtrFS also allows for RAID-1 with any number of devices, of all different sizes. The resulting available storage is usually half the total storage available. This is made possible as the filesystem allocates data in chunks, with each chunk on a RAID-1 setup being duplicated to 2 different drives.</p> <p>Snapshots</p> <p><code>btrbk</code> is a great utility which I utilize for backups. It allows for automatic snapshot creation, backups to multiple destinations (including SSH), incrementals backups as well as utilities to calculate accurate snapshot space usage.</p> <p>I use <code>btrbk</code> together with <code>systemd.timer</code> to make hourly rolling snapshots, preserving snapshots:</p> <ul> <li>every hour for the last 24 hours</li> <li>every day for the past 7 days</li> <li>every week for the past 4 weeks</li> <li>every month for the past 12 months</li> <li>every year for the past 3 years</li> </ul> <p>This allows me to fallback to any state in the past.</p> <p>I manually run the <code>archive</code> command<sup>3</sup> to send snapshots over to an external drive every 6 months.</p> <p>The backup drive is encrypted with AES-256 (via <code>cryptsetup</code><sup>4</sup>).</p> Backup commands previously used <p>Prior to <code>btrbk</code>, here were the backup commands I used.</p> <pre><code># Create a subvolume snapshot of /mnt/storage\n# Note: 'snapshots' and 'subvolumes' are synonymous in BtrFS: A snapshot is a copy of a subvolume\nbtrfs subvolume snapshot -r /mnt/storage/ /mnt/storage/snapshot.$(date +%Y-%m-%d)\n\n# Send that snapshot to the backup device /mnt/sdc1\nbtrfs send /mnt/storage/snapshot.2022-05-18/ | btrfs receive /mnt/sdc1\n\n# To instead send an incremental snapshot:\n# Note: the parent snapshot must exist on the receiving drive\nbtrfs send -p &lt;path to parent snapshot on sending drive&gt; &lt;subvol&gt; | btrfs receive /mnt/sdc1\n</code></pre> <p>The UUID of the parent subvolume (in the sending drive) must be in one of the receiving drive subvolume's 'Received UUID', in order for the incremental <code>send</code> operation to work. See below for an example:</p> <p>Target volume with 2 snapshots, <code>server-2022-05-18</code> followed by <code>snapshot.test</code>:</p> <pre><code>[root@server sdc1]# btrfs su show /mnt/system-root/server-2022-05-18/server-2022-05-18\n    Name:                   server-2022-05-18\n    UUID:                   2b33e415-046b-a746-a35f-50cdef411a9f\n    Parent UUID:            c8a82094-4270-274b-bd08-77aea3dc0896\n    Received UUID:          -\n\n[root@server sdc1]# btrfs su show /mnt/system-root/snapshot.test/snapshot.test\n    Name:                   snapshot.test\n    UUID:                   8a42b8d1-d145-9249-9e76-e7748dc4aeb5\n    Parent UUID:            c8a82094-4270-274b-bd08-77aea3dc0896\n    Received UUID:          -\n</code></pre> <p>Note on the backup drive that the <code>Received UUID</code> of the original snapshot is the same as the target volume's original snapshot <code>server-2022-05-18</code>.</p> <pre><code>[root@server sdc1]# btrfs su show /mnt/sdc1/server-2022-05-18/server-2022-05-18\n    Name:                   server-2022-05-18\n    UUID:                   5ed89436-7a3b-5744-9460-cf79ced43e2c\n    Parent UUID:            -\n    Received UUID:          2b33e415-046b-a746-a35f-50cdef411a9f\n\n[root@server sdc1]# btrfs su show /mnt/sdc1/snapshot.test/snapshot.test\n    Name:                   snapshot.test\n    UUID:                   7fcd7d87-b2a2-eb46-a636-ca62dfd4029f\n    Parent UUID:            5ed89436-7a3b-5744-9460-cf79ced43e2c\n    Received UUID:          8a42b8d1-d145-9249-9e76-e7748dc4aeb5\n</code></pre> <p>Note: The <code>Received UUID</code> does not change when a snapshot is snapshot-ed again.</p> <p>Maintenance</p> <p>I run <code>btrfs scrub</code> monthly via a <code>systemd.timer</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#ssh-access","title":"SSH Access","text":"<p>SSH access to my server is available via public keys, password access with 2FA (provided via Google Authenticator PAM<sup>6</sup>) and Web terminal access via Apache Guacamole.</p> <p>I previously used SSH with certificates, however it does not allow me to revoke access as easily as public keys.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#mobile","title":"Mobile","text":"<p>Mobile SSH access is via Termux, a terminal emulator for Android which features Mosh<sup>7</sup> pre-installed.</p>","tags":["Programming"]},{"location":"blog-posts/2022-05-22-my-self-hosting-journey/#terminal-ui","title":"Terminal UI","text":"<p>I use tmux, a terminal multiplexer, which allows me to keep terminal sessions running on the server on connection close (even if by accident), and resume them from another computer. I use a <code>.bashrc</code> config to load tmux on interactive logins.</p> <code>.bashrc</code> Configuration <pre><code># Since tmux also runs .bashrc, we need to check we are not in tmux\n# Other checks are to make sure these commands only run in interactive shells\nif [[ $- == *i* ]] &amp;&amp; [[ -n $SSH_CONNECTION ]] &amp;&amp; [[ -z \"$TMUX\" ]]; then\ntmux new-session -A\nfi\n</code></pre> <p>Finally, I use Powerline, a great status plugin showing CPU/memory/uptime stats, on <code>bash</code> and tmux.</p> <ol> <li> <p>SMR drives have a much greater write penalty compared to CMR/PMR drives.\u00a0\u21a9</p> </li> <li> <p>If some bits in one of the drives were to fail (e.g. due to bit rot), <code>dmraid</code> would not know which drive contains the correct data as it operates below the filesystem layer.\u00a0\u21a9</p> </li> <li> <p>There is an issue with <code>btrbk</code> not sending snapshots without direct parent-child uuid link when using <code>resume</code>. To get around this, I use <code>archive</code> initially to copy snapshots over to the external drive.\u00a0\u21a9</p> </li> <li> <p>The reason I do not use <code>cryptsetup</code> (or <code>dmcrypt</code>) directly on the disk is that Windows/other software might accidentally wipe the partition table (and the LUKS header), rendering the disk unlockable.\u00a0\u21a9</p> </li> <li> <p>Windows sets the UID/GID to -2 for some reason, preventing you from writing to files by default. This is the fix.\u00a0\u21a9</p> </li> <li> <p>On Fedora, Google Authenticator PAM has some issues with SELinux security configurations and so I use a workaround.\u00a0\u21a9</p> </li> <li> <p>Mosh allows for SSH access over unreliable/mobile connections, including scenarios like changing IP addresses (which can happen as the mobile device moves out of Wifi range).\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/","title":"Docker Containers with GPU access in Fedora","text":"<p>This guide will let you use a NVIDIA GPU in a Docker container (e.g. for Tensorflow/Pytorch).</p> <p>Prerequisites:</p> <ul> <li>Docker must be installed.</li> <li>You have a NVIDIA GPU.</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#1-install-nvidia-drivers-from-the-rpm-fusion-repository1","title":"1. Install NVIDIA drivers from the RPM Fusion repository<sup>1</sup>:","text":"<pre><code>sudo dnf install xorg-x11-drv-nvidia-cuda\n</code></pre> <p>It is necessary to reboot the system, as this package includes a script which blacklists the default Nouveau drivers.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#2-add-the-nvidia-container-runtime-repository2","title":"2. Add the NVIDIA Container Runtime Repository<sup>2</sup>:","text":"<pre><code>curl -s -L https://nvidia.github.io/libnvidia-container/centos7/libnvidia-container.repo | sudo tee /etc/yum.repos.d/nvidia-container-toolkit.repo\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#3-install-the-nvidia-container-toolkit","title":"3. Install the NVIDIA Container Toolkit","text":"<p>This includes the NVIDIA Container Runtime, which adds a custom pre-start hook to all containers to allow GPU access):</p> <pre><code>sudo dnf install nvidia-container-toolkit\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#4-register-the-runtime-with-docker","title":"4. Register the runtime with Docker:","text":"<pre><code>sudo tee /etc/docker/daemon.json &lt;&lt;EOF\n{\n    \"runtimes\": {\n        \"nvidia\": {\n            \"path\": \"/usr/bin/nvidia-container-runtime\",\n            \"runtimeArgs\": []\n        }\n    }\n}\nEOF\n</code></pre> <p>Tell <code>dockerd</code> to reload configuration:</p> <pre><code>sudo pkill -SIGHUP dockerd\n</code></pre> <p>(Optional) To make all containers use the NVIDIA runtime by default, add the following to <code>/etc/docker/daemon.json</code>:</p> <pre><code>\"default-runtime\": \"nvidia\"\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-docker-gpu-fedora/#5-finally-test-gpu-access-in-docker-with-either","title":"5. Finally, test GPU access in Docker with either:","text":"<pre><code>docker run --runtime=nvidia --rm nvidia/cuda:10.2-base nvidia-smi\n</code></pre> <p>or</p> <pre><code>docker run --runtime=nvidia --gpus all --rm nvcr.io/nvidia/k8s/cuda-sample:nbody nbody -benchmark -numbodies=512000\n</code></pre> <p>And that's it!</p> <p>Note on VSCode</p> <p>If you are using VSCode Remote Containers, you will need to add</p> <pre><code>\"runArgs\": [\"--gpus\",\"all\"]\n</code></pre> <p>to your <code>devcontainer.json</code>. For some reason, <code>--runtime=nvidia</code> does not work.</p> <ol> <li> <p>Enable the RPM Fusion repositories in Fedora here. \u21a9</p> </li> <li> <p>While there is no official Fedora support for <code>nvidia-container-runtime</code>, the Centos 7 repository seems to work.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/","title":"Windows 11 Gaming VM with GPU Passthrough on Fedora 36","text":"Gaming on a laptop remotely with Nvidia Gamestream using mobile data <p>After completing this guide, you will have a Windows 11 headless virtual machine that can be accessed via:</p> <ul> <li>Moonlight/Steam Link for high performance gaming</li> <li>RDP for less demanding tasks</li> <li>RDP over a web browser (via Apache Guacamole)</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#prerequisites","title":"Prerequisites:","text":"<ol> <li> <p>Ensure you have a CPU with virtualization support (for Intel, this is known as <code>VT-d</code>):</p> <pre><code>$ lscpu | grep -i virtualization\nVirtualization:                  VT-x\n</code></pre> </li> <li> <p>NVIDIA GPU (for Moonlight streaming)</p> </li> <li> <p><code>VT-d</code> should be enabled in your BIOS (refer to the relevant manuals)</p> </li> <li> <p>Docker is installed</p> </li> <li> <p>Windows 11 Pro license (required for Remote Desktop)</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#1-setup-gpu-passthrough","title":"1. Setup GPU Passthrough","text":"<p>Enable IOMMU</p> <p>Open <code>/etc/default/grub</code> with your editor of choice, and append <code>intel_iommu=on</code> as well as <code>initcall_blacklist=sysfb_init</code> to <code>GRUB_CMDLINE_LINUX</code>:</p> <pre><code>GRUB_CMDLINE_LINUX=\"resume=UUID=16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu=on initcall_blacklist=sysfb_init\"\n</code></pre> What is the purpose of <code>initcall_blacklist=sysfb_init</code>? <p>Even with the <code>vfio-pci</code> drivers utilized, the kernel appears to reserve portions of memory in the GPU which causes errors visible in <code>dmesg</code> as <code>[ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref]</code>.</p> <p>The culprits for my system appeared to be <code>simplefb</code> and <code>bootfb</code>.</p> <p>Adding the above kernel parameter fixes the issue.</p> <p>Optionally, you may want to disable <code>os-prober</code> especially if you have Docker installed, as it will attempt to probe containers and create a lot of unnecessary startup entries:</p> <pre><code>GRUB_DISABLE_OS_PROBER=true\n</code></pre> <p>Save the modified configuration file:</p> <pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg\n</code></pre> <p>Configure <code>vfio-pci</code> module to load on boot</p> <p>Create the following files with the content as shown (you will need superuser privileges):</p> <pre><code>#/etc/dracut.conf.d/10-vfio.conf\nadd_drivers+=\" vfio_pci vfio vfio_iommu_type1 vfio_virqfd \"\n\n#/etc/modules-load.d/vfio-pci.conf\nvfio-pci\n\n#/etc/modprobe.d/vfio.conf\noptions vfio-pci ids=&lt;GPU-PCI-ID&gt;\n</code></pre> <p>Where <code>&lt;GPU-PCI-ID&gt;</code> is the id <code>xxxx:xxxx</code> as shown by the output of <code>lspci -nn</code>, for example:</p> <pre><code>[root@server ~]# lspci -nn | grep -i vga\n01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GP104 [GeForce GTX 1070 Ti] [10de:1b82] (rev a1)\n</code></pre> <p>You will need to rebuild the initial ramdisk (<code>initrd</code>) image after modifying the above files:</p> <pre><code>dracut -fv\n</code></pre> <p>Check that the generated ramdisk contains output similar to the following using <code>lsinitrd</code>:</p> <pre><code>[root@server ~]# lsinitrd | grep -i vfio\n-rw-r--r--   1 root     root           31 Mar 30 16:53 etc/modprobe.d/vfio.conf\n-rw-r--r--   1 root     root            9 Mar 30 16:53 etc/modules-load.d/vfio-pci.conf\ndrwxr-xr-x   1 root     root            0 Mar 30 16:53 usr/lib/modules/5.18.18-200.fc36.x86_64/kernel/drivers/vfio\n&lt;truncated&gt;\n</code></pre> <p>Now reboot, and check that IOMMU is working:</p> <pre><code>$\u00a0dmesg | grep -i iommu\n[    0.000000] Command line: BOOT_IMAGE=(hd4,gpt4)/vmlinuz-5.18.10-200.fc36.x86_64 root=UUID=2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags=subvol=root resume=UUID=16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu=on\n[    0.133682] Kernel command line: BOOT_IMAGE=(hd4,gpt4)/vmlinuz-5.18.10-200.fc36.x86_64 root=UUID=2a1d4d2a-7016-4f91-aa55-92d1b284668d ro rootflags=subvol=root resume=UUID=16671cec-3bb8-46bb-b931-083c93082763 rhgb quiet intel_iommu=on\n[    0.133749] DMAR: IOMMU enabled\n[    0.224446] DMAR-IR: IOAPIC id 2 under DRHD base  0xfed91000 IOMMU 0\n[    1.516533] iommu: Default domain type: Translated\n[    1.516533] iommu: DMA domain TLB invalidation policy: lazy mode\n[    1.560968] pci 0000:00:00.0: Adding to iommu group 0\n[    1.560977] pci 0000:00:01.0: Adding to iommu group 1\n[    1.560985] pci 0000:00:06.0: Adding to iommu group 2\n[    1.560991] pci 0000:00:0a.0: Adding to iommu group 3\n[    1.561003] pci 0000:00:14.0: Adding to iommu group 4\n</code></pre> <p>If you do not see the <code>... Adding to iommu group</code> lines, ensure <code>VT-d</code> has been turned on in your BIOS.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#2-install-virtualization-packages","title":"2. Install Virtualization Packages","text":"<pre><code># sudo dnf install @virtualization\n</code></pre> <p>This will install the necessary packages, including <code>libvirt</code>, an API to manage QEMU/KVM hypervisors.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#3-setup-virt-manager-in-docker","title":"3. Setup <code>virt-manager</code> in Docker","text":"<p>We will use <code>virt-manager</code> to manage the <code>libvirtd</code> backend. To make access easier, we will use docker-virt-manager, which exposes <code>virt-manager</code> over a GTK3 Broadway (HTML5) backend.</p> <p>Create a <code>docker-compose.yml</code> file with the following content:</p> <pre><code>services:\nvirt-manager:\nimage: mber5/virt-manager:latest\nrestart: always\nenvironment:\nHOSTS: \"['qemu:///system']\"\nports:\n- \"8080:80\"\n\nvolumes:\n- \"/var/run/libvirt/libvirt-sock:/var/run/libvirt/libvirt-sock\"\n- \"/vm:/vm\" # Or wherever you want to store your VM images/virtual harddisks\n\ndevices:\n- \"/dev/kvm:/dev/kvm\"\n</code></pre> <p>Start the container with <code>docker compose up -d</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#4-install-windows-and-setup-moonlight-streaming","title":"4. Install Windows and Setup Moonlight Streaming","text":"<p>Now, navigate to <code>http://localhost:8080</code> and you should see the <code>virt-manager</code> interface:</p> <p></p> <p>Create a new VM, and under <code>Add Hardware &gt; PCI Host Device</code>, add your GPU.</p> Giving the VM an IP address on the LAN <p>If you would like your VM also have its own IP address on the LAN (e.g. to play multiplayer games with peers on the same subnet), you can add a <code>macvtap</code> interface now, in addition to the standard bridge network between guest and host.</p> <p>To do this, add another <code>NIC</code> and ensure <code>Host device enpXsX: macvtap</code> is selected.</p> <p></p> <p>If you just want to be able to access the VM over the internet, you can use a peer-to-peer VPN as shown below.</p> <p>Next, install Windows 11 (you can get the ISO from here).</p> Error: This PC doesn't meet the minimum system requirements to install this version of Windows <p>You may encounter the error <code>This PC doesn't meet the minimum system requirements to install this version of Windows</code>. You can try this fix, or alternatively:</p> <ul> <li>Press Shift+F10 to open a command prompt</li> <li>Type <code>regedit</code></li> <li>Navigate to <code>HKLM\\System\\Setup\\LabConfig</code> (create the key if it doesn't exist)</li> <li>Add the following registry values (<code>DWORD (32-bit) Value</code>) with <code>1</code> as the value:<ul> <li><code>BypassTPMCheck</code></li> <li><code>BypassSecureBootCheck</code></li> <li><code>BypassCPUCheck</code> (optional)</li> <li><code>BypassRAMCheck</code> (optional)</li> </ul> </li> </ul> <p>Once the Windows VM boots, install the NVIDIA drivers, and then ensure that the GPU is detected by the VM.</p> <p></p> <p>Then, open GeForce Experience, and under 'Settings &gt; SHIELD', enable 'Gamestream'.</p> <p></p> Streaming the whole desktop <p>If you want to stream the desktop instead of a game, add <code>C:\\Windows\\System32\\mstsc.exe</code>.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#5-setup-overlay-mesh-network-aka-peer-to-peer-vpn","title":"5. Setup Overlay Mesh Network (aka Peer-to-Peer VPN)","text":"<p>We will now setup a peer-to-peer VPN, which will let us access Moonlight both within the LAN and from the internet, without worrying about port forwarding or firewall configurations.</p> Rationale <p>Moonlight requires certain ports to be forwarded on your router, in order for the PC to be accessible over the internet.</p> <p>However, in our current setup, the VM is not directly accessible from the internet or even the LAN, because the default network<sup>1</sup> it is connected to is not assigned an IP address on the LAN, so there is no way to port forward the required ports.</p> <p>One way is to give the VM its own IP address on the network via a <code>macvtap</code> interface, as shown above.</p> <p>However, sometimes port forwarding may not work due to NATs, your ISP blocking ports, or firewalls.</p> <p>Therefore, a better solution is to use a peer-to-peer VPN provider, which utilize NAT traversal techniques such as UDP hole punching to connect to hosts behind NATs/firewalls.</p> <ul> <li>ZeroTier: partially open-source, freemium</li> <li>Tailscale: partially open-source, freemium</li> <li>Nebula: open-source</li> <li>Netmaker: open-source, claims to be the fastest</li> </ul> <p>Overhead is minimal, as these tools connect directly if possible, using a relay only as a backup.</p> <p>ZeroTier is one such solution, and you can follow the guide from the Moonlight docs.</p> <p>After setting up the peer-to-peer VPN of your choice, download the Moonlight client on another computer/device, and verify that streaming works.</p> <p>You can also setup Remote Desktop now.</p> <p>Now, you have a working VM with Moonlight for gaming, and Remote Desktop (slower, but much less data usage) for doing work!</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#6-setup-apache-guacamole","title":"6. Setup Apache Guacamole","text":"Accessing a Windows VM over a browser with Apache Guacamole <p>Apache Guacamole is a clientless remote desktop gateway, supporting proxying of RDP and VNC protocols over a HTML5 frontend. For this guide, we will use RDP, as it is more efficient than VNC and saves data.</p> <p>Of note, Guacamole also supports SSH connections to a remote server, displaying the terminal in the web browser. However, the current version (<code>1.4.0</code>) of the Apache Guacamole Server Docker image only supports connecting via <code>ssh-rsa</code> and <code>ssh-dss</code>, both of which have been deprecated since OpenSSH 8.8 (JIRA issue) due to security issues (SHA-1 is no longer considered secure). One workaround would be to enable <code>ssh-rsa</code> in <code>sshd</code>, however this is suboptimal. As a result, I have decided to use SSHwifty instead as an SSH web proxy.</p> <p>To setup Apache Guacamole, follow the instructions here.</p> Notes <ul> <li>I have decided to use the <code>mysql</code> backend instead, as the <code>postgres</code> backend has authentication problems (slated to be fixed in <code>1.5.0</code>).</li> <li>If you are using a reverse proxy with authentication (e.g. Nginx with <code>auth_request</code>), you can use header authentication to avoid having to login into Guacamole.</li> <li>To change the password of the default <code>guacadmin</code> user, it is necessary to create another user account with admin rights.</li> <li>For RDP, ensure <code>Ignore server certificate</code> is checked, otherwise Guacamole will refuse to connect.</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#7-optional-setup-nfssamba","title":"7. (Optional) Setup NFS/SAMBA","text":"<p>Network File System (NFS) is a handy way to share files on a Linux host with other Linux clients. For sharing files with Windows clients, SAMBA is the better option (much less delay on opening).</p> <p>Note: If you are using a <code>macvtap</code> interface (to allow the guest to receive its own IP address on the network), it is not possible to connect to the host due to how <code>macvtap</code> works. You will need to create a <code>NAT</code> connection (e.g. <code>Virtual Network 'Default' : NAT</code>) to connect to the host, via a separate subnet.</p> <p>NFS</p> <p>Windows does not come with NFS support by default - you must enable it. In an elevated PowerShell window, run:</p> <pre><code>```powershell\nEnable-WindowsOptionalFeature -FeatureName ServicesForNFS-ClientOnly, ClientForNFS-Infrastructure -Online -NoRestart\n```\n</code></pre> <p>This fix may speed up NFS access on Windows (although I strongly recommend using SAMBA).</p> <ul> <li>For Fedora: You must also open the NFS ports (TCP/UDP <code>111</code>, <code>2049</code> and <code>20048</code>) in the <code>Libvirt</code> zone.</li> </ul> <p>SAMBA</p> <p>SAMBA is much faster than NFS for Windows guests.</p> <p>To setup Samba:</p> <ol> <li> <p>Install Samba on Linux:</p> <pre><code>sudo dnf install samba samba-common\n</code></pre> </li> <li> <p>Set the correct SELinux contexts for the directories you wish to share (in this example <code>/mnt/storage</code>):</p> <pre><code>sudo chcon -R -t samba_share_t /mnt/storage\n</code></pre> SSH and SELinux <p>If you are executing the above command on your <code>home</code> directory, be careful to restore SELinux contexts for the <code>.ssh</code> directory:</p> <pre><code>sudo restorecon -r .ssh\n</code></pre> <p>Otherwise, <code>sshd</code> will be denied access to <code>authorized_keys</code> and you will lose login via SSH!</p> </li> <li> <p>Add the following to <code>/etc/samba/smb.conf</code>:</p> <pre><code>[storage]\n    path = /mnt/storage\n    public = yes\n    guest ok = yes\n    writable = yes\n    browseable = yes\n    acl allow execute always = yes\n</code></pre> <p>This will create a share named <code>storage</code>, accessible without login or passwords. Only do this on a secure LAN!</p> </li> <li> <p>(For Fedora) Open the required ports in the <code>libvirt</code> zone (for the Windows guest), and in the <code>Public</code> zone for other computers on the network:</p> <ul> <li>TCP <code>139</code>, <code>445</code></li> <li>UDP <code>137</code>, <code>138</code></li> </ul> </li> <li> <p>Restart the <code>smb</code> and <code>nmb</code> daemons:</p> <pre><code>sudo systemctl enable --now smb nmb\n</code></pre> </li> </ol> <p>You should now have access to the Samba share on the Windows guest, by hitting Win+R and entering the IP address of the host.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#8-optional-fix-low-fps-on-desktop-and-certain-games","title":"8. (Optional) Fix low FPS on desktop and certain games","text":"<p>Moonlight runs at 30fps or less when displaying the remote desktop (when not in a game). I suspect this is probably because the desktop is not rendered using the GPU and natively running at a lower FPS. Moonlight is transferring this output when the GPU is not being utilized, for example with the desktop or certain 2D games.</p> <p>To fix this, you will need to get an HDMI dummy plug.</p> <ul> <li>Plug the HDMI dummy plug into the graphics card output.</li> <li> <p>In the Windows VM, ensure that displays are set to mirror each other.</p> <ul> <li>You might need to play around with the displays a bit, to ensure that Moonlight is streaming the display from the GPU output, and not that of the VM.</li> </ul> </li> <li> <p>You might need to reboot the VM after.</p> </li> </ul> <p>You should now be getting ~60fps when streaming the bare desktop.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#conclusion","title":"Conclusion","text":"<p>And that's it! You now have a fully featured cloud gaming machine, accessible anywhere in the world.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#known-issuesnotesfixes","title":"Known Issues/Notes/Fixes","text":"","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#disabling-vfio","title":"Disabling VFIO","text":"<p>At times you may want to disable VFIO or GPU passthrough, for example when you want to use the GPU in the host.</p> <p>To disable GPU passthrough:</p> <ul> <li>Rename the file <code>/etc/modprobe.d/vfio-pci.conf</code> to <code>/etc/modprobe.d/vfio-pci.conf.bak</code>.</li> <li>Rename the file <code>/etc/modules-load.d/vfio-pci.conf</code> to <code>/etc/modules-load.d/vfio-pci.conf.bak</code>.</li> <li> <p>Add the following lines to <code>GRUB_CMDLINE_LINUX</code> in <code>/etc/default/grub</code>:</p> <pre><code>rd.driver.blacklist=nouveau modprobe.blacklist=nouveau nvidia-drm.modeset=1 initcall_blacklist=simpledrm_platform_driver_init\n</code></pre> </li> <li> <p>Regenerate <code>grub.cfg</code> with <code>grub2-mkconfig -o /boot/grub2/grub.cfg</code>.</p> </li> <li>Regenerate the <code>initramfs</code> with <code>dracut -fv</code>.</li> <li>Reboot.</li> </ul> <p>To re-enable GPU passthrough, reverse the steps above.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#moonlight-specific-issues","title":"Moonlight-specific Issues","text":"<ul> <li> <p>Moonlight requires that the server machine (whether VM or physical) be unlocked, and that there are no Remote Desktop Connections ongoing.</p> <ul> <li> <p>After an RDP session, the main desktop is locked. To fix this, create a batch file with the following content, and run it with administrator rights to disconnect the RDP and unlock the main desktop:</p> <pre><code>Powershell -Command \"tscon rdp-tcp#0 /DEST:console\"\n</code></pre> </li> </ul> </li> <li> <p>The streaming resolution of Moonlight is not what is set in the GUI of Moonlight or in the game, but rather, it is capped at the resolution of the virtual machine's desktop. So, if you want to stream in 4K, ensure you change the virtual machine's desktop resolution to 4K prior to launching the game.</p> </li> <li> <p>Some useful shortcuts:</p> <ul> <li>Quit moonlight: Ctrl+Alt+Shift+Q</li> <li>Minimize window: Ctrl+Alt+Shift+D</li> <li>Show stats overlay: Ctrl+Alt+Shift+S</li> <li>Paste text from host: Ctrl+Alt+Shift+V</li> <li>Toggle mouse and keyboard capture: Ctrl+Alt+Shift+Z</li> </ul> </li> <li> <p>Moonlight not filling screen:</p> <ul> <li>Use the Nvidia control panel to change the screen resolution.</li> </ul> </li> <li> <p>Intermittent black screen: Disable hardware-accelerated GPU scheduling</p> </li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#qemuvirt-manager","title":"QEMU/<code>virt-manager</code>","text":"<ul> <li> <p>Snapshotting the VM is not possible while a PCI device is being passed-through. However, if you are using BtrFS, you can make snapshots of the storage volume.</p> </li> <li> <p>VM hangs/pauses, and in <code>dmesg</code> you see <code>[ 6044.433981] vfio-pci 0000:07:00.0: BAR 0: can't reserve [mem 0xe0000000-0xefffffff 64bit pref]</code> and similar errors:</p> <ul> <li>Ensure that the <code>initcall_blacklist=sysfb_init</code> kernel parameter has been added to <code>grub.cfg</code>.</li> </ul> </li> <li> <p><code>virt-manager</code>/QEMU supports sharing the VM display via an embedded VNC server. For Apache Guacamole to connect to this however, the embedded viewer (in <code>virt-manager</code>) must first be closed.</p> </li> <li> <p>Windows XP only: In <code>virt-manager</code>, the NIC device model must be <code>rtl8139</code>, and the sound card model as <code>AC97</code> in order for drivers to be installed.</p> </li> <li> <p>Nvidia Geforce Experience says 'Unsupported CPU':</p> <ul> <li>Change the CPU model in <code>virt-manager</code> (in the XML) to <code>host-model</code> (preferred) or <code>host-passthrough</code>.</li> </ul> </li> <li> <p>Passthrough-ed USB devices, when disconnected, prevent the VM from booting</p> <ul> <li>Add <code>startupPolicy=\"optional\"</code> to the <code>&lt;source&gt;</code> tag in the XML for the passthrough-ed USB device</li> </ul> </li> <li> <p>Low FPS when display is set to 'Duplicate these displays':</p> <ul> <li>Change display settings to 'Extend these displays' instead. I suspect when displays are duplicated, the GPU works extra to render frames on both monitors, causing the FPS drop.</li> </ul> </li> <li> <p>Useful VM performance tuning options</p> <ul> <li>For example, setting multiple sockets with each having 1 CPU and 1 core is more efficient.</li> </ul> </li> <li> <p>Types of VM network connections compared:     </p> </li> </ul> <p>For more information on the <code>libvirt</code> domain XML, check out the documentation.</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#apache-guacamole","title":"Apache Guacamole","text":"<ul> <li>For RDP, 'Support audio in console' must be unchecked for sound to work.</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#steam-link","title":"Steam Link","text":"<p>Steam Link is another solution for low latency desktop streaming, which is also available cross-platform. One advantage compared to Moonlight is that it works without a GPU installed (it uses <code>libx264</code> on the CPU). While the performance using a GPU (using NVENC) is roughly equivalent to Moonlight at the same bitrate, performance without a GPU leaves a lot to be desired, in terms of encoding time and therefore latency.</p> Steam Link using <code>libx264</code> (CPU) encoding. Note the encoding latency of 130ms (game: Hearthstone) <p>Gaming (even light) is therefore not possible without a GPU. Even for non-gaming tasks, there is little reason not to use Remote Desktop/Apache Guacamole instead, which have much lower network bandwidth requirements.</p> <p>Steam Link also appears to render the cursor client-side, compared to Moonlight which renders the cursor on the server. This introduces some visible screen artifacts, as can be seen in the comparison images when the cursor is click-dragged rapidly (the desktop lags behind the cursor for Steam Link).</p> Steam Link Moonlight <p>One advantage of Steam Link however is that no port forwarding appears to be required, while Moonlight sometimes has issues with UDP port 47999 when on mobile data (from my experience).</p>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#misc","title":"Misc","text":"<ul> <li>Connection speed: Moonlight &gt; Steam Link &gt;&gt; RDP &gt; Guacamole &gt; <code>virt-manager</code></li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-10-win11-vm-gpu-passthrough/#credits","title":"Credits","text":"<ul> <li>Fedora 33: Ultimiate VFIO Guide for 2020/2021 [WIP]</li> <li>PCI passthrough via OVMF</li> </ul> <ol> <li> <p>The default network (which you can view with <code>sudo virsh net-dumpxml default</code>) is configured with <code>forward mode='nat'</code>, which allows outbound communication for guests, but not inbound communications (unless you configure computers on the LAN to use your host as a NAT).\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2022-07-18-android-vm-browser/","title":"Android VM in a Browser (via Apache Guacamole)","text":"<p>Running an Android VM in a web browser lets you run Android applications from any computer. This lets you test out apps, or even suspicious programs without compromising your actual device.</p> <p>The setup:</p> <ul> <li>Android-x86, an x86 port of Android</li> <li><code>virt-manager</code> in Docker, which exposes <code>virt-manager</code> in a browser window, and also acts as the VNC server for the Android VM</li> <li>Apache Guacamole, which acts as the VNC &lt;-&gt; browser bridge</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-07-18-android-vm-browser/#getting-started","title":"Getting Started","text":"<p>To begin, first setup <code>virt-manager</code> in Docker, as well as Apache Guacamole, with the instructions here.</p> <p>Once you have <code>virt-manager</code> in Docker running, download and install the Android-x86 image on the VM.</p> <p>Then, enable the 'Display VNC' device in QEMU, choosing an appropriate unused port.</p> <p>Finally, in Apache Guacamole, setup a VNC connection to the server (via <code>host.docker.internal</code>) on the port you chose earlier.</p> <p>Note that you will need to add the following to your <code>docker-compose.yml</code> in order for the host to be accessible via <code>host.docker.internal</code>:</p> <pre><code>services:\nguacd:\nimage: guacamole/guacd\nextra_hosts:\n- \"host.docker.internal:host-gataeway\"\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2022-07-18-android-vm-browser/#notes","title":"Notes","text":"<ul> <li> <p>Android-x86 does not support the <code>MediaProjection API</code>, so other VNC servers like droidVNC will not work.</p> <ul> <li>This is why I use the VNC server from QEMU instead. Note that if you open the embedded viewer in <code>virt-manager</code>, it will disconnect other listening VNC viewers.</li> </ul> </li> <li> <p>For full desktop support (free-form window resizing etc), use 'Taskbar' as the default home app.</p> </li> <li>When formatting the disk partitions, use <code>MBR</code> instead of <code>GPT</code>, otherwise <code>grub</code> will not work.</li> <li>To get internet access on the Android VM, connect to <code>VirtWifi</code>.</li> </ul>","tags":["Programming"]},{"location":"blog-posts/2022-08-01-my-diet/","title":"My Diet","text":"<p>Updated 2023-09-04</p> <p>I consume wholegrains/legumes, vegetables, tofu and meat (chicken/fish). I aim for ~100g of protein and 30g fibre per day.</p> <p>Consuming a variety of vegetables is important, as a single vegetable seldom contains all the necessary vitamins/nutrients.</p> <p>I intermittent fast, following the 16/8 schedule (time restricted eating). I skip breakfast, eating my first and largest meal of the day at 12 noon, followed by a light/no dinner. From 8pm to 12 noon, I only drink water/tea, and I do not take any food.</p> <p>I batch cook and freeze my lunches/dinners for about a week each time. This lets me take advantage of food on offer, as I can buy more in bulk and freeze them. This also reduces the bulk of the vegetables, saving space in the fridge.</p> Cooked beans in bags of 500g each, ready for freezing. Note: I have since switched to lentils as beans are FODMAP. Cooked vegetables, tau kwa and chicken","tags":["Cooking"]},{"location":"blog-posts/2022-08-01-my-diet/#breakfast","title":"Breakfast","text":"<p>I drink tea.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-08-01-my-diet/#lunch","title":"Lunch","text":"Mixed beans with steel-cut oats, chia seeds, psyllium husk powder, fruits, tau kwa and vegetables <p>This is the largest meal of the day for me, and the most important for fibre and protein.</p> <p>View my lunch recipe here.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-08-01-my-diet/#snack","title":"Snack","text":"<p>This is usually:</p> <ul> <li>Fruits (bananas/oranges)</li> <li>Roasted sweet potatoes</li> <li>Nut bars (homemade)</li> <li>Dried prunes</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2022-08-01-my-diet/#dinnerlate-afternoon","title":"Dinner/Late afternoon","text":"<p>I eat a protein e.g. chicken breast, eggs, fatty fish (mackerel/salmon/canned sardines), together with a soup of vegetables such as corn, carrots, sweet potatoes or potatoes, to achieve a good balance of nutrients.</p> <p>Occasionally I take supplements e.g. fish oil.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/","title":"My Experience at a 10 Day Vipassana Meditation Retreat","text":"Entrance of the meditation center at Saleng Eco Farm <p>From the 20th to 31st of July 2022, I signed up for a 10-day meditation retreat at Saleng Eco Farm, Johor, conducted by a Vipassana Meditation Center following the teachings of S. N. Goenka (which are in turn derived from Buddhism<sup>1</sup>).</p> <p>Notably, these are some of the rules observed throughout the course:</p> <ul> <li>No speaking, gesturing, or otherwise communicating with anyone other than the teacher (and even then, at designated times)</li> <li>No use of phones or electronic devices</li> <li>No reading or writing materials</li> <li>10 hours of seated meditation daily, for the 10 days (i.e. 100 hours of meditation in total)</li> <li>No meat - the food provided was vegetarian.</li> <li>Male and female accommodation was separate, and no communication or interaction between the sexes was allowed</li> </ul> <p>Additionally:</p> <ul> <li>The entire course was free, including accomodation and food</li> <li>Donations were only accepted at the end of the course</li> <li>Participants were free to leave at any point (although most stayed to the end)</li> </ul>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#why-go-for-such-a-course","title":"Why go for such a course?","text":"<p>I have read about Zen in the past, and its ideas of 'no-mind' and egolessness, achieved purely through meditation. In addition, prior to this course, I had been following Sam Harris' Waking Up meditation course, of around 10 minutes a day for 50 days.</p> <p>In addition, I was at a point in my life where I felt uncertain as to what direction I was heading in. I considered holidays overseas, but I have been on a few (including hiking trips) and I felt the sense of calm they provided was temporary. I wanted to experiment with meditation - in particular, what would happen if I were to seriously meditate in an environment where talking and phones were banned.</p> <p>The meditation technique taught was Vipassana, a form of sensation-focused meditation with the aim of generating equanimity to both pleasant and unpleasant sensations. The core idea is that our unhappiness is caused by craving and aversion to stimuli, and that by maintaining equanimity in practice, this translates to stimuli in the external world. We then become free to live life, unhindered by cravings and aversions, and ultimately achieve happiness.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#preliminaries","title":"Preliminaries","text":"<p>When I reached the center at 4pm, we were given a piece of paper to fill and sign. Essentially were to understand that there would be no talking, communication or gesturing, and that we were to follow the five precepts (no killing, stealing, sexual misconduct, lying or intoxicants) for the duration of the course.</p> <p>This was also the time when we passed over our mobile phones and valuables for safekeeping by the management, which they numbered and documented what was handed over.</p> <p>I spoke to several individuals, asking them why they came to such a course. Some had heard about this course and had finally decided to give it a try, while others had heard about it from their friends. A few joined because they were seeking direction in life.</p> <p>In the evening of the first day, the above rules regarding communication were reiterated to us, as well as information about food and accomodation.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#accomodation","title":"Accomodation","text":"Male dormitory building Beds in the accomodation <p>The accomodation was spartan, and around 12 of us shared the dormitory, which had 2 toilets with en-suite bathrooms. There was also air conditioning available, although the weather was generally cool by the evenings.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#food","title":"Food","text":"Dining Hall <p>Breakfast was served at 6.30am, and was usually toast with peanut butter, and noodles/congee. Tea, coffee, milo and (surprisingly) psyllium husk were available throughout the day.</p> <p>Lunch was served at 11am, and consisted of 1-2 vegetable dishes, sometimes a tofu dish (either fried beancurd skin or stir fried tofu), soup and a piece of fruit, with either rice or noodles.</p> <p>Second and third helpings were welcome. Of note, the people dishing out the food to us were old students who had volunteered to come back and help.</p> <p>The dining hall faced a small lake. Because we ate breakfast so early, nearly everyday we got to see the sunrise over the lake, albeit in silence, the only sounds being that of running water and cutlery.</p> The lake, visible from the dining hall","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#timetable","title":"Timetable","text":"<p>The course followed a strict timetable - essentially it was eat, sleep, meditate, repeat. There were about 11 hours of meditation a day, with about 5 minutes of break every 1 to 1.5 hours where we could stand up and walk outside the hall and stretch.</p> Time Activity 4:00 a.m. Morning wake-up 4:30-6:30 a.m. Meditation in hall or room 6:30-8:00 a.m. Breakfast and rest 8:00-9:00 a.m. Group meditation in hall 9:00-11:00 a.m. Meditation in hall or room 11:00-12:00 noon Lunch break 12:00-1:00 p.m. Rest 1:00-2:30 p.m. Meditation in hall or room 2:30-3:30 p.m. Group meditation in hall 3:30-5:00 p.m. Meditation in hall or room 5:00-6:00 p.m. Tea break 6:00-7:00 p.m. Group meditation in hall 7:00-8:15 p.m. Evening discourse 8:15-9:00 p.m. Group meditation in hall 9:00 p.m. Take rest <p>While we could meditate in our room, most people (myself included) preferred to meditate in the hall (which was air-conditioned).</p> The Meditation Hall <p>The evening discourse was a 75 minute video of S. N. Goenka's recorded discourses from a previous course he conducted in the West, also available on Youtube.</p> <p>We could ask the assistant teacher questions in private, everyday at 12 noon and at 9pm after the group meditation.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#my-experience","title":"My Experience","text":"<p>What follows is my experience at the course (mainly what I felt and experienced mentally, as there was very little actual physical happenings occuring).</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#days-1-3","title":"Days 1-3","text":"<p>The first 3 days, we were taught the practice of Anapana meditation. This involves being seated, with eyes closed, and focusing on observing the sensations of breathing, especially in and around the nostrils and upper lip.</p> <p>Progressively, our area of focus narrowed down to just the philtrum - the area below the nostrils and above the upper lip. We were told to ignore sensations elsewhere in the body, and whenever our mind wandered, to not feel disappointed or angry, but to simply resume our awareness of sensation.</p> <p>The practice of Anapana alone resulted in the reduction of thoughts in general. At this point I did not feel an increased awareness of either body or mental content, but I realized (around day 3) that I could sustain any particular thought for much longer than normal, if I desired. Prior, I would get quite easily distracted by other thoughts.</p> <p>With regards to physical discomfort - I started developing back pain around the second day. As Anapana progressed I was able to ignore the pain to some extent, although there would inevitably reach a point where it would become unbearable and I would have to shift posture. There was no equanimity to pain at this point - I was just bearing through the pain, and this manifested in an increased heart rate and some perspiration.</p> <p>About the ability to feel sensation on the philtrum (area above the upper lip) and the nasal passages - this definitely improved over the 3 days, especially with regards to the area in the nasal passages - this cannot be solely attributed to the presence of the face mask.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-4","title":"Day 4","text":"<p>Vipassana was taught on this day. In a nutshell, it consists of performing a body scan with eyes closed - we focused our attention on individual parts of the body, about 3-5cm in size, starting from the top of the head and progressing downward.</p> <p>We were given the instructions to ignore 'gross, solidified sensations' (what I later understood to mean pain), as well as 'subtle sensations'. While we were (understandably) told not to generate aversion toward the 'gross, solidified sensations', we were also told not to generate craving toward the 'subtle sensations'. At this point I wondered what was being referred to here - how could there be any pleasurable sensations from sitting down without moving?</p> <p>It was extremely hard to sit still during the 3-5pm session where Vipassana was being taught - my back pain was getting severe. I would describe it as a sharp, tearing sensation that persisted despite attempts to focus on my breath more intensely, or even with the ongoing teaching of the body scan technique during that time.</p> <p>With regards to the body scan - I found it quite difficult to feel anything at first, especially in areas like the top of the head, ears, elbows or the mid-back and mid-chest where my shirt was not in contact with my skin. Subsequently I started feeling sensations in these areas. I would describe the sensation on the scalp as a sort of tingling, with a very faintly pulsating character. As I swept my attention across my scalp (in the same manner as the hands of a clock, radially), the tingling sensation would follow - I'm not sure if this tingling was partially created due to the act of focusing on an area, or whether the sensation was already present but just not noticed.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-5","title":"Day 5","text":"<p>During the morning sitting, I had (I think) the first few feelings of what Goenka calls 'subtle sensations'.</p> <p>During this sitting, I attempted to keep still throughout. Around the one hour fifteen minute mark, my leg pain was getting more and more severe - a throbbing pain which continually tried to grab my attention, and of which I could feel my subconscious mind generating impulses to move which I was suppressing. As I forced on ahead with the body scan however, the pain changed in character, slowly, on the border of imperceptibility - instead of being pain, it became a sort of numbness/tingling - still intense, but the impulse to move became much less. If I focused hard I could still feel my pant leg above that sensation. Also at this point my back pain went away - not just becoming numb. I think perhaps the intense sensations in my leg were responsible for that.</p> <p>As the intense leg sensations continued through my body scan, I began feeling an electric current flowing from the top of my head, through the face, neck, down the torso, and to the four limbs. This 'electric current' feeling moves quite fast - I would say about 10cm/s. With regards to how it felt like, the closest similar experience I have is the 'pee shiver' feeling one sometimes gets when urinating after having held the urge for a considerable amount of time. The sensation seemed to always start from the top of the head and travel downward, ending at the ends of the limbs. This repeated about 4-5 times in succession over the span of about a minute - it was intense and short-lived. The 'electric current' feeling flowed through the intense areas of numbness in my legs as well. This current was pleasurable, and of considerable intensity - though I am not sure how it would compare to other very strong physical pleasures - its nature was such that I could not directly compare it to other sensations in retrospect.</p> <p>For example, after having a pleasurable sensation, one is able to somewhat relive the experience in the mind, and thereby develop a craving for it. For example, the feeling of a luxurious bed, or the taste of a good meal. But the memory of this sensation dissolves very quickly, and all I remember is the state of semi-euphoria I experienced at the time.</p> <p>I suspect this electric current sensation, or 'subtle sensation', arises when the body is experiencing extreme physical discomfort, probably due to the release of endogenous opoids, endorphins or some other chemical in the brain, as a kind of natural painkiller. In Vipassana we are instructed to ignore these sensations despite their pleasurable nature, and I think we are consciously blocking the pleasure pathways of our mind by doing so.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-6","title":"Day 6","text":"<p>This is the day where I had what I think is a partial experience of ego dissolution.</p> <p>It happened around 10am, after the first 8-9am sitting, and after I went back into the hall for the second sitting. Around the one hour thirty minute mark, the same thing with the leg pain was happening - the leg pain became severe, then became numb, followed by waves of electric current, which were less intense than what I experienced the previous day.</p> <p>At this point, I began to have the feeling that the sensations I was feeling, and the impulses to move, to stand, were not mine - it was as if I was sitting at the helm of a ship, observing the waves on the sea, and no longer attributing them to me. This applied to my thoughts as well - I started observing the thoughts in my mind and I had the sensation that they were not 'mine', but of this body's instead, a body which my consciousness was forced to live in, forced to experience. This particular feeling made the rest of the sitting not just tolerable, but effortless - because it was not 'I' who was feeling the sensations any longer.</p> <p>I would not say this felt euphoric in any way - it felt like detachment from the physical body, together with the baser thoughts like aversions and cravings. I still attributed logical thought and deduction to myself, however. When the bell rang, I felt no impetus to move, and when I opened my eyes, I looked at my hands and legs, and had the sense that they were not mine - that they were someone else's, and that of which I happened to inhabit. As I walked out, thoughts like hunger, aversion to dirt on the floor were no longer attributed to 'me' , but rather 'this body's'. This applied to visual stimuli - looking at the trees, roads and plants, I had the sense the scene in front of me was like watching images at the cinema - something in which I was a passive observer of. In this state, mental reactions were minimal - I would see stimuli for example someone walking toward me, and in the past I would briefly wonder which direction they were headed, now I had no reaction to them - I just saw them.</p> <p>This detachment continued during lunch. As I ate food, I felt disconnected from the hand bringing the food to my mouth, and the subsequent taste of food. I walked and reacted somewhat slower during this period.</p> <p>This sensation was not permanent, and disappeared sometime after lunch, when I took a nap.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#days-7-10","title":"Days 7-10","text":"<p>The main experiences for the subsequent days were that I felt I could tolerate pain for much longer than I expected I could - this I suspect due to the emphasis on maintaining an equanimous mind throughout.</p> <p>Interestingly, this equanimity extended to cravings unrelated to meditation as well, (i.e. not related to the pleasant 'subtle sensations') when I self-tested myself at random points throughout the day: I would think of something I would ordinarily crave, and observe my physical sensations. Over the next few days I noticed myself reacting less and less to these self-tests. While I did have thoughts of cravings popping up at random times in the day, I suspect these are the deeply ingrained habit patterns of the mind, of which this technique of Vipassana is attempting to retrain.</p> <p>I am a naturally ticklish person, and I noticed that after meditation, when tickling myself on my foot, I was able to remain still and look at the tickling quite equanimously.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#day-10","title":"Day 10","text":"<p>On this day, silence was broken after the morning meditation.</p> <p>Perhaps I would describe it as somewhat awkward, having spent the last 9 days in silence amongst my roommates. Now we were free to talk, gossip and ask each other all the questions we had been piling up throughout the 9 days!</p> <p>I spoke with several individuals from various backgrounds, who described their own difficulties with the prolonged sitting, and how they managed to cope. Some talked about how pain magically went away after a few days, while others shared their theories on why this technique seemed to work. We had engaging philosophical discussions on whether love was compatible with the mindset of equanimity (if love is about fostering attachment to the other person, how can someone free of attachment love?), and lighter-hearted ones such as whether the meditation center should remove air conditioning from the hall as it might foster attachment (we argued that this course was a primer, and to remove all luxuries completely might reduce completion rates).</p> <p>I walked out, feeling ready to continue living my life, recharged.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#conclusion","title":"Conclusion","text":"<p>At the end of the retreat, and while writing this article now, about 5 days since the end of the retreat, my life has changed in several ways.</p> <ul> <li>I have started meditating for an hour in the morning and evening (as far as circumstances allow)</li> <li>I feel much more disconnected from the world, my thoughts and bodily sensations: it is as if I am watching a cinema, and there is little impetus to feel excited/disappointed by anything</li> <li>I am able to concentrate on things somewhat more easily</li> <li>Sleep: With meditation, I don't seem to feel sleepy during the day, despite sleeping on average an hour less each day</li> </ul> <p>I would like to express my gratitude once again to the organization for providing free food, accommodation as well as conducive environment, for the practice of this psychological technique of Vipassana meditation, as well as the wonderful people I have had the opportunity to meet there.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#faq","title":"FAQ","text":"","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#are-there-any-other-accounts-of-the-course-besides-yours","title":"Are there any other accounts of the course besides yours?","text":"<p>Yes, you can read those of another fellow meditator I met during the course here.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#does-it-work","title":"Does it work?","text":"<p>If by 'work', you mean being free of cravings and aversions, then I would say yes, these have reduced in myself from my observation.</p> <p>If you are talking about achieving ego death, or enlightenment, I think this is subjective - some people experience this during the course, some after, but the experience of it is irrelevant to the psychological benefits it provides.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-does-it-work","title":"How does it work?","text":"<p>The following is completely my own conjecture.</p> <p>During prolonged sitting, one experiences pain from prolonged muscular stasis and compression of tissue against bony surfaces. One also experiences pleasure from the release of endogenous endorphins and opoid receptor agonists (I suspect these are the body's natural painkillers, released when one is experiencing severe pain).</p> <p>Each experience we receive from the six sense doors: vision, smell, touch, sound, taste and thoughts (special case) produces a physical sensation, and no matter how subtle, or whether we consciously experience it, our subconscious reacts to it, generating craving or aversion.</p> <p>The technique trains awareness to both, and encourages the conscious mind to see both pain and pleasure as the same thing. This ability extends to the actual experiences of craving and aversion in our daily lives, allowing us to become equanimous to both of them.</p> <p>With prolonged exposure, it is possible to develop detachment from bodily sensations and even thoughts, towards a state of ego death, where 'one' (if that still makes sense in this state) no longer views their body, its `sensations, thoughts, desires and fears as their own, but rather from a third person point of view. In such a state, there is no reason to crave or avoid anything - there is pure indifference to everything.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-it-really-free-can-i-not-pay-anything","title":"Is it really free? Can I not pay anything?","text":"<p>Yes, you are free to walk out on the last day after the course ends without donating. Nobody will know, and nobody will stop you. More importantly, nobody will care.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-this-a-cult","title":"Is this a cult?","text":"<p>This was something I started wondering after I signed up - how can they not charge anything and provide everything for free? Why do we have to give away our phones? Why can't we talk to other meditators?</p> <p>After attending the course, I can confidently say that what is being taught here is a psychological technique, albeit one with the aim of releasing oneself from attachments to craving and aversion, to be able to live life happily.</p> <p>We were not asked to worship or pray to any deity, individual or God, nor were we asked to perform any rites or rituals.</p> <p>We were free to leave at any point during the course (2 people left, presumably for family reasons).</p> <p>There was a donation table setup at the end of the course, but no attention was paid to who donated or whether one even approached the donation table.</p> <p>If anything, the closest thing that can be considered 'cult-like' is that Goenka advises practitioners to recommend more people to these courses, and that he asks practitioners not to practice other forms of meditation, if they found Vipassana to be useful for them.</p> <p>From the Vipassana website:</p> <p>One Path Only</p> <p>Do not mix this technique with others. If you have been practicing something else, you may attend two or three Vipassana courses to help you decide which technique you prefer. Then choose the one you find most suitable and beneficial, and devote yourself to it.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-difficult-is-it-to-sit-for-10-hours-a-day-i-have-chronic-back-pain","title":"How difficult is it to sit for 10 hours a day? I have chronic back pain.","text":"<p>While I don't have chronic back pain, I spoke to a student with radiculopathy from a prolapsed intervertebral disc (the jelly-like material between bones in the spine, pressing on the spinal cord). He declined surgery fearing risks of paralysis, and prior to the course was experiencing constant pain in his leg.</p> <p>He was able to complete the course, and said that the pain was not a significant obstacle for him.</p> <p>I myself developed back pain around the 3rd day, but with continued meditation, I became indifferent to it, and it dissipated during the sittings.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#is-there-any-religionpseudoscience-being-taught","title":"Is there any religion/pseudoscience being taught?","text":"<p>The teaching is completely non-secular and focuses instead on the psychological technique as taught by S. N. Goenka, which he claims is what was practiced by the original Buddha, Gautama Buddha.</p> <p>During the evening discourses, Goenka presents a viewpoint of why he thinks the technique works the way it does from a psychological perspective, based on his research of the Pali scriptures, without invoking supernatural elements, deities or other mystics. He emphasizes that one should base their acceptance of the technique based on their own personal experience, and not just because he or the scriptures say so. Overall, I found the explanation to be rather sound.</p> <p>There are some points where the science is questionable - those relating to the Kalapas as the smallest indivisible units of matter, as well as the idea that our strongest sankharas (cravings and aversions) get transferred to the next physical body to arise (he uses this as a reason why suicide is not a solution to the end of suffering).</p> <p>These did not present any major hindrance to the practice of the technique, and at no point were we asked to accept any parts of the discourse/teaching we found unacceptable.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#how-does-this-compare-with-zenzazen","title":"How does this compare with Zen/Zazen?","text":"<p>While I have read many books<sup>2</sup> on Zen, I have not formally practiced the technique under a teacher. However, on my reading the main differences appear to be:</p> <ul> <li>As per Dogen's Universally Recommended Instructions for Zazen, Zen involves meditating without any visualization, objects, anchors or content. To sit is just to sit, and the meditator strives to watch the stream of their thoughts, letting them rise and fall without interfering.</li> <li>Vipassana, on the other hand, focuses more on awareness of bodily sensation, and the subsequent development of equanimity to pleasant and unpleasant sensations.</li> </ul> <p>I believe both techniques can lead to ego dissolution, in particular as what I experienced on day 6 of the course. However, I would like to try a Zen retreat in the future, perhaps at an institution like the Rinzai-ji Zen Center.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-05-vipassana-meditation-retreat/#personal-notes","title":"Personal Notes","text":"<p>Factors affecting the ability of the mind to be equanimous</p> <p>Some days I was able to sit still and be equanimous to pain for longer periods than others. After some thought I think the following factors adversely affect one's ability to be equanimous:</p> <ol> <li> <p>Lack of sleep</p> <ul> <li>I suppose this has to do with the willpower to maintain focus on sensations elsewhere on the body, consciously, and not continually be distracted by pain?</li> </ul> </li> <li> <p>Exposure to continued stress/distractions requiring immediate responses</p> <ul> <li>In these scenarios, I think the ego is forced to take over, as there are too many decisions for one to make mindfully</li> </ul> </li> <li> <p>Recent exposure to sensual pleasures</p> <ul> <li>This is in the same category as distractions - with a recent memory of a sensual experience, this will keep cropping up in the mind, and affect one's ability to concentrate on observing sensations. I suppose this is why some of the Sila (moral rules) involve abstaining from sensual pleasures like sex, alcohol and drugs.</li> </ul> </li> </ol> <p>Conjectures regarding the ultimate origination of sankharas</p> <p>I believe our innate responses to stimuli, internal or external, arise from the ego, which is possibly an evolved construct of the mind, with the purpose of ensuring our continued survival and reproduction in the world. We are therefore carrying this piece of 'evolutionary baggage' around as we go, and meditation somewhat frees us from this.</p> <p>A fellow meditator I spoke to, who thinks similarly, recommends Sapiens by Yuval Noah Harari for further reading.</p> <ol> <li> <p>Buddhism may be considered a religion, but I prefer to view it as a psychological school of thought.\u00a0\u21a9</p> </li> <li> <p>I have read works by Alan Watts (The Way of Zen, The Book on the Taboo against Knowing Who You Are) and Shunryu Suzuki (Zen Mind, Beginner's Mind).\u00a0\u21a9</p> </li> </ol>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-11-is-this-world-real/","title":"Is This World Real? On Realism","text":"<p>I recently watched a discussion involving Donald Huffman, in which he argues that the world as we perceive it is not its true form - our senses are heavily colored by evolutionary adaptations to ensure our survival and reproduction. The analogy he provides is that what we perceive is akin to the icons on a computer desktop, bearing no resemblance to the actual forms which are magnetic charges on a spinning disk. This is similar to the argument he puts forth in his book, The Case Against Reality, as well as a summary online.</p> <p>He then goes on to suggest a form of constitutive panpsychism - that our consciousness is made up of other, hierchically lower consciousnesses, and that the other 'objects' we perceive in the world are intrinsically conscious, although their experiences could be totally different from ours and perhaps unimaginable (take for example, the conscious experience of an electron - traveling at the speed of light, no time passes for it - what could it experience?). He suggests further that when and if we create artificial intelligence, what we are actually doing is creating a sort of 'portal' for conscious agents (of which he says there are an infinitude) to enter. There are several philosophical issues with constitutive panpsychism, the most glaring being that of the subject summing problem (how exactly do lesser conciousnesses combine to form a larger consciousness?), and for that, I am less inclined to accept it.</p> <p>I am, however, more interested in the implications resulting from the idea that our perception is unreliable and/or biased toward evolutionary drives. There are several instances in reality which point to this - we find bright light glaring, extremes of temperature unbearable, a sunrise pretty, ripe fruits more attractive than unripe fruits and so on, despite the fact that all these examples are purely arbitrary patterns and intensities of light and heat.</p> <p></p> <p>This extends to our raw perception (qualia) itself. The experience of seeing blue as blue, for example, is completely arbitrary - why doesn't blue look green? Or take temperature as an example - why does ice feel cold? More broadly, why are our eyes biased to an extremely narrow portion of the electromagnetic spectrum, or why can't we see infrared? Bats are able to echolocate their prey via sonar, but it is not something that we can readily imagine, let alone experience<sup>1</sup>. Electric eels are able to locate prey via sensing changes in the electrical gradient, and again we cannot imagine how this must feel like for the eel.</p> <p>Huffman's argument further posits that there is no objective reality. Chairs, tables, rocks etcetera do not really exist - our perceptions lie to us, manipulate reality in ways such that we act to survive and reproduce. To put it simply, over years of evolution, it is easier for us to perceive a tiger as how we currently see it, large and fear-inducing, so that we make the appropriate action for our survival (by running away), rather actually seeing the tiger as it is. There may not even be three dimensions in the world we live in - our senses could have filtered out the extra dimensions, because from the evolutionary point of view, there is no added fitness to perceiving them.</p> <p>To go even further out, our thoughts can be viewed as a form of perception, namely mental perception, and therefore also susceptible to distortion. We already see this from our desires - we generally find others of the opposite gender attractive, and this preference is not free for us to decide, having been programmed by our genes from the get-go. This distortion could potentially apply to our thoughts on moral and ethical issues, our likes and dislikes, what we perceive as good or bad, and so on. In light of this, are our thoughts even ours?</p> <p></p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-11-is-this-world-real/#the-impasse-and-resolution","title":"The Impasse and Resolution","text":"<p>The consequence of this theory is that objective reality and thought, our once formidable anchors to this world, have now been rudely removed from under our feet, leaving us, having discarded thought as unreliable, blankly staring at whatever remains of reality, unsure of the existence of anything. Is there really no solid, immutable, eternal anchor on which we can at least be sure really exists?</p> <p>I believe that there is one such anchor remaining, and this anchor will continue to exist, even as everything else is swept under the current of nothingness and illusion.</p> <p>This final anchor is logic.</p> <p></p> <p>By logic, I am referring to our deductive ability, our capabilities to reason, weigh, evaluate and theorize. This is most evident in mathematics, where we are able to manipulate symbols to yet more symbols, and discover facts about these symbols which were not known previously to us.</p> <p>Our mental manipulations of the world of logic maintain their consistency across observers, and it is hard to imagine a possible world in which reason and/or mathematics are not consistent (is it possible to imagine a world where 1 + 1 = 3?). While I will leave the question of whether numbers and other mathematical constructs exist or are discovered to philosophers, I am compelled to suspect that regardless of whether we perceive the physical and mental world as it is or not, the world of logic and reason is immune to any sort of manipulation by our sense organs, brains, or in some other form by evolution.</p> <p>There is a nice fictional example of how logic is used to discern dream from reality. In Stanislaw Lem's Solaris, the main character experiences a series of bizarre events and begins to suspect he is dreaming. He conducts the following test: He asks a supercomputer for the answer to a difficult math question and keeps the answer. He then calculates the answer himself manually, and then compares the two. If they are equal, he surmises he is not dreaming, since there is no way his brain could have calculated the answer as fast as the supercomputer<sup>2</sup>.</p> <p>Logic is what allows us to theorize that our senses are deceiving us in the first place. Even if, say, an evil demon were manipulating all of our reality, with logic, we can break free from its grasp (as Descartes did with his cogito, ergo sum).</p> <p>How did we obtain logic? Dawkins has an answer. As evolution progressed, we initially gained the ability to form mental models about the world to escape from predators and find food. Later, we gained memory and the ability to learn. The ego developed later<sup>3</sup>, and represented the ability of the organism to include itself into its mental model of the world, instead of merely reacting passively. Intellect and with it, logic, must then have developed, culminating in Homo sapiens becoming the dominant species on this planet.</p> <p>Logic may be more real than anything we can perceive in this world.</p> <p></p>","tags":["Philosophy"]},{"location":"blog-posts/2022-08-11-is-this-world-real/#notes-and-additional-reading","title":"Notes and Additional Reading","text":"<p>There are several critiques of Hoffman's theory - you can read one of them here.</p> <p>Another interesting argument I read online arguing for objective reality goes as follows: In nature, we see less poisonous animals mimicking more poisonous ones (snakes, toads, and so on). This mimicry is only possible if there is an objective reality to mimic.</p> <p></p> <p>This is a humorous critique of oft-abused terms (think quantumly connected, non-locality) in the psychological field of consciousness.</p> <ol> <li> <p>This is covered in his 1974 paper, What Is It Like to be a Bat? \u21a9</p> </li> <li> <p>This procedure assumes that 1. his memory is reliable, 2. his conscious thought processes run at the same speed as his unconscious, and 3. he was free to decide the question he asks the supercomputer.\u00a0\u21a9</p> </li> <li> <p>Ironically, with logic and the realization that the ego exists, certain meditation techniques and drugs have been utilized with the intent of dissolving it.\u00a0\u21a9</p> </li> </ol>","tags":["Philosophy"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/","title":"Nutrition and Health","text":"<p>I have been interested in nutrition from young, seeing as it affects not only weight, but clarity of thought, longevity and sleep among other things. Over here I have collated some of the research I have done over the years, which I have incorporated into my diet.</p> <p>This page is continually updated as more studies and information develop.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#general","title":"General","text":"<p>The optimal diet consists of grains, legumes, vegetables, and fruit, with &lt;10%-15% of its calories coming from fat. Resolving the Coronary Artery Disease Epidemic through Plant-Based Nutrition, Preventive Cardiology, 2001</p> <p>An LDL (bad cholesterol) level of less than 1.55mmol/L reverses atherosclerosis. Eating a very-low calorie diet (600-800kcal a day), such as in the Newcastle Diet [PDF], can also potentially reverse diabetes.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#timingintermittent-fasting","title":"Timing/Intermittent Fasting","text":"<p>It is thought that not just the total intake, but the timing of consumed calories, plays an important role in weight loss and metabolic health.</p> <p>This NEJM review article (fulltext), published in 2019, showed that intermittent fasting, defined as either time-restricted eating (TRE), alternate day fasting (ADF) or 5:2 intermittent fasting, has broad spectrum benefits including glucose regulation, stress resistance and inflammation suppression, independent from weight loss. Some purported benefits went even beyond metabolism, such as increased neuroplasticity and longevity. Muscle mass was shown to be retained despite fasting daily for 16 hours while undergoing resistance training.</p> <p>This study found that while there was no difference in weight loss/daily energy expenditure between morning-loaded and evening-loaded diets, there was less subjective hunger in the morning-loaded diet, which could contribute to weight loss in the long term via appetite suppression.</p> <p>A review article comparing the various types of fasting (ADF, TRE, and the 5:2 diet) showed that ADF and the 5:2 diet had better weight loss and cholesterol lowering effects than TRE.</p> <p>This article from 2018 found that an earlier eating window (i.e. 6 hour eating window, with dinner before 3pm) had better cardiometabolic beneficts as compared to a later eating window.</p> <p>However, in 2022, an NEJM article comparing weight loss and metabolic risk factors between time-restricted eating and plain old caloric restriction, showed no significant difference in both groups. Another study showed that eating one meal a day was associated with increased all-cause mortality. Until the evidence is more conclusive, however, I still believe the benefits of IF outweigh the negatives.</p> <p>The key principles appear to be:</p> <ul> <li>Keeping the eating window short (6 hours is ideal)</li> <li>An earlier window is better than a later one</li> <li>ADF and 5:2 fasting may be more effective for weight loss than TRE</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#cooking-methods","title":"Cooking Methods","text":"<p>Boiling vegetables causes some degree of water-soluble nutrient loss as compared to other methods like steaming or stir-frying.</p> <p>However, boiling is much faster, especially with a pressure cooker. To compensate for the loss, you can drink the water the vegetables are cooked in (especially so with a pressure cooker, where much less water is used than with boiling).</p> <p>Soaking beans beforehand can reduce the amount of lectins, an antinutrient which interferes with the absorption of minerals. However, it turns out soaking beans isn't really necessary when it comes to flatulence, taste or nutrition (in fact, unsoaked beans taste better).</p> <p>Of note: food in contact with the water in the pressure cooker appears to cook faster, than food simply exposed to the steam.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#improving-palatability-umami","title":"Improving Palatability, Umami","text":"<p>Adding ingredients with umami (the fifth taste, that of savoriness) vastly improves the taste of the overall meal. Sources include kombu seaweed, dried shiitake mushroom, parmesian cheese, marmite, soy sauce, tomatoes, garlic and chicken, in descending amounts.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#satiety-index","title":"Satiety Index","text":"<p>Satiety, or how full a food makes you feel, can help when deciding what to eat, especially when snacking. This article provides a satiety chart for common foods, and further analyzes reasons for a food's satiety.</p> <p>Generally, foods with high satiety indices are low in energy density and high in fibre and protein.</p> <p>Interestingly, potatoes are the most satieting (despite being very high in GI), followed by fish, porridge and oranges in that order.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#carbohydrates","title":"Carbohydrates","text":"<p>I prefer complex grains and legumes/lentils over processed alternatives like white rice, and avoid added sugar.</p> <p>There is some ongoing research which suggests that artificial sweeteners such as sucralose, aspartame and acesulfame-K may adversely affect gut microbiota, metabolic health and sweetness preferences.</p> <p>Legumes/lentils are a great source of complex carbohydrates as well as protein and other minerals.</p> <p>Resources:</p> <ul> <li>Glycemic Index for 100+ foods</li> <li>Glycemic Indices for even more foods</li> <li>Nutritional comparison of various legumes</li> <li>Beans soaking/pressure cooking time chart</li> <li>Lentils and their Hindi names</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#protein","title":"Protein","text":"<p>Consuming more protein as a percentage of caloric intake may result in more weight loss and muscle retention.</p> <p></p> <p>Protein supplementation beyond total protein intakes of 1.62 g/kg/day appears to provide little to no gain (Morton et al., 2018).</p> <p>An intake of red meat above 500g/week is associated with an increased risk of CRC.</p> <p>Fish and eggs appear to be more filling compared to chicken protein.</p> <p>Whey protein is a great source, however there are concerns about contamination with heavy metals, and so I limit my total intake from this source.</p> <p>The key principles are:</p> <ul> <li>Consume more protein as a total percentage of caloric intake.</li> <li>Aim for a total intake of ~1.6/kg bodyweight/day.</li> <li>Great sources of protein include chicken, fish, eggs, beans and whey.</li> <li>Limit red meat intake to less than 500g/week.</li> </ul>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#protein-source-comparison","title":"Protein Source Comparison","text":"<p>Meat is assumed to have ~20% protein (of raw weight). Whey protein isolates/concentrates are assumed to be 90% protein. Tau Kwa is assumed to have 13.1% of protein by weight.</p> <p>Tofu (tau kwa), whey protein and frozen chicken breasts are among the most value-for-money sources.</p> Date Type Cost Cost/100g protein 2023-06-14 Sadia frozen chicken breasts $15.90/2kg $3.98 2022-08-18 Baiye Tofu (pressed tofu) $2.50/250g $4.14 2022-07-12 Pan Royal Frozen Saba Fillet $9.50/750g $6.33 2022-07-12 Pan Royal Frozen Toman Slices $7/500g $7.00 2022-03-07 Sadia frozen chicken breasts $7.95/kg $4.00 2022-03-07 Tau Kwa $1.15/450g $1.95 2022-06-11 Market fresh pork tenderloin $14/kg $7.00 2022-06-11 Market chicken breasts $45 for ~3.3kg $6.82 2022-04-03 Cold Storage chicken breasts $31.6 for 3.5kg ($7.90 for 4 breasts) $4.50 2022-03-22 Market chicken breasts $33 for 3.6-4.8kg ($11 for 4) $3.43 - $4.58 2022-01-29 MyProtein whey isolate 5kg for $204 $4.50 2022-01-29 MyProtein whey concentrate 5kg for $142 $3.50 2020-05-10 MyProtein whey isolate 5kg for $144 $3.20 2020-05-10 MyProtein whey isolate matcha latte flavor 1kg for $44 $4.89","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#fibre","title":"Fibre","text":"<p>The recommended intake for fiber is around 25-38 grams a day.</p> <p>Sources include root/leafy vegetables, whole grains, legumes (13-25% fibre), psyllium husk (almost completely fibre, note: powder form seems to work better) and chia seeds (34% fibre).</p> <p></p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#fat","title":"Fat","text":"<p>I avoid saturated fat, and consume monounsaturated/polyunsaturated fat preferentially.</p> <p>I also eat oily fish (such as mackerel and salmon, especially salmon belly), and take fish oil supplements (see below).</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#others","title":"Others","text":"","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#vitamin-d","title":"Vitamin D","text":"<p>While a causal connection between vitamin D and extraskeletal health remains unestablished, some observational studies suggest an inverse correlation with serum vitamin D levels and all-cause mortality.</p> <p>In light of this evidence, and the fact that most of the population does not get sufficient sun exposure, supplementation may be beneficial to reach the recommended daily intake of 600IU.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#omega-3","title":"Omega 3","text":"<p>Omega-3 fatty acids obtained from marine or algae sources (i.e. EPA/DHA) are associated with triglyceride lowering, BP lowering and antiarrhymthmic/antithrombosis effects. Plant based omega-3 fatty acids (ALA) on the other hand, are poorly converted to EPA/DHA.</p> <p> </p> <p>Sources of EPA/DHA include oily fish like salmon or mackerel.</p> <p></p> <p>Mackerel is overall the best option for price and amount of omega 3.</p> <ul> <li>Saba = Japanese Mackerel</li> <li>Batang = Spanish Mackerel</li> </ul> <p>Pangasius (cream dory, vietnamese catfish) may be a safe option.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#creatine","title":"Creatine","text":"<p>Creatine has been shown to improve exercise performance together with other benefits, and has been shown to be safe. Physiqnomics recommends a daily intake of 5g (in the monohydrate form).</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#tea","title":"Tea","text":"<p>Health Effects</p> <p>Green tea has been shown to lower cholesterol to an extent.</p> <p>However, there is some concern that excessive consumption of catechins, such as in matcha powder, could cause liver damage (elevated serum transaminases).</p> <p>Caffeine content</p> <p>All values per cup.</p> <ul> <li>White tea: 13mg</li> <li>Green tea: 35mg</li> <li>Oolong tea: 40mg</li> <li>Black tea: 55mg</li> <li>Matcha tea: 80mg</li> </ul> <p>In comparison, coffee contains 100-200mg of caffeine. In general, the more the tea leaves are roasted/fermented/processed, the higher the caffeine content.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#l-theanine","title":"L-Theanine","text":"<p>L-Theanine is a naturally occuring amino acid, found in tea leaves (in particular, those grown in shade, such as the gyokuro variety).</p> <p>This compound is psychoactive and its effects range from improving sleep to inducing relaxation and learning ability. It is not a sedative and does not cause drowsiness.</p> <p>Studies appear to show some cognitive benefit, although the evidence is not conclusive. Some users find it helps with meditation (reddit), while others have mixed results (1, 2, 3) and even withdrawal.</p> <p>L-Theanine appears to be safe even at high doses and does not appear to be carcinogenic.</p> <p>L-Theanine content is higher in unfermented teas, although a study examining L-theanine content in various teas found a large variability in levels amongst different processing methods (white, green, oolong and black). In general, levels in tea range from 2-25mg/cup.</p> <p>L-Theanine is also available in supplement form (commonly at 100 and 200mg doses).</p> <p>I have yet to examine the effects of L-theanine, but it is a promising nootropic for improving sleep, relaxation and possibly focus.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-10-28-nutrition-and-health/#comparison-of-various-nutrients-across-major-staple-foods","title":"Comparison of various nutrients across major staple foods","text":"<p>Here is a useful table comparing nutrients across major staple foods, such as beans, corn and rice.</p> <p>Soybeans (and hence beans) rank the highest in most categories, such as protein, fibre and iron. However, they are deficient in other nutrients, which can be supplemented as follows:</p> Vitamin/Nutrient Source of Vitamin/Nutrient Vitamin B5 Sweet Potatoes Vitamin B6 Potatoes Vitamin E Sweet Potatoes, Yam Vitamin K1 Potatoes Beta-carotene Sweet Potatoes Lutein + Zeaxanthin Corn <p>A balanced diet of nutrients can be therefore constructed with beans as the base, and supplemented with sweet potatoes, potatoes and corn.</p>","tags":["Cooking"]},{"location":"blog-posts/2022-11-26-photoprism-google-photos/","title":"Photoprism - A Google Photos Replacement","text":"<p>My Google Photos account ran out of storage recently (since 2021 June, Google has stopped providing free storage for photos in High Quality), and I was looking for a self-hosted, open source replacement, with similar features to Google Photos (fast gallery view, facial recognition, object detection).</p> <p></p> <p>I found PhotoPrism, an open-source, self-hosted, web-based photo manager with features such as facial recognition, object tagging, automatic import and organization, and the ability to view photos with location information on a map. I was impressed, and deployed it on my server.</p> <p>You can try their demo here. To get started (via Docker Compose), see the guide here.</p> <p>PhotoPrism can also be installed on mobile devices as a Progressive Web App, offering a near-native app experience.</p> <p></p>","tags":["Programming"]},{"location":"blog-posts/2022-11-26-photoprism-google-photos/#mobile-sync","title":"Mobile Sync","text":"<p>Photoprism suggests using PhotoSync, an app available on Android and iOS. However, the WebDAV sync feature, essential to work with PhotoPrism, is a paid feature.</p> <p>Syncthing is a free, open source continuous file synchronization program, with a reliable conflict resolution algorithm. It offers Android and iOS versions as well.</p> <p>You can sync your phone's camera folder (sometimes called <code>DCIM</code>) to PhotoPrism's <code>import</code> folder using Syncthing.</p> <p>Then, you can use this <code>docker compose.yml</code> to setup Ofelia, a job scheduler for Docker, to trigger the PhotoPrism import process (which adds photos to your library and organizes them).</p> <p>This can be done with the following <code>config.ini</code> for Ofelia:</p> <pre><code>[job-exec \"photoprism import\"]\n## See schedule syntax at https://pkg.go.dev/github.com/robfig/cron\nschedule = @daily\ncontainer = photoprism\ncommand =  photoprism import\nno-overlap = true\n</code></pre> <p>By using the Send &amp; Receive Folder type in Syncthing, whenever an import is performed by Photoprism, the imported photos in your phone are automatically deleted, freeing up space</p>","tags":["Programming"]},{"location":"blog-posts/2022-12-16-japan-tomamu-skiing/","title":"Club Med Tomamu Skiing","text":"Mt Tomamu Ski Map <p>I skied here during December 2022 with my family. Most of the slopes were closed due to insufficient snow (we were here before Christmas, early in the season), and so we spent most of our time on a few slopes (Silver Bell, Twisting Forest, Knaster).</p> Ski Lesson Proficiencies"},{"location":"blog-posts/2022-12-16-japan-tomamu-skiing/#misc","title":"Misc","text":"<ul> <li>Ski boot size: 29</li> <li>Skis length: 149cm</li> </ul> <p>We were recommended ski resorts:</p> <ul> <li>Courchevel, France</li> <li>Kronplatz, Italy</li> </ul>"},{"location":"blog-posts/2022-12-16-japan-tomamu-skiing/#techniques","title":"Techniques","text":"<ul> <li>Lean forward</li> <li>Belly button should be facing downwards</li> <li>Don't squat</li> </ul>"},{"location":"blog-posts/2022-12-16-japan-tomamu-skiing/#videos","title":"Videos","text":""},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/","title":"On The Measure Of Intelligence","text":"ChatGPT solving a math problem <p>ChatGPT was recently released and has been taking the world by storm. In the online space, there is much discussion about whether we are close to general purpose AI. There is no doubt that better and more capable models (e.g. GPT-4) will soon be released, which will overcome the flaws of its predecessors.</p> <p>In that light, I thought it prudent to revisit the definition of intelligence, as well as ways to measure intelligence across human and machine systems.</p> <p>One of the most pertinent papers on this topic I have come across is On The Measure of Intelligence, published in 2019 by Francois Chollet (the author of Deep Learning with Python). Many of its ideas are still relevant, especially regarding what really constitutes intelligence. In this blog post, I summarize the key ideas in the paper:</p> <ul> <li>The intelligence of a system is a measure of its skill-acquisition efficiency over a scope of tasks, with respect to priors, experience and generalization difficulty.</li> <li>Skill is the output of intelligence.</li> </ul>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#part-1-context-and-history","title":"Part 1: Context and History","text":"<p>Current intelligence systems are brittle, data-intensive and fail to generalize across tasks. This is because we do not have a clear goal definition and/or benchmark for intelligence of which to guide research against. Common-sense definitions such as the Turing Test are not objective (in fact, the Turing Test was meant as an argumentative device in a philosophical discussion, not as a literal measure of intelligence), and cannot serve as a reliable benchmark in measuring our progress toward AI. In order to progress further, we need to develop measures of intelligence that are precise, quantitative and in particular, human-like. </p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#the-ai-effect","title":"The AI Effect","text":"OpenAI Five <p>Every time progress toward AI is made, we shift goalposts. Whenever a machine is made which can beat humans at checkers, chess, or DotA 2, there are no shortage of critics who argue that what is being shown is not intelligence. Similarly, when we understand how a machine does something intelligent, it ceases to be regarded as intelligent. However, if a human were to become exceptionally good at say, chess or DotA 2, we would safely assume they are intelligent. This has been dubbed the AI Effect.</p> <p>Even though such machines might do some things as well as we do them, or perhaps even better, they would inevitably fail in others, which would reveal they were acting not through understanding, but only from the disposition of their organs.Rene Descartes, 1637</p> <p>Francois suggests that there is an anthropocentric assumption at play here. As humans, we are only able to display high skill at a task if we able to acquire skills efficiently in general, which is actually what intelligence is. The AI Effect is therefore the result of conflating skill (the artifact, or crystallized form of intelligence, in the form of a program), with intelligence (the property displayed by the researchers in creating such a program, and what people are really looking for).</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#psychometric-testing","title":"Psychometric Testing","text":"Raven's Progressive Matrices, used in psychometric testing <p>The field of psychometric testing has provided several principles regarding measuring intelligence. One of them is that abilities are measured, rather than task-specific skills. An ability is an abstract construct as opposed to a directly measurable, objective property of an individual mind, such as a score on a specific test. Such abilities may include reading, writing, or mathematics. Abilities form the basis of skill across a wide range of tasks, including tasks which were previously unknown to both the system and developer. Such abilities are measured using broad batteries of test tak rather than any single task, and the tasks are previously unknown to the test-taker. This approach is highly relevant to AI evaluation.</p> <p>However, certain aspects of psychometric testing, having been designed with an anthropocentric bias, should be discarded. For example, the exact number and taxonomy of human cognitive abilities, being unknown, should not be used as a template for artificial cognitive architectures (at most, as a guide). Additionally, certain abilities measured by psychometric tests, such as reading and writing, are in reality multi-purpose skills acquired from experience, and should not be tested.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#problems-with-current-benchmarks","title":"Problems with current benchmarks","text":"Obstacle Tower. Deep RL methods fail to produce agents capable of performing near human level. <p>Most benchmarks, in particular for deep learning, do not formally assess robustness and/or quantify generalization, and can be solved via 'shortcuts' (such as surface textures in the case of computer vision, rather than semantic content as is desired) which result in poor generalizability and brittleness. Even attempts at broadening task-specific benchmarks by including multiple tasks, such as testing Reinforcement Learning (RL) systems on previously unseen game levels (e.g. CoinRun, Obstacle Tower), are still only looking at task-specific local generalization, as these are samples from the same distribution the system was trained on, rather than a completely new task.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#part-2-a-new-perspective","title":"Part 2: A New Perspective","text":"<p>In the 1970s, it was believed that solving the game of chess would require \"forms of reasoning and search and complex perceptual and memorial processes. [...] it also involves planning, evaluation, means-ends analysis and redifinition of the situation, as well as several varieties of learning [...]\". Two decades later, when IBM's DeepBlue beat Garry Kasparov, researchers realized that building an artificial chess champion had not actually taught them anything about human cognition. The knowledge of chess-playing, believed to require so many of the abilities above, could not generalize to anything other than chess.</p> <p>While it is true that those general abilities make it possible to solve chess, by going from the general to the specific, there is no clear path from the specific to the general. Chess does not require any of these abilities, and can be solved by taking shortcuts orthogonal to human cognition (minimax and tree search).</p> <p>Therefore, if one wishes to build general-purpose AI, that can be applied to a wide variety of problems, they must optimize directly for flexibility and generality, rather than task-specific performance, as is the case now with \"solving\" modern video games now.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#local-vs-broad-generalization","title":"Local vs Broad Generalization","text":"<p>Intelligence is not demonstrated by the performance of the output program (a skill), but by the fact that the same process can be applied to a vast range of previously unknown problems (a general-purpose ability).</p> <p>This is clear when we take as an example a static program which hard-codes a human-designed solution, such as a chatbot designed to answer each possible query via if/else statements. We do not expect this program to be intelligent, or generalize to other tasks beyond the specifications.</p> Chatbot fails to understand user intent <p>Even being programmed through exposure to data (such as deep learing models now) is no guarantee of generalization or intelligence. Hard-coding prior knowledge into an AI is not the only way to artificially \"buy\" performance on the target task without inducing any generalization power. There is another way: adding more training data, which can augment skill in a specific vertical or task without afecting generalization whatsoever.</p> <p>The author provides the following example of a hashtable, showing that a system with little generalization power can nevertheless be trained to become performant on a task:</p> <p>Consider a hashtable that uses a locality-sensitive hash function (e.g. nearest neighbor) to map new inputs to previously seen inputs. Such a system implements a learning algorithm capable of local generalization, the extent of which is fixed, and determined only by the abstraction capabilities of the hash function. The system, despite only featuring trace amounts of generalization power, is already sufficient to \"solve\" any task for which unlimited training data can be generated, such as any video game. All that one has to do is to obtain a dense sampling of the space of situations that needs to be covered, and associate each situation with an appropriate action vector.</p> <p>\"Solving\u201d any given task with beyond-human level performance by leveraging either unlimited priors or unlimited data does not bring us any closer to broad AI or general AI, whether the task is chess, football, or any e-sport.</p> <p>Current evidence points to the fact that contemporary Deep Learning models are local-generalization systems, conceptually similar to a locality-sensitive hashtable \u2013 they may be trained to achieve arbitrary levels of skill at any task, but doing so requires a dense sampling of the input-cross-target space considered, which is impractical to obtain for high-value real-world applications, such as L5 self-driving.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#the-generality-of-human-intelligence","title":"The Generality of Human Intelligence","text":"<p>The No Free Lunch theorem posits that any two optimization algorithms, including human intelligence, are equivalent when their performance is averaged across every possible problem. This suggests that algorithms should be tailored to their target problem in order to achieve better-than-random performance, and that no algorithm exists which has better performance than another across all possible problems.</p> <p>At first glance, it looks like our quest toward AI is doomed - according to the theorem, all algorithms are the same, averaged across every possible problem.</p> <p>However, we do not have to average performance across \"every possible problem\". Due to the choice of our universe's laws of physics, we are only interested in those problems that are possible in our universe. The question then, is whether human intelligence is universal, and if it would generalize to every possible task in this universe.</p> <p>This question is important, because if universal intelligence exists, and human intelligence is an implementation of it, then our end goal should be to replicate human intelligence, possibly by reverse engineering the brain. If, however, human intelligence is not universal but instead a broad cognitive ability which generalizes to human-relevant tasks but not much else, then this implies that AI is a fundamentally anthropocentric pursuit, tied to a specific scope of applicability (human-relevant tasks).</p> <p></p> <p>Humans have historically had a poor track record when attributing intelligence to complex information-processing agents, such as humans from other cultures, animals (dolphins, great apes, etc.) or collective entities such as markets and companies. We only reluctantly open up the possibility that systems different from ourselves may be \"intelligent\" if they display relatable human-like behaviors that we associate with intelligent, such as tool or language use; behaviors that have high intrinsic complexity and high adaptability but that are not directly relatable (such as octopus camouflage) are not perceived as intelligent.</p> <p>While human intelligence may appear broad, it is still highly specialized, for there are many tasks which our intellect is not adapted for. One example of that of tasks requiring large working memory, such as multiplying 10-digit numbers. Another example is that of inverting certain NP-hard problems, such as finding the longest path in the Euclidean Traveling Salesman Problem. We are also (generally) unable to handle shape-packing puzzles in 4D or higher.</p> A rotating tessaract (a 4-dimensional cube) <p>General intelligence is therefore not a binary property, but a spectrum, tied to the scope of application, the degree of efficiency with which the system translates its priors and experience into new skils over the scope considered, and the degree of generalization difficulty represented by different points in the scope considered.</p> <p>The value of one scope of application over another is entirely subjective; we would not be interested in a system whose scope of application had no intersection with our own.</p> <p>Therefore, it is conceptually unsound to set \"artificial general intelligence\" in an absolute sense (i.e. \"universal intelligence\") as a goal. One must start from a target scope (e.g. human-like), and seek to achieve a well-defined intelligence threshold within this scope. There still exists the possibility of building systems with higher generalization power than humans.</p> <p>Research on AI should focus on defining, measuring and developing a specifically human-like form of intelligence, and should benchmark progress specifically against human intelligence. Characterizing and measuring intelligence is a process that must be tied to a well-defined scope of application, and at this time, the space of human-relevant tasks is the only scope we can meaningfully approach and assess.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#priors-in-humans","title":"Priors in Humans","text":"<p>The central message of the No Free Lunch theorem is that to learn from data, one must make assumptions about it. The nature and structure of the innane assumptions made by the human mind are precisely what confers to it its powerful learning abilities.</p> <p>Human cognitive priors come in multiple forms, in particular:</p> <ul> <li>Low level priors about the structure of our own sensorimotor space (e.g. reflexes)</li> <li>Meta-learning priors governing our learning strategies and capabilities for knowledge acquisition. This includes assumptions regarding causality, spatio-temporal continuity, and the assumption that information in the universe follows a modular-hierarchical structure.</li> <li>High-level knowledge priors regarding objects and phenomena in our external environment, which includes priors about what defines an object, orientation and navigation in 2D/3D Euclidean spaces, goal-directedness (expectation that our environment includes agents that behave according to goals), innate notions about natural numbers, etc.</li> </ul> <p>Meta-learning priors are effectively what constitute intelligence. It is the high-level knowledge priors which should be accounted for when measuring a human-like form of intelligence, since systems which do not possess this will be at a critical disadvantage compared to humans when it comes to turning an experience curriculum into skill, and vice versa.</p> <p>A test of human-like general intelligence should therefore be founded on innate human knowledge priors:</p> <ul> <li>these priors should be made as close as possible to innate human knowledge priors</li> <li>the test should assume that the system being measured possesses a specific set of priors</li> <li>priors should be explicitly and exhaustively described</li> <li>the test tasks should not rey on any acquired human knowledge (i.e. any knowledge beyond innate prior knowledge). For example, it should not rely on language or acquired concepts (e.g. chess)</li> </ul> <p>With regards to the list of knowledge priors that humans are born with, the developmental science theory of Core Knowledge suggests four broad categories:</p> <ul> <li>Objectness and elementary physics</li> <li>Agentness and goal-directedness</li> <li>Natural numbers and elementary arthmetic</li> <li>Elementary geometry and topology</li> </ul> <p>General AI systems should hard-code as fundamental priors these core knowledge principles, and tests of general intelligence should only feature tasks that assume the four core knowledge systems listed above.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#defining-intelligence","title":"Defining Intelligence","text":"<p>The intelligence of a system is a measure of its skill-acquisition efficiency over a scope of tasks, with respect to priors, experience and generalization difficulty.</p> <p>If you consider two systems that start from a similar set of knowledge priors, and that go through a similar amount of experience, the system with higher intelligence is the one that ends up with greater skills. Intelligence is distinct from skill - skill is merely the output of the process of intelligence.</p> <p>The paper then considers a setup, in which an intelligent system generates a skill program to interact with a task. The system receives a learning curriculum and receives feedback during the training phase.</p> <p></p> <p>Algorithmic Information Theory, in particular the notion of Algorithmic Complexity (Kolmogorov Complexity), is used to define and quantify the Generalization Difficulty of a task. The Generalization Difficulty of a task is the one in which the evaluation-time behavior needs to differ significantly from the simplest possible optimal training-time behavior, in order to achieve sufficient skill. Put another way, generalization requires to reinterpret the task when new data arrives (e.g. at evaluation time). This implies the need to store representations of past data that would be seemingly useless from the perspective of the past, but which may prove useful in the future.</p> <p>The experience gained by the system is defined as the difference in the shortest possible string describing the system, when it is given data (containing the situation, response and feedback) versus when it is not.</p> <p>Putting the above together, intelligence can be defined as the rate at which a learner turns its experience and priors into new skills at valuable tasks that involve uncertainty and adaptation (as measured by generalization difficulty).</p> <p>There are some observations which result from the above formalism:</p> <ul> <li>A high intelligence system is one that can generate high-skill solution programs for high generalization difficulty tasks using little experience and priors.</li> <li>The measure of intelligence is tied to a choice of scope.</li> <li>Skill is not possessed by an intelligent system, it is a property of the output artifact of the process of intelligence (a skill program).</li> <li>A better curriculum space will lead to greater realized skill (on average) and to greater expressed intelligence (greater skill-acquisition efficiency).</li> </ul> <p></p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#practical-implications","title":"Practical Implications","text":"<p>This framework clearly separates the part of the system that possess intelligence ('intelligent system', a program-synthesis engine), from the part that achieves skill or implements behavior ('skill program', the non-intelligent output artifact of the process of intelligence), and places focus to the former.</p> <p>It also encourages interest in curriculum development, drawing attention to the fact that a better curriculum increases the intelligence manifested by a learning system.</p> <p>It suggests that in comparing AI and human-intelligence, we should seek to compare experience-efficiency in achieving specific levels of skill, controlling for the same scope of tasks and shared priors. Comparing maximum realized skill does not constitute an intelligence comparison.</p> <p>Finally, it shows the importance of taking into account generalization difficulty when developing a test set to evaluate a task, which should hopefully lead us to evaluation metrics that are able to discard solutions that rely on shortcuts that do not generalize (e.g. reliance on local textures as opposed to global semantics in computer vision).</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#what-to-expect-of-an-ideal-intelligence-benchmark","title":"What to expect of an ideal intelligence benchmark:","text":"<ul> <li>It should describe its scope of application (validity)</li> <li>It should be reliable (reproducible)</li> <li>It should not be solely measuring skill or potential (maximum achievable skill)</li> <li>It should not feature in its evaluation set any tasks that are known in advance</li> <li>It should seek to quantify the generalization difficulty it measures</li> <li>It should control for the amount of experience leveraged by test-taking systems during training</li> <li>It should explicitly and exhaustively describe the set of priors it assumes</li> <li>It should work for humans and machines, fairly, by only assuming the same priors as possessed by humans (e.g. Core Knowledge), and only requiring a human-sized amount of practice time or training data.</li> </ul>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#part-3-a-benchmark-proposal-the-arc-dataset","title":"Part 3: A benchmark proposal: the ARC dataset","text":"<p>Here, the Abstraction and Reasoning Corpus (ARC), resembling Raven's Progressive Matrices, is introduced, with the following goals:</p> <ul> <li>Stay close in format to psychometric intelligence tests so as to be approachable by both humans and machines; in particular it should be solvable by humans without any specific practice or training.</li> <li>Only featuring novel tasks in the evaluation set (assumed unknown to the developer of a test-taker).</li> <li>Focus on measuring a qualitatively \u201cbroad\u201d form of generalization, by featuring highly abstract tasks that must be understood by a test-taker using very few examples.</li> <li>Quantitatively control for experience by only providing a fixed amount of training data for each task and only featuring tasks that do not lend themselves well to artificially generating new data.</li> <li>Explicitly describe the complete set of priors it assumes, and enable a fair general intelligence comparison between humans and machines by only requiring priors close to innate human prior knowledge.</li> </ul> <p>The test-taker has access to the training examples for the task (both input and output grids), as well as the input grid of the test examples for the task. The test-taker must construct on its own the output grid corresponding to the input grid of each test example. For each task, 3 trials are allowed. The only feedback received after a trial is binary (correct or incorrect).</p> <p>All tasks are unique, and the set of test tasks and the set of training tasks are disjoint. It is not expected that practice on the training set would increase human performance on the test set.</p> <p>The priors assumed by ARC are as follows:</p> <ul> <li>Objectness priors</li> </ul> <p> </p> <ul> <li> <p>Goal-directedness</p> </li> <li> <p>Numbers and counting</p> </li> </ul> <p></p> <ul> <li>Basic geometry and topology</li> </ul> <p></p> <p>ARC is best perhaps understood as a Program Synthesis benchmark, a subfield of AI interested in the generation of programs that satisfy a high-level specification, often provided in the form of pairs of example inputs and outputs for the program.</p>","tags":["Philosophy"]},{"location":"blog-posts/2022-12-27-on-the-measure-of-intelligence/#conclusion","title":"Conclusion","text":"<p>The rate of progress in the field of AI continues to accelerate, and it is certain we will need clear definitions of intelligence, in order to be able to quantify our progress.</p>","tags":["Philosophy"]},{"location":"blog-posts/2023-01-11-self-hosted-vpn/","title":"Self Hosted VPN with Tailscale","text":"<p>Having your own VPN can be useful for bypassing geo-restrictions and censorship, as your IP address is that of the exit node. Your traffic is also encrypted and this protects you against sniffing attacks when using public WiFi.</p> <p>However most VPN services are paid. So if you have a physical server/VPS running somewhere, why not use that?</p> <p>Tailscale is an awesome open-source VPN service which lets you create a secure peer-to-peer network between your devices. It's built on the open-source Wireguard protocol which is faster than the IPsec and OpenVPN protocols.</p> <p>It turns out that Tailscale also allows you to redirect all traffic from your device to another device in your peer-to-peer network (an 'exit node'). This is what we will setup on Fedora, the distro I use for my server.</p>","tags":["Programming"]},{"location":"blog-posts/2023-01-11-self-hosted-vpn/#setting-up-a-tailscale-exit-node-on-fedora","title":"Setting up a Tailscale Exit Node on Fedora","text":"<p>To setup a Tailscale exit node, first ensure that you have Tailscale setup on both devices.</p> <p>Then, follow the instructions here.</p> <p>Notes</p> <p>On the exit node, you will need to run the following additional commands to add the <code>tailscale0</code> interface to the <code>trusted</code> group of <code>firewalld</code>:</p> <pre><code>sudo firewall-cmd --zone=trusted --change-interface=tailscale0 --permanent\nsudo systemctl restart tailscaled\n</code></pre> <p>This will prevent the firewall from blocking incoming connections from your devices.</p>","tags":["Programming"]},{"location":"blog-posts/2023-01-11-self-hosted-vpn/#using-the-exit-node","title":"Using the Exit Node","text":"<p>To use the exit node, do:</p> <pre><code>sudo tailscale up --exit-node=&lt;exit node ip&gt;\n</code></pre> <p>Optionally, to access devices on the LAN in the VPN (disabled by default): do:</p> <pre><code>sudo tailscale up --exit-node=&lt;exit node ip&gt; --exit-node-allow-lan-access=true\n</code></pre>","tags":["Programming"]},{"location":"blog-posts/2023-02-01-music-management/","title":"Music Management with Navidrome, DSub and Beets","text":"<p>Previously on Windows, I was using MediaMonkey to manage my music. It offered wireless syncing (over LAN) for the associated Android client, and worked well.</p> <p>When I switched to Linux, I had to look for a replacement. I wanted a solution that was free and open-source, could be self-hosted on a server, and supported features such as bookmarks, playlists and transcoding (for clients not supporting certain formats).</p> <p>After considering Airsonic, Funkwhale and Jellyfin, I settled upon Navidrome.</p>","tags":["Programming"]},{"location":"blog-posts/2023-02-01-music-management/#navidrome","title":"Navidrome","text":"<p>Navidrome is \"an open source web-based music collection server and streamer\", with support for on-the-fly transcoding<sup>1</sup> for devices which cannot play certain formats (e.g. FLAC). It is accessible via the web. It also has Subsonic API support, which lets it work with the large variety of Subsonic clients available across platforms.</p> <p>It also comes with a responsive, HTML5 web UI written as a progressive web app. Navidrome also keeps a record of play counts, recently played songs and also supports bookmarks, which is useful for audiobooks.</p> <p>Additionally, multiple users can share a single server and maintain their own playlists.</p>","tags":["Programming"]},{"location":"blog-posts/2023-02-01-music-management/#dsub","title":"DSub","text":"<p>DSub (available on the F-Droid store) is the best Subsonic Android client in my opinion. It is the only client I have found which supports all of:</p> <ul> <li>Playlist managment</li> <li>Caching of audio files for offline playback</li> <li>Bookmarks</li> </ul> <p>I cache songs in my playlists, which lets me listen to them when I don't have internet access.</p>","tags":["Programming"]},{"location":"blog-posts/2023-02-01-music-management/#beets","title":"Beets","text":"<p>I use the Beets CLI tool for tagging music and organizing. It supports fingerprinting audio files and looking up tag information from multiple sources.</p> <p>I currently run Beets with several plugins in Docker.</p>","tags":["Programming"]},{"location":"blog-posts/2023-02-01-music-management/#notes-regarding-playlist-sync","title":"Notes regarding playlist sync","text":"<p>At present, files which are renamed are removed from their playlists in Navidrome. This makes renaming/editing files with <code>beets</code> tricky, since there is nothing Navidrome can track to identify a file throughout renames/tag changes.</p> <p>Initially I thought of using flexible attributes (non-standard tags), however they are not written into file metadata (they are only stored in <code>beets</code>' library), and are therefore not visible in Navidrome.</p> <p>After exploring various options, here is a comparison between using different sources of truth for playlists:</p> Task Navidrome .m3u playlist files Tags + Smart Playlists (either Navidrome or in <code>beets</code>) File rename/metadata change Need to re-add those files to Navidrome's playlists if they were in any Navidrome should automatically sync updates to playlist files Navidrome updates automatically Adding/removing playlist items Can be done in Navidrome/clients Manually edit playlist file, cannot be done from Navidrome/clients Tags must be manually updated (via <code>beets</code>) Advantages Can use <code>ffmpeg -i &lt;filename&gt; hash -</code> to hash audio data (excluding metadata) <code>beets</code> can automatically update playlist files on library changeCan be version controlled Simple <p>I rejected the first option (using Navidrome as the source of truth) as identifying which of the modified files are in Navidrome's playlists is a time-consuming task.</p> <p>The decision between the second option (using playlist files) and the third option (using tags in files) came down to which method I preferred using to update playlist items: editing the playlist file, or editing file tags.</p> <p>I decided on the third option, using tags in files with Navidrome Smart Playlists for the following reasons:</p> <ul> <li>Smart Playlists in Navidrome are read-only, so there is no danger of accidentally editing the playlist in Navidrome, versus importing a playlist file</li> <li>Editing tags is more convenient, and allows querying all playlists a song is in/vice versa, versus maintaining a playlist file</li> </ul> <p>I use <code>beets</code><sup>2</sup> to modify the ID3 field <code>comments</code><sup>3</sup> to store the names of playlists the file is in: e.g.:</p> <pre><code>comments: toprated relaxing\n</code></pre> <p>Subsequently in Navidrome, I have a smart playlist for each playlist, e.g. for <code>Top Rated.nsp</code>:</p> <pre><code>{\n\"all\": [\n{\"contains\": {\"comment\": \"toprated\"}}\n]\n}\n</code></pre> <p>The playlists are then visible in Navidrome and automatically updated as new files are added.</p> <ol> <li> <p>Navidrome does not yet support per-format transcoding options (i.e. if you turn on transcoding for a client, Navidrome will transcode all files, irregardless of format, to the specified format. See this issue.\u00a0\u21a9</p> </li> <li> <p>You can use <code>beet info &lt;query&gt;</code> to output metadata which is stored in the file (as opposed to flexible attributes, which are stored in <code>beets</code>' database and not visible to Navidrome).\u00a0\u21a9</p> </li> <li> <p>Strangely, <code>beets</code> uses the field name <code>comments</code> to refer to the actual <code>comment</code> field (which is a canonical fieldname and which Navidrome uses). I haven't yet figured out the reason why.\u00a0\u21a9</p> </li> </ol>","tags":["Programming"]},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/","title":"Setting up the Mikrotik hAP ac\u00b2 with Singel Fibre","text":"<p>The Mikrotik family of routers are known for their extensive configurability, offering enterprise level features such as PoE, custom routes, VLANs and more. It runs a custom Linux distribution known as RouterOS which offers a WebGUI and terminal interface, as well as SSH.</p> <p>I wanted to replace my old Singtel WiFi Gigabit Router AC Elite, after it started intermittently dying.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#hardware-setup","title":"Hardware Setup","text":"<p>I got the Mikrotik hAP ac2 secondhand for $50. It runs the 4-core IPQ-4018 chip, and comes with 128MB of RAM. It also has dual-band WiFi, with the 5GHz band supporting a maximum transfer rate of 867 Mbit/s. The all-port benchmark for this router has it routing 1518-byte packets at 1973.4 Mbps, which is more than sufficient for my current Singtel 1Gbps plan.</p> <p></p> <p>For the Optical Network Terminal (ONT), I have an Alcatel-Lucent G-240G-C.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#singtel-vlan-tagging","title":"Singtel VLAN Tagging","text":"<p>Router setup is not so straightforward with Singtel Fibre, however, due to a 'feature' present called VLAN Tagging<sup>1</sup>.</p> <p>In short, packets exiting the ONT have a VLAN tag on them. In order to access the internet, the router connected to the ONT needs to remove or strip the VLAN tag. For that reason, a non-VLAN aware router connected to the ONT will not have internet access.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#setup","title":"Setup","text":""},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#1-connect-hardware","title":"1. Connect hardware","text":"<p>Begin by connecting port 1 of the Mikrotik router (interface <code>ether1</code>) to the LAN 2<sup>2</sup> of the ONT. Then, connect the rest of your PCs/switches to the other LAN ports on the Mikrotik router (interface <code>ether2</code> to <code>ether5</code>).</p> <p>Power on the ONT and Mikrotik router. Now, either connect your PC to the LAN, or the SSID emitted by the Mikrotik router (the name should be obvious).</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#2-access-console","title":"2. Access Console","text":"<p>From here, you have 2 ways of accessing the terminal interface.</p> <pre><code>- Option 1: Browse to `192.168.88.1`, click 'Ok' and then click on the 'Terminal' button.\n- Option 2: `ssh` to `admin@192.168.88.1`.\n\nYou can read more about the terminal commands [here][console].\n</code></pre> <p>Once you can access the terminal, run the following command:</p> <pre><code>[admin@MikroTik] &gt; interface/bridge/port print\n</code></pre> <p>We see that a bridge has been created between all the interfaces except <code>ether1</code>.</p> <pre><code>Flags: I - INACTIVE; H - HW-OFFLOAD\n\n#    INTERFACE  BRIDGE  HW   PVID  PRIORITY  PATH-COST  INTERNAL-PATH-COST  HORIZON\n;;; defconf\n0  H ether2     bridge  yes     1  0x80             10                  10  none\n;;; defconf\n1  H ether3     bridge  yes     1  0x80             10                  10  none\n;;; defconf\n2  H ether4     bridge  yes     1  0x80             10                  10  none\n;;; defconf\n3 IH ether5     bridge  yes     1  0x80             10                  10  none\n;;; defconf\n4 I  wlan1      bridge          1  0x80             10                  10  none\n;;; defconf\n5 I  wlan2      bridge          1  0x80             10                  10  none\n</code></pre>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#3-setup-vlan","title":"3. Setup VLAN","text":"<p>At this point, we do not have internet access yet. We will need to 'untag' the packets coming from the ONT.</p> <p>In order to tell the router to untag incoming packets from <code>ether1</code> (and automatically re-tag packets outgoing from <code>ether1</code>), we will need to create a VLAN on that interface. The VLAN ID for Singtel internet is <code>10</code>.</p> <p>Run the following command:</p> <pre><code>&gt; interface vlan add interface=ether1 vlan-id=10\n</code></pre>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#4-setup-dhcp-client-on-router","title":"4. Setup DHCP Client on router","text":"<p>Then, we need to tell our router to obtain its IP address from this VLAN, instead of directly from <code>ether1</code>:</p> <pre><code>&gt; ip dhcp-client set 0 interface=vlan1\n</code></pre> <p>We should now have an IP address assigned to us by the ONT:</p> <pre><code>&gt; ip dhcp-client print\n\n# INTERFACE  USE-PEER-DNS  ADD-DEFAULT-ROUTE  STATUS  ADDRESS\n0 vlan1      no            yes                bound   &lt;YOUR-IP-ADDRESS&gt;/24\n</code></pre> <p>At this point, the router itself has internet access (over <code>vlan1</code>).</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#5-setup-nat","title":"5. Setup NAT","text":"<p>Next, we need to tell the router to change the source IPs of outgoing packets to the router's own IP, so that the ONT and subsequent servers will be able to route the packet back to us (these servers can't see our internal addresses on the network, e.g. 192.168.x.x - they can only see our router's external address as above). This translation is known as Network Address Translation, of which there are 2 types - source (<code>srcnat</code>) and destination (<code>dstnat</code>), which apply to outgoing and incoming packets respectively.</p> <pre><code>&gt; ip firewall nat print\n\n0   chain=srcnat action=masquerade out-interface-list=WAN log=no log-prefix=\"\" ipsec-policy=out,none\n</code></pre> <p>The <code>masquerade</code> action is a special type of <code>srcnat</code> which sets the source IP to whatever the router's own IP happens to be at that point in time. This is useful when our router gets assigned IP addresses dynamically (most ISPs do this).</p> <p>We now tell the router to perform NAT on packets headed for the internet, by modifying the existing entry:</p> <pre><code>&gt; ip firewall nat set 0 out-interface=vlan1\n&gt; ip firewall nat unset 0 out-interface-list\n</code></pre> <p>To complete the NAT hairpin setup and maintain SSH access internally on the LAN, run the following:</p> <pre><code># This enables hairpinning\n&gt; ip firewall nat add chain=srcnat action=masquerade src-address=192.168.88.0/24 dst-address=192.168.88.0/24\n\n# This allows clients on the LAN to still be able to SSH to the router\n&gt; ip firewall nat add chain=dstnat to-addresses=192.168.88.1 to-ports=22 protocol=tcp dst-address=192.168.88.1 dst-port=22\n</code></pre> <p>At this juncture, your device should have internet access.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#changing-default-gateway-address","title":"Changing default gateway address","text":"<pre><code>&gt; ip address add address=192.168.1.1/24 interface=bridge\n&gt; ip dhcp-server remove 0\n&gt; ip dhcp-server setup\n</code></pre>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#setup-static-dhcp-leases","title":"Setup Static DHCP Leases","text":"<p>This can be done conveniently via the WebGUI, or the terminal.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#setup-port-forwarding","title":"Setup Port Forwarding","text":"<p>This can be done with <code>dstnat</code> rules, as follows:</p> <pre><code>&gt; ip firewall nat add chain=dstnat action=dst-nat to-addresses=&lt;LOCAL-ADDRESS&gt; to-ports=&lt;LOCAL-PORT&gt; protocol=tcp dst-address-type=local dst-port=&lt;PUBLIC-PORT&gt;\n</code></pre> <p>This rule will forward packets incoming on <code>PUBLIC-PORT</code> and send them to <code>LOCAL-ADDRESS:LOCAL-PORT</code>.</p> <p>Additionally, the inclusion of <code>dst-address-type=local</code> allows devices within the LAN to access the public URL of a port-forwarded device on the same LAN (also known as hairpin NAT).</p> <p>Either <code>dst-address-type</code> or <code>dst-address</code> must be set, otherwise all traffic bound for <code>PUBLIC-PORT</code>, even locally, will be routed to <code>LOCAL-ADDRESS</code>.</p>"},{"location":"blog-posts/2023-06-24-mikrotik-singtel-setup/#setup-dns-over-http-doh","title":"Setup DNS-over-HTTP (DoH)","text":"<p>DoH is a more secure form of DNS, which cryptographically verifies responses from the server. You can set it up on the router by following this guide for Cloudflare's 1.1.1.1 service.</p> <p>After you have set it up, you can test whether it is working here.</p> <p>Note: if you receive <code>certificate is not yet valid</code> errors after configuring DoH, you may need to setup the NTP client on the router to fetch the correct time as follows:</p> <pre><code>&gt; system ntp client set enabled=yes\n&gt; system ntp client servers add address=pool.ntp.org\n</code></pre> <ol> <li> <p>Singtel used to have a 'Unlimited Fibre Plan'. That plan did not use VLAN tagging, and you could connect any router to the ONT. However, subsequent plans, such as the '1Gbps Fibre Home Bundle with Telephone Line', have reverted back to using VLAN tagging.\u00a0\u21a9</p> </li> <li> <p>LAN 1 may also work.\u00a0\u21a9</p> </li> </ol>"},{"location":"blog-posts/2023-07-10-camping-gear/","title":"Camping Gear and Lifestyle","text":"<p>My current camping gear, comments on it, and my routine while camping.</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#camping-gear","title":"Camping Gear","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#outershell-pants","title":"Outershell pants","text":"<p>Marmot precip pants</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#outershell-jacket","title":"Outershell jacket","text":"<p>The one Chanel bought for me</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#trekking-shoes","title":"Trekking shoes","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#tent","title":"Tent","text":"<p>Naturehike cloudup 2</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#foldable-chair","title":"Foldable chair","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#backpack","title":"Backpack","text":"<p>Osprey Volt 75</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#fleece","title":"Fleece","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#down-jacket","title":"Down jacket","text":"<p>Big agnes</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#socks","title":"Socks","text":"<p>Wool</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#gloves","title":"Gloves","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#stove","title":"Stove","text":"<p>AOTU Portable Stove, 110g.</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#pot-and-utensils","title":"Pot and Utensils","text":"<p>Mountain Hiking 1.6L 2 People Stainless Steel Camping Cookset MH100</p>"},{"location":"blog-posts/2023-07-10-camping-gear/#camping-lifestyle","title":"Camping Lifestyle","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#brushing-teeth","title":"Brushing Teeth","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#washing-pots","title":"Washing Pots","text":""},{"location":"blog-posts/2023-07-10-camping-gear/#body-hygiene","title":"Body Hygiene","text":""},{"location":"blog-posts/2023-07-19-attractiveness/","title":"On Attractiveness","text":"<p>Recently, in my country, there has been a spate of politicians getting involved in extramarital affairs. This got me thinking more deeply about how we rate other people in terms of attractiveness, and whether a total order of the individual's ranking exists.</p> <p>In mathematics, a total order describes a set \\(S\\) of elements which fulfill the following properties for all \\(a\\), \\(b\\) and \\(c\\) in \\(S\\):</p> <ol> <li>\\(a \\le a\\) (reflexivity)</li> <li>If \\(a \\le b\\) and \\(b \\le c\\) then \\(a \\le c\\) (transitivity)</li> <li>If \\(a \\le b\\) and \\(b \\le a\\) then \\(a = b\\) (antisymmetry)</li> <li>Either \\(a \\le b\\) or \\(b = a\\) (strongly connectedness)</li> </ol> <p>For the purposes of this article, I am referring to our ranking of other people, and not the global/societal ranking, as the latter may not even exist (people have different preferences, so there is no global order).</p> <p>In this article, I put forward the idea that our subjective ranking of other people might actually lack items 2 (transitivity) and 4 (strongly connectedness).</p>"},{"location":"blog-posts/2023-07-19-attractiveness/#transitivity","title":"Transitivity","text":"<p>If Person A is more attractive than Person B, and Person B is more attractive than Person C, then mathematically speaking, Person A should be more attractive than Person C.</p> <p>This is a big assumption we take for granted, however.</p> <p>Suppose you give each person a set of properties \\(P\\), and a score \\(s_i\\), where \\(0 \\le s_i \\le 1\\), associated with each property \\(P_1 \\dots P_n\\). The total score for that person may be taken as:</p> \\[ \\sum_{i=1}^n s_i \\] <p>Suppose further that you value some properties more than others. You therefore assign each property \\(P_i\\) a weight \\(w_i\\), where \\(0 \\le w_i \\le 1\\). The total score for that person now becomes:</p> \\[ \\sum_{i=1}^n s_i \\cdot w_i \\] <p>Everything is great! You can now rank individual attractiveness on a linear scale.</p> <p>This however, depends on the following assumptions, which are not always true:</p> <ul> <li>The weights \\(w_i\\) we assign to each property, are the same from person to person.</li> <li>Certain properties are correlated, and the score of a property can actually influence the weight of that or other properties. For example, if you like music, you may give a professional pianist a higher weight in \\(P_{music}\\).</li> <li>People actually (consciously or not) rate other people using such a model.</li> </ul> <p>If any of these assumptions don't hold, then the property of transitivity may not hold.</p>"},{"location":"blog-posts/2023-07-19-attractiveness/#strongly-connectedness","title":"Strongly Connectedness","text":"<p>The principle of strong connectedness states that for any two elements, either one is greater than or equal to the other, or they are equal. This suggests a clearly defined hierarchy of attractiveness. Mathematically, for persons A and B, either of the following must be true:</p> \\[ \\begin{equation*} A \\le B \\quad {or} \\quad A = B \\end{equation*} \\] <p>However, attractiveness may more closely resembles a partial order - an ordering where it is not always possible to compare two elements.</p> <p>Take for example, Person A, who scores \\(0.80\\), and Person B, who scores \\(0.79\\). Is Person B really ranked lower than Person A? Depending on your mood, and various other factors, they could rank equal or even higher than Person A.</p> <p>So strongly connectedness may not even hold!</p>"},{"location":"blog-posts/2023-07-19-attractiveness/#conclusion","title":"Conclusion","text":"<p>Taking the above into consideration, a total order may not exist for an individual's ranking of attractiveness. This means that trying to find the 'most attractive' person could be a futile goal - without a total order, such a task is impossible!</p>"},{"location":"blog-posts/2023-08-30-video-archiving-ffmpeg/","title":"Video Archiving with FFmpeg","text":"<p>I keep most of my photos and videos on Photoprism, a great open-source Google Photos alternative with features like facial recognition and viewing photos by location.</p> <p>I also have a cheap action camera, the Apeman Trawo A100, which supports recording video at 4K 50fps. However, the generated files are extremely large (with bitrates of 50,000kbps, so 1min of video is around ~500MB).</p> <p>I needed a solution to compress my video files as much as possible, while still preserving (most) of the quality.</p>"},{"location":"blog-posts/2023-08-30-video-archiving-ffmpeg/#av1","title":"AV1","text":"<p>Luckily, there exists the AV1 video codec, which is supported by Chrome desktop/mobile and Firefox (at the time of this writing). The AV1 codec is advertised as the open (and royalty-free) equivalent of the H.265 codec, a proprietary codec designed as the successor to the H.264 (AVC) codec which is used widely.</p> <p>AV1 is at least as good, and as fast, or even faster, than H.265 (and therefore H.264). For example, compared to x265<sup>1</sup> , SVT-AV1<sup>2</sup> is better or equivalent (as measured by VMAF, a new video quality benchmark from Netflix).</p>"},{"location":"blog-posts/2023-08-30-video-archiving-ffmpeg/#ffmpeg","title":"FFmpeg","text":"<p>FFmpeg is a popular, open source suite of libraries and programs for working with multimedia files. FFmpeg supports encoding AV1 via several encoders: <code>libaom</code> (the reference encoder), SVT-AV1 and <code>rav1e</code>. SVT-AV1 <code>1.7.0</code> improves encoding speed by up to 50% for several presets, and as of the time of this writing, it is probably the best encoder to use.</p> <p>To use <code>ffmpeg</code> to transcode by videos, I use the following command:</p> <pre><code>ffmpeg -i input-file -c:a copy -c:v libsvtav1 -crf 47 -preset 6 -vf scale=out_range=pc -map_metadata 0 output-file\n</code></pre> <p>Explanation of parameters:</p> <ul> <li><code>crf 47</code>: This sets the quality level for each frame, with lower values indicating higher quality and larger file size. The default is 50.</li> <li><code>preset 8</code>: Presets control how many efficiency features are used during the encoding process, with lower presets using more features and being smaller but slower. Presets range from 0 - 12, and the default is 8. Home enthusiasts generally use values between 4 - 6.</li> <li><code>vf scale=out_range=pc</code>: The Apeman A100 uses the <code>yuvj420</code> pixel format, which is deprecated, resulting in washed out contrast when playing on a non-aware video player (e.g. VLC). This fixes that issue.</li> <li><code>map_metadata 0</code>: Some encoders store video metadata such as <code>creation_time</code>, and this preserves it in the output.</li> </ul>"},{"location":"blog-posts/2023-08-30-video-archiving-ffmpeg/#results","title":"Results","text":"<p>After using the parameters above, my library of 4K videos was compressed from 24GB to 3.7GB (a 15x reduction).</p> <ol> <li> <p>A popular open source H.265 encoder.\u00a0\u21a9</p> </li> <li> <p>An open source AV1 encoder.\u00a0\u21a9</p> </li> </ol>"},{"location":"blog-posts/2023-09-11-best-way-cook-beans/","title":"The Best Way to Cook Beans","text":"<p>Beans (also known as legumes) are an excellent source of protein and fibre, and are also one of the lowest GI (glycemic index) foods available. They are also relatively cheap.</p> <p>However, legumes contain sugars known as galactooligosaccharides (GOS) which are non-digestible, and hence ferment in the gut. While they have benefits, such as being a prebiotic (stimulating the growth of healthy bacteria in the gut), the fermentation process can cause gassiness, bloating, flatulence and even nausea.</p> <p>Furthermore, beans also contain compounds known as antinutrients, which prevent uptake of minerals and even protein. These include tannins, phytic acid and lectins. Some substances, such as the lectin phytohaemagglutinin, are even toxic.</p> <p>Of note, there are also the following methods which while not described in the literature, I believe to have an effect:</p> <ul> <li>Discarding cooking water after cooking (i.e. you must have used sufficient water to cook, more than the beans would absorb)</li> <li>Rinsing the beans again after cooking</li> <li>Combining the above</li> </ul>"},{"location":"blog-posts/2023-09-11-best-way-cook-beans/#reducing-gos","title":"Reducing GOS","text":"<p>Percentages represent decrease compared to control.<sup>3</sup></p> Method Raw Cooked Autoclaved Unsoaked Control 40-45% 65-71% Soaking 12H, water 40-45% 60-66% 74-77% Soaking 12H, baking soda 43-48% 61-67% 77-80% Sprouting 24H 41-51% - 62-83% Sprouting 48H 80-88% - 83-93% Sprouting 72H or more 100% - 100% <p>Notes:</p> <ul> <li>Unless otherwise specified, cooking and autoclaving were done in water, and soaking water was discarded.</li> <li>Autoclaving (121C, 15psi/103kPa) can be replicated at home with the use of a pressure cooker.</li> <li>Unsoaked and cooking in baking soda is generally more effective than with plain water, but the exact amount varies depending on type of bean<sup>2</sup>, with some beans actually worse off with baking soda.</li> <li>Soaking for 12H is more efective than 6H<sup>1</sup>. 12H appears to be the point beyond which additional soaking will not improve GOS/antinutrient loss significantly<sup>6</sup>. Soaking also appears to increase the soluble fibre content slightly, with no change in insoluble fibre content<sup>6</sup>.</li> <li>Soaking in alkaline medium (e.g. baking soda), as compared to water, may cause a destruction of certain B vitamins<sup>3</sup>.</li> </ul>"},{"location":"blog-posts/2023-09-11-best-way-cook-beans/#reducing-antinutrients","title":"Reducing Antinutrients","text":"<p>Antinutrients can be classified broadly into two types, heat-stable and heat-sensitive. Heat-stable antinutrients are not easily destroyed with heat, but decrease with sprouting. Heat-sensitive antinutrients are destroyed with heat.</p> <p>Examples of heat-stable antinutrients include tannins (decreases iron absorption) and phytic acid (decrease absorption of iron, zinc, magnesium and calcium).</p> <p>Examples of heat-sensitive antinutrients include lectins (which interfere with absorption of calcium, iron, phosphorus and zinc), and saponins (which interfere with normal nutrient absorption).</p> <p>Heat-stable antinutrients were best removed by a combination of soaking and cooking/autoclaving (60+%) <sup>3</sup>, or sprouting &gt; 24hr (87-100%).</p> <p>Heat-sensitive antinutrients were not significantly reduced by sprouting, but were removed almost totally by soaking and cooking/autoclaving.</p> <p>In both cases, autoclaving was more effective than cooking.</p>"},{"location":"blog-posts/2023-09-11-best-way-cook-beans/#cooking-withwithout-discarding-soaking-water","title":"Cooking with/without discarding soaking water","text":"<p>Tables from this paper<sup>4</sup>.</p> ANTINUTRIENTS RESULT OF DISCARDING SOAKING WATER Phytates and phytic acid Desirable and greater loss Total phenolic compounds Desirable and greater loss, most lost by cooking Tannins Desirable and greater loss, most lost by cooking Oligosaccharides Desirable and greater loss NUTRIENTS RESULT OF DISCARDING SOAKING WATER Proteins and respective digestibility Varied among studies. No influence. Ashes, loss of solids, minerals and bioavailability Greater loss, but mineral bioavailability increases Carbohydrates Varied among studies, does not decrease resistant starch content Fibres Varied among studies. Reduces substances causing flatulence."},{"location":"blog-posts/2023-09-11-best-way-cook-beans/#conclusion","title":"Conclusion","text":"<p>Applying heat is the best way to remove heat-sensitive antinutrients, while sprouting was the best way to remove GOS and heat-stable antinutrients.</p> <p>Therefore, the best method, taking into account time considerations, would be to soak the beans for 24-48 hours (with not much more benefit over 48 hours), and subsequently autoclaving.</p> <p>The second best method would be to soak the beans in water and then autoclave them, although this would result in slightly higher levels of GOS and antinutrients.</p> <ol> <li> <p>Jood, S., Mehta, U., Singh, R., &amp; Bhat, C. M. (1985). Effect of processing on flatus-producing factors in legumes. Journal of Agricultural and Food Chemistry, 33(2), 268-271. \u21a9</p> </li> <li> <p>Oboh, H. A., Muzquiz, M., Burbano, C., Cuadrado, C., Pedrosa, M. M., Ayet, G., &amp; Osagie, A. U. (2000). Effect of soaking, cooking and germination on the oligosaccharide content of selected Nigerian legume seeds. Plant Foods for Human Nutrition, 55, 97-110. \u21a9</p> </li> <li> <p>Shimelis, E. A., &amp; Rakshit, S. K. (2007). Effect of processing on antinutrients and in vitro protein digestibility of kidney bean (Phaseolus vulgaris L.) varieties grown in East Africa. Food chemistry, 103(1), 161-172. \u21a9\u21a9\u21a9</p> </li> <li> <p>Fernandes, A. C., Nishida, W., &amp; da Costa Proen\u00e7a, R. P. (2010). Influence of soaking on the nutritional quality of common beans (Phaseolus vulgaris L.) cooked with or without the soaking water: a review. International journal of food science &amp; technology, 45(11), 2209-2218. \u21a9</p> </li> <li> <p>Kalpanadevi, V., &amp; Mohan, V. R. (2013). Effect of processing on antinutrients and in vitro protein digestibility of the underutilized legume, Vigna unguiculata (L.) Walp subsp. unguiculata. LWT-Food Science and Technology, 51(2), 455-461. \u21a9</p> </li> <li> <p>Njoumi, S., Josephe Amiot, M., Rochette, I., Bellagha, S., &amp; Mouquet-Rivier, C. (2019). Soaking and cooking modify the alpha-galacto-oligosaccharide and dietary fibre content in five Mediterranean legumes. International Journal of Food Sciences and Nutrition, 70(5), 551-561. \u21a9\u21a9</p> </li> </ol>"},{"location":"blog-posts/2023-09-17-yjs-vs-databases/","title":"Yjs vs Traditional Databases","text":"<p>Yjs is a conflict-free, replicated data type, which allows for distributed, collaborative editing and offline synchronization, with automatic conflict resolution.</p> <p>It can also be used as a database backend.</p> <p>Recently, I was deciding between Yjs and the Prisma + tRPC + SQLite combination. As it was a small todo-style app, I settled on Yjs.</p> <p>Here are the factors I considered for this decision.</p> YJS tRPC + Prisma + SQLite Initial Load Fast, as client has copy of entire DB and only updates are synced Slow, as entire DB needs to be sent over. Fast, if paginated. Concurrent edits Supported Not supported Full-text Search Yes, client-side If paginated, server-side (requires PostgresQL). Otherwise, client-side. Auth Supported Supported Offline Sync Yes, with PWA No Enforcing Relations Difficult (e.g. two users, one deletes the parent, the other deletes the child, and they sync) Yes Enforcing Schema Client-side Server-side Best use cases Small databases Large databases"},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#cooking","title":"Cooking","text":"<ul> <li>Making Stevia Powder</li> <li>Crispy Pork Belly Recipe</li> <li>Apple Chips Recipe</li> <li>My Diet</li> <li>Nutrition and Health</li> </ul>"},{"location":"tags/#finance","title":"Finance","text":"<ul> <li>Finance Booklist</li> <li>Getting Started with Investing</li> <li>Asset Allocation</li> <li>My Investment Portfolio</li> <li>Calculating Return</li> <li>The Best Index Fund</li> <li>To Endowus, Or Not?</li> <li>My Endowus Portfolio</li> </ul>"},{"location":"tags/#insurance","title":"Insurance","text":"<ul> <li>Life Insurance</li> <li>GE TotalCare Rider Comparison</li> <li>Comparison of ISP Riders</li> </ul>"},{"location":"tags/#philosophy","title":"Philosophy","text":"<ul> <li>Deep Work</li> <li>Determinism and Stoicism</li> <li>On Happiness</li> <li>Artificial Intelligence, Language Models and Understanding</li> <li>My Experience at a 10 Day Meditation Retreat</li> <li>Is This World Real? On Realism</li> <li>On The Measure of Intelligence</li> </ul>"},{"location":"tags/#programming","title":"Programming","text":"<ul> <li>Cloudflare and Github Pages</li> <li>Python Package Management on Windows</li> <li>useLayoutEffect</li> <li>Cracking PDF Hashes with hashcat</li> <li>Developing in WSL Containers</li> <li>npm update Behavior</li> <li>SSH with Certificates</li> <li>VSCode Remote Containers over SSH</li> <li>Dualbooting Fedora 35 with Win 11</li> <li>My Computing Philosophy</li> <li>Best Practices for Debugging Service Workers</li> <li>Artificial Intelligence, Language Models and Understanding</li> <li>Note-Taking</li> <li>My Self-Hosting Journey</li> <li>Docker GPU Access in Fedora</li> <li>Windows 11 Gaming VM with GPU Passthrough on Fedora 36</li> <li>Android VM in a Browser</li> <li>PhotoPrism: A Google Photos Replacement</li> <li>Self Hosted VPN with Tailscale</li> <li>Music Management with Navidrome and DSub</li> </ul>"}]}